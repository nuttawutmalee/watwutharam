webpackJsonp([3],{1003:function(t,a,e){"use strict";var s=e(4),r=e(90),n=e(422),i=e(2),o=e(26),l=e(1004),c=e(983),d=e(421),m=e(973),p=e(972);e.d(a,"a",(function(){return u}));var u=(function(){function t(){}return t.routes=l.a,t=s.b([e.i(i.z)({declarations:[c.a,m.a,p.a],imports:[r.e,n.a,d.a,o.a.forChild(l.a)]})],t)})()},1004:function(t,a,e){"use strict";var s=e(983),r=e(973);e.d(a,"a",(function(){return n}));var n=[{path:"",component:s.a,children:[{path:"",component:r.a}]}]},1011:function(t,a){t.exports='<div class="form-wrapper">\r\n\t<div class="tab-bar-wrapper" *ngIf="_dialogMode == \'UPDATE\'">\r\n\t\t<span class="tab-button" [ngClass]="{ \'active\': _currentEditTab == \'DATA\' }" (click)="changeTab(\'DATA\')">{{ \'common.edit_user_data\' | translate }}</span>\r\n\t\t<span class="tab-button" [ngClass]="{ \'active\': _currentEditTab == \'PASSWORD\' }" (click)="changeTab(\'PASSWORD\')">{{ \'common.edit_password\' | translate }}</span>\r\n\t</div>\r\n\t<div class="tab-container" *ngIf="_currentEditTab == \'DATA\'">\r\n\t\t<form #userForm="ngForm" novalidate (ngSubmit)="onSubmit()">\r\n\t\t\t<div class="row">\r\n\t\t\t\t<div class="col-12" *ngIf="_dialogMode == \'CREATE\'">\r\n\t\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': _emailErr || (userEmail.errors && (userEmail.dirty || userEmail.touched)) }">\r\n\t\t\t\t\t\t<label for="txtUsername" class="required">{{ \'form.user.email\' | translate }}</label>\r\n\r\n\t\t\t\t\t\t<input type="email" [(ngModel)]="_obj.email" \r\n\t\t\t\t\t\t\tclass="form-control" id="txtUsername" \r\n\t\t\t\t\t\t\t[ngClass]="{ \'icon-input\': _checkingEmail || _emailOk || _emailErr }"\r\n\t\t\t\t\t\t\tplaceholder="{{ \'form.user.email\' | translate }}" \t\t\t\t\t\r\n\t\t\t\t\t\t\tname="user_email" #userEmail="ngModel" required minlength="5"\r\n\t\t\t\t\t\t\t(blur)="checkUserEmail($event, userEmail.errors)" [disabled]="_checkingEmail" />\r\n\r\n\t\t\t\t\t\t<span class="input-loader icon-for-input" input-loader [size]="\'24px\'" *ngIf="_checkingEmail"></span>\r\n\t\t\t\t\t\t<span class="icon-for-input icon-success" *ngIf="!_checkingEmail && _emailOk" bs-plugin [pluginList]="\'tooltip\'" [attr.title]="\'form.user.valid_email\' | translate">\r\n\t\t\t\t\t\t\t<i class="material-icons">done</i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span class="icon-for-input icon-error" *ngIf="!_checkingEmail && _emailErr" bs-plugin [pluginList]="\'tooltip\'" [attr.title]="\'form.user.invalid_email\' | translate">\r\n\t\t\t\t\t\t\t<i class="material-icons">info</i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<small class="text-muted">{{ \'common.email_tip\' | translate }}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12" *ngIf="_dialogMode == \'UPDATE\'">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label for="txtUsername">{{ \'form.user.email\' | translate }}</label>\r\n\t\t\t\t\t\t<input type="email" [(ngModel)]="_obj.email" \r\n\t\t\t\t\t\t\tclass="form-control" id="txtUsername" name="user_email" readonly />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': fullname.errors && (fullname.dirty || fullname.touched) }">\r\n\t\t\t\t\t\t<label for="txtFullname" class="required">{{ \'form.user.name\' | translate }}</label>\r\n\t\t\t\t\t\t<input type="text" [(ngModel)]="_obj.name" class="form-control" id="txtFullname" placeholder="{{\'form.user.name\' | translate }}"\r\n\t\t\t\t\t\t\tname="name" #fullname="ngModel" required minlength="3" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12" *ngIf="_dialogMode == \'CREATE\'">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<div class="row no-gutters">\r\n\t\t\t\t\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom" [ngClass]="{ \'has-danger\': password.errors && (password.dirty || password.touched) }">\r\n\t\t\t\t\t\t\t\t\t<label for="txtPassword" class="required">{{ \'form.user.password\' | translate }}</label>\r\n\t\t\t\t\t\t\t\t\t<input type="password" [(ngModel)]="_obj.password" class="form-control" id="txtPassword" placeholder="{{\'form.user.password\' | translate }}" name="password" #password="ngModel" required (keyup)="checkPasswordStr($event)" (blur)="checkConfirmPassword()" />\r\n\t\t\t\t\t\t\t\t\t<div class="password-strength-bar" [hidden]="!_obj.password" [ngClass]="{ \'weak-str\': _passwordStrengthLevel === 0, \'med-str\': _passwordStrengthLevel === 1, \'good-str\': _passwordStrengthLevel === 2 }">\r\n\t\t\t\t\t\t\t\t\t\t<span class="color-bar">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class="inner-bar"></span>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<span class="text-block" *ngIf="_passwordStrengthLevel === 0">{{ \'common.weak_password\' | translate }}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span class="text-block" *ngIf="_passwordStrengthLevel === 1">{{ \'common.med_password\' | translate }}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span class="text-block" *ngIf="_passwordStrengthLevel === 2">{{ \'common.str_password\' | translate }}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="col-12">\r\n\t\t\t\t\t\t\t\t<small class="text-muted">{{ \'common.password_tip\' | translate }}</small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12 col-md-8" *ngIf="_dialogMode == \'CREATE\'">\r\n\t\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': _confPassErr }">\r\n\t\t\t\t\t\t<label for="txtCfmPassword" class="required">{{ \'form.user.confirm_password\' | translate }}</label>\r\n\t\t\t\t\t\t<input type="password" [(ngModel)]="_obj.confirm_password" class="form-control" id="txtCfmPassword" placeholder="{{\'form.user.confirm_password\' | translate }}" name="confirm_password" #confirmPassword="ngModel" (blur)="checkConfirmPassword()" />\r\n\t\t\t\t\t\t<small [hidden]="!_confPassErr">{{ \'message.confirm_password_error\' | translate }}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12 col-md-8" *ngIf="isDeveloper">\r\n\t\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': roleList.errors && (roleList.dirty || roleList.touched) }">\r\n\t\t\t\t\t\t<label>{{ \'form.user.role\' | translate }}</label>\r\n\t\t\t\t\t\t<select class="form-control" name="role" [(ngModel)]="_obj.role_id" required #roleList="ngModel">\r\n\t\t\t\t\t\t\t<option *ngFor="let item of _roleList" [ngValue]="item.id">{{ item.name | translate }}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<small class="text-muted">{{ \'form.user.role_tip\' | translate }}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12 col-md-6" *ngIf="isDeveloper">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label for="chkActive">{{ \'form.property.active_status\' | translate }}</label>\r\n\t\t\t\t\t\t<input type="checkbox" id="chkActive" name="active" \r\n\t\t\t\t\t\t\tclass="inline-block"\r\n\t\t\t\t\t\t\tmd-toggle [(ngModel)]="_obj.is_active"\r\n\t\t\t\t\t\t\t[initModel]="_obj.is_active"\r\n\t\t\t\t\t\t\t[checkedLabelText]="\'common.active\'"\r\n\t\t\t\t\t\t\t[uncheckedLabelText]="\'common.inactive\'"\r\n\t\t\t\t\t\t\t[labelPosition]="\'right\'" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="button-panel clearfix">\t\t\t\r\n\t\t\t\t<button type="button" class="btn btn-secondary" ripple (click)="cancelProcess(userForm)">\r\n\t\t\t\t\t<i class="material-icons">clear</i><span>{{ \'common.cancel\' | translate }}</span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type="submit" class="btn btn-primary" ripple [disabled]="!userForm.form.valid || _checkingEmail || _submitting || (_dialogMode == \'CREATE\' && !_emailOk) || _confPassErr">\r\n\t\t\t\t\t<i class="material-icons">save</i><span>{{ \'common.save\' | translate }}</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n\t<div class="tab-container" *ngIf="_dialogMode == \'UPDATE\' && _currentEditTab == \'PASSWORD\'">\r\n\t\t<form #changePassForm="ngForm" novalidate (ngSubmit)="changePassword()">\r\n\t\t\t<div class="row">\r\n\t\t\t\t<div class="col-12">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<div class="row no-gutters">\r\n\t\t\t\t\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom" [ngClass]="{ \'has-danger\': password.errors && (password.dirty || password.touched) }">\r\n\t\t\t\t\t\t\t\t\t<label for="txtPassword" class="required">{{ \'form.user.password\' | translate }}</label>\r\n\t\t\t\t\t\t\t\t\t<input type="password" [(ngModel)]="_obj.password" class="form-control" id="txtPassword" placeholder="{{\'form.user.password\' | translate }}" name="password" #password="ngModel" required (keyup)="checkPasswordStr($event)" (blur)="checkConfirmPassword()" />\r\n\t\t\t\t\t\t\t\t\t<div class="password-strength-bar" [hidden]="!_obj.password" [ngClass]="{ \'weak-str\': _passwordStrengthLevel === 0, \'med-str\': _passwordStrengthLevel === 1, \'good-str\': _passwordStrengthLevel === 2 }">\r\n\t\t\t\t\t\t\t\t\t\t<span class="color-bar">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class="inner-bar"></span>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<span class="text-block" *ngIf="_passwordStrengthLevel === 0">{{ \'common.weak_password\' | translate }}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span class="text-block" *ngIf="_passwordStrengthLevel === 1">{{ \'common.med_password\' | translate }}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span class="text-block" *ngIf="_passwordStrengthLevel === 2">{{ \'common.str_password\' | translate }}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="col-12">\r\n\t\t\t\t\t\t\t\t<small class="text-muted">{{ \'common.password_tip\' | translate }}</small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': _confPassErr }">\r\n\t\t\t\t\t\t<label for="txtCfmPassword" class="required">{{ \'form.user.confirm_password\' | translate }}</label>\r\n\t\t\t\t\t\t<input type="password" [(ngModel)]="_obj.confirm_password" class="form-control" id="txtCfmPassword" placeholder="{{\'form.user.confirm_password\' | translate }}" name="confirm_password" #confirmPassword="ngModel" (blur)="checkConfirmPassword()" required />\r\n\t\t\t\t\t\t<small [hidden]="!_confPassErr">{{ \'message.confirm_password_error\' | translate }}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="button-panel clearfix">\t\t\t\r\n\t\t\t\t<button type="button" class="btn btn-secondary" ripple (click)="cancelProcess(changePassForm)" [disabled]="_submitting">\r\n\t\t\t\t\t<i class="material-icons">clear</i><span>{{ \'common.cancel\' | translate }}</span>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<button type="submit" class="btn btn-primary" ripple [disabled]="!changePassForm.form.valid || _submitting || _chngPassConfErr">\r\n\t\t\t\t\t<i class="material-icons">save</i><span>{{ \'common.save\' | translate }}</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n\t\r\n\t<div class="form-busy-layer" [ngClass]="{ \'working\': _submitting }" >\r\n\t\t<span input-loader [size]="\'32px\'"></span>\r\n\t</div>\r\n</div>'},950:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(1003);e.d(a,"UsersModule",(function(){return s.a}))},951:function(t,a,e){"use strict";var s=e(19),r=e(26),n=e(12),i=e(35);e.d(a,"a",(function(){return o}));var o=(function(){function t(t){this._inj=t,this._pageTitle="",this._siteList=[],this._reqSvc=this._inj.get(s.a),this._router=this._inj.get(r.c),this._cmn=this._inj.get(n.a),this._dlg=this._inj.get(i.a)}return t.prototype.ngOnInit=function(){this._cmn.setInfo({navList:[]})},t.prototype.ngOnDestroy=function(){},t})()},952:function(t,a){t.exports='<div class="cmp-container">\r\n\t<router-outlet></router-outlet>\r\n</div>\r\n'},972:function(t,a,e){"use strict";var s=e(4),r=e(2),n=e(36),i=e(16),o=e(19),l=e(9),c=e(29);e.d(a,"a",(function(){return d}));var d=(function(t){function a(a,e,s){var r=t.call(this,a)||this;return r._reqSvc=e,r._sncBar=s,r._checkingEmail=!1,r._emailOk=!1,r._emailErr=!1,r._confPassErr=!1,r._chngPassConfErr=!1,r._submitting=!1,r._dialogMode="",r._lastEmail="",r._passwordStrengthLevel=0,r.isDeveloper=!1,r._obj={email:"",name:"",password:"",confirm_password:"",role_id:"",is_active:!0},r._passObj={old_assword:"",password:"",confirm_password:""},r._roleList=[],r._userLevel=[],r._currentEditTab="DATA",r}return s.a(a,t),a.prototype.ngOnInit=function(){var t=this;this._dialogMode=this.dialogData.id?l.j.UPDATE:l.j.CREATE,this.dialogData.roleList&&setTimeout((function(){t._roleList=t.dialogData.roleList,t.dialogData.userLevel&&(t._userLevel=Object.assign([],t.dialogData.userLevel),t._userLevel.indexOf("DEVELOPER")<0?t._roleList=t.dialogData.roleList.filter((function(t){return["developer","administrator"].indexOf(t.name.toLowerCase())<0})):t.isDeveloper=!0),t._roleList.length>0&&(t._obj.role_id=t._roleList[0].id),t.dialogData.selectedData&&(t._obj=Object.assign({},t._obj,t.dialogData.selectedData))}),1)},a.prototype.onSubmit=function(){var t=this,a=this.dialogData.id?l.j.UPDATE:l.j.CREATE,e=a===l.j.CREATE?i.a.url.user.register:i.a.url.user.update,s={},r={message:"message.user_data_saved",type:l.k.SUCCESS};a===l.j.CREATE?s={name:this._obj.name,email:this._obj.email,password:this._obj.password,role_id:this._obj.role_id,is_active:this._obj.is_active}:s.data={name:this._obj.name,role_id:this._obj.role_id,is_active:this._obj.is_active},a===l.j.UPDATE&&(e.url=e.url.replace(/(:id)/g,this.dialogData.id)),this._submitting=!0,this._reqSvc.doRequest(e,{postData:s,contentType:l.a.FORM}).subscribe((function(e){t._submitting=!1;var s;e.result?(s=e.data,s&&t.dialogData.hasOwnProperty("datatable")&&("CREATE"===a&&"function"==typeof t.dialogData.datatable.addRow?t.dialogData.datatable.addRow(s):"UPDATE"===a&&"function"==typeof t.dialogData.datatable.updateRow&&t.dialogData.datatable.updateRow(s)),t.closeDialog()):(r.message="message.save_user_failed",r.type=l.k.ERROR),t._sncBar.open(r)}),(function(a){t._submitting=!1,r.message=a.message,r.type=l.k.ERROR,t._sncBar.open(r)}))},a.prototype.cancelProcess=function(t){var a=this;if(t&&t.dirty){var e={title:"dialog.close_warning",expandableDialog:!0,dialogCssClass:"size-md",template:{key:"message.unsaved_data_warning"},buttons:[{text:{key:"common.yes"},cssClass:"btn-danger",materialIcon:"done",closeWhenClick:!0,activateClickAfterClose:!0,onClick:function(){a.closeDialog()}},{text:{key:"common.no"},cssClass:"btn-secondary",materialIcon:"clear",closeWhenClick:!0}]};this.openDialog(e)}else this.closeDialog()},a.prototype.checkUserEmail=function(t,a){var e=this;if(a)this._emailOk=!1,this._emailErr=!1,this._checkingEmail=!1;else if(this._obj.email){if(this._obj.email!==this._lastEmail&&(this._emailOk=!1,this._emailErr=!1,this._checkingEmail=!1,this._lastEmail=this._obj.email,this._obj.email)){this._checkingEmail=!0;var s=Object.assign({},i.a.url.user.getByEmail),r={email:this._obj.email};this._reqSvc.doRequest(s,{postData:r,contentType:l.a.FORM}).subscribe((function(a){e._checkingEmail=!1,a.data?(e._emailErr=!0,setTimeout((function(){$(t.target).focus()}),1)):e._emailOk=!0}),(function(){e._checkingEmail=!1}))}}else this._emailOk=!1,this._emailErr=!1,this._checkingEmail=!1,this._lastEmail=""},a.prototype.checkPasswordStr=function(t){if(this._passwordStrengthLevel=0,this._obj.password){var a=new RegExp(l.e.STRONG_PASSWORD_REGEX);new RegExp(l.e.MED_PASSWORD_REGEX).test(this._obj.password)&&(this._passwordStrengthLevel=1),a.test(this._obj.password)&&(this._passwordStrengthLevel=2)}},a.prototype.checkConfirmPassword=function(){this._confPassErr=!1,this._chngPassConfErr=!1,(this._obj.password&&this._obj.confirm_password&&this._obj.password!==this._obj.confirm_password||!this._obj.confirm_password)&&("DATA"===this._currentEditTab?this._confPassErr=!0:this._chngPassConfErr=!0)},a.prototype.changePassword=function(){var t=this,a=Object.assign({},i.a.url.user.update),e={data:{password:this._obj.password}},s={message:"message.user_data_saved",type:l.k.SUCCESS};this._submitting=!0,a.url=a.url.replace(/(:id)/g,this.dialogData.id),this._reqSvc.doRequest(a,{postData:e,contentType:l.a.FORM}).subscribe((function(a){t._submitting=!1;a.result?t.closeDialog():(s.message="message.change_password_failed",s.type=l.k.ERROR),t._sncBar.open(s)}),(function(a){t._submitting=!1,s.message=a.message,s.type=l.k.ERROR,t._sncBar.open(s)}))},a.prototype.changeTab=function(t){this._currentEditTab=t},a=s.b([e.i(r._14)({selector:"[cmp-user-detail]",template:e(1011)}),s.c("design:paramtypes",[r.h,o.a,c.a])],a)})(n.a)},973:function(t,a,e){"use strict";var s=e(4),r=e(2),n=e(419),i=e(9),o=e(972),l=e(16),c=e(43);e.d(a,"a",(function(){return d}));var d=(function(t){function a(a,e){var s=t.call(this,a)||this;return s._storage=e,s.moduleType=i.l.USER,s.pageType=i.x.MAIN_LIST,s.tableType=i.y.MODULE,s._customDetailCmpFactory=s._resolver.resolveComponentFactory(o.a),s}return s.a(a,t),a.prototype.ngOnInit=function(){var t=this;this._cmn.setInfo({navList:[],pageTitle:"app_nav.users",topBarButtonList:[{btnText:"button.new_user",btnIcon:"add",btnClass:"btn-primary",onClick:function(){t.addNewItem()}}]})},a.prototype.ngAfterViewInit=function(){var t,a,e,s=this,r=Object.assign({},l.a.url.user.getAllUsers),n=this._storage.get(i.b.storageUsername);this.userLevel=this._appRef.components[0].instance.getUserLevel(),this.roleList=this._appRef.components[0].instance.getRoleList();var o=this.userLevel.indexOf("DEVELOPER")>-1;this.roleList.length>0&&this.roleList.map((function(s){switch(s.name.toLowerCase()){case"developer":t=s.id;break;case"administrator":a=s.id;break;case"editorial":e=s.id}})),this.customAfterTableDraw=function(t){$(t).find("[aria-quick-active]").off("click.cms-table").on("click.cms-table",(function(t){var a=$(t.target).closest("tr"),e={is_active:"true"===$(t.currentTarget).attr("aria-quick-active")},r=s._dtInstance.row(a).data();$(".tooltip").remove(),s.quickUpdateUser(r,e,a)}))},this._reqSvc.doRequest(r).subscribe((function(a){if(a.result){var e=a.data.filter((function(t){return o||!t.role.is_developer})),r={data:e,columns:[{data:"email",title:"Username",width:"300px"},{data:"name",title:"Fullname",width:"400px"},{data:"is_active",title:"Active",width:"150px",searchable:!1,render:function(t,a,e){var s='<div class="table-icon-wrapper">'+(e.is_active?'<i class="material-icons active-icon clickable-icon" aria-quick-active="false" aria-translate="tooltip.user_active" data-translate-tooltip="true">done</i>':'<i class="material-icons inactive-icon clickable-icon" aria-quick-active="true" aria-translate="tooltip.user_inactive" data-translate-tooltip="true">clear</i>')+"</div>";return e.email===n?'<div class="table-icon-wrapper"><i class="material-icons" aria-translate="tooltip.status_change_not_allowed" data-translate-tooltip="true">block</i></div>':s}},{data:"role_id",title:"Role",width:"200px",render:function(t,a,e){return""+(e.role?e.role.name:"")}},{title:"",width:"150px",orderable:!1,searchable:!1,render:function(a,e,s){var r='<div class="table-icon-wrapper">',i='<a class="table-item-icon" role="edit" aria-function="edit-item" data-item-id="'+s.id+'"aria-translate="common.edit" data-translate-tooltip="true"><i class="material-icons">edit</i></a>',l='<a class="table-item-icon" role="delete" aria-function="delete-item" data-item-id="'+s.id+'"aria-translate="common.delete" data-translate-tooltip="true"><i class="material-icons">delete</i></a>';return o?(r+=i,n!==s.email&&(r+=l)):((s.email===n||s.email!==n&&s.role_id!==t)&&(r+=i),s.role_id!==t&&n!==s.email&&(r+=l)),r+="</div>"}}]};s.initTable(r,!0).subscribe((function(t){s._dtInstance=t}))}}),(function(){var t={message:"message.load_list_error",type:i.k.ERROR};s._sncBar.open(t)}))},a.prototype.quickUpdateUser=function(t,a,e){var s=this,r=Object.assign({},l.a.url.user.update),n={type:i.k.NORMAL,message:"message.active_status_saved"};this._cmn.showAppLoader(),r.url=r.url.replace(/(:id)/g,t.id),this._reqSvc.doRequest(r,{postData:{data:a},contentType:i.a.FORM}).subscribe((function(r){s._cmn.hideAppLoader(),a=Object.assign({},t,a),r.result?s._dtInstance.row(e).data(a).draw(!1):(n.message="message.active_status_failed",n.type=i.k.ERROR),s._sncBar.open(n)}),(function(){s._cmn.hideAppLoader(),n.message="message.active_status_failed",n.type=i.k.ERROR,s._sncBar.open(n)}))},a=s.b([e.i(r._14)({selector:"[cmp-user-list]",template:e(420)}),s.c("design:paramtypes",[r.h,c.a])],a)})(n.a)},983:function(t,a,e){"use strict";var s=e(4),r=e(2),n=e(951),i=e(120),o=e(119),l=e(973),c=e(972);e.d(a,"a",(function(){return d}));var d=(function(t){function a(a){var e=t.call(this,a)||this;return e._pageTitle="module_type.user",e}return s.a(a,t),a.prototype.ngOnInit=function(){},a=s.b([e.i(r._14)({selector:"cmp-users",template:e(952),entryComponents:[i.a,o.a,l.a,c.a]}),s.c("design:paramtypes",[r.h])],a)})(n.a)}});