webpackJsonp([11],{119:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(35),o=a(36),l=a(75),s=a(9),c=a(16),d=a(19),p=a(29),m=a(73),u=a(12),g=a(1),h=a.n(g);a.d(e,"a",(function(){return A}));var A=(function(t){function e(e,a,n,i){var o=t.call(this,e)||this;return o._reqSvc=a,o._sncBar=n,o._cmn=i,o._formWorking=!1,o._propertyObj={name:"",description:"",variable_name:"",is_active:!0,is_required:!1,is_visible:!0,template_id:"",component_id:"",friendly_url:"",site_id:"",site_url:"",published_at:"",categories:[],parent_ids:[]},o.componentList=[],o.categoryList=[],o.sitePagesList=[],o.siteGlobalItemsList=[],o._selectedInheritCtrl="",o._selectedCategory=[],o._urlOk=!1,o._urlErr=!1,o._checkingUrl=!1,o._lastUrl="",o._submitting=!1,o._initInheritControl="",o._sitesList=[],o.templateList=[],o._hasItemPermission=!1,o._selectedAllowedUsers=[],o._userList=[],o._templateObj={template_id:"",template_name:""},o._globalItemObj={global_item_id:"",global_item_name:""},o._preparingCategory=!0,o._preparingParentPages=!0,o._hasVisibility=!1,o.isUpdateMode=!0,o._dlg=e.get(r.a),o}return n.a(e,t),e.prototype.ngOnInit=function(){if(this.dialogData){if(this._hasItemPermission=this.dialogData.hasItemPermission||!1,this.dialogData.moduleType!==s.l.PAGE&&this.dialogData.moduleType!==s.l.GLOBAL||(this._hasVisibility=this.dialogData.hasVisibility||!1),this.dialogData.hasOwnProperty("mode")&&(this.isUpdateMode=this.dialogData.mode===s.j.UPDATE),this.dialogData.selectedData){if(this._propertyObj=Object.assign({},this._propertyObj,this.dialogData.selectedData),this._propertyObj.component_id&&this.dialogData.selectedData.component&&(this._selectedInheritCtrl=this.dialogData.selectedData.component.name),this.dialogData.selectedData.friendly_url&&(this._urlOk=!0),this.dialogData.hasTemplateSelection&&this.dialogData.selectedData.template&&(this._templateObj.template_id=this.dialogData.selectedData.template.id,this._templateObj.template_name=this.dialogData.selectedData.template.name),this._propertyObj.parents&&(this._propertyObj.parent_ids=this._propertyObj.parents.map((function(t){return{id:t.id,name:t.name}}))),this._propertyObj.category_names){var t=Object.assign([],this._propertyObj.category_names);this._propertyObj.categories=t.map((function(t){return{id:t.id,name:t.name}}))}this._propertyObj.published_at&&(this._propertyObj.published_at=h()(this._propertyObj.published_at).format("DD/MM/YYYY"))}(this.dialogData.hasSiteSelection||this.dialogData.hasTemplateSelection)&&(this._sitesList.push({name:"form.item.select_site",value:""}),this.dialogData.siteList&&(this._sitesList=this.dialogData.siteList,!this._propertyObj.site_id&&this._sitesList.length>0&&(this.dialogData.currentFilteredSiteId?this._propertyObj.site_id=this.dialogData.currentFilteredSiteId:this._propertyObj.site_id=this._sitesList[0].id),this.selectedSiteChange())),this.dialogData.hasCategorySelector&&this.getCategories(),this.dialogData.hasParentPageSelector&&this.getPages(),this.dialogData.hasGlobalItemSelector&&(this.getGlobalItems(),this._propertyObj.global_item&&(this._globalItemObj.global_item_id=this._propertyObj.global_item.id,this._globalItemObj.global_item_name=this._propertyObj.global_item.name))}this._hasItemPermission&&this.getUserList()},e.prototype.ngAfterViewInit=function(){var t=this;if(this.ctrlSelector&&this.dialogData.hasCtrlInheritOption){var e=Object.assign({},c.a.url.control.getAll);this._reqSvc.doRequest(e).subscribe((function(e){e.result&&(t.componentList=e.data.map((function(t){return{id:t.id,name:t.name}})),t.ctrlSelector.forEach((function(e){"txtInheritCtrl"===e.inputElem.attr("id")&&e.initPlugin(t.componentList)})))})),this._initInheritControl=this._propertyObj.component_id}setTimeout((function(){$("#txtItemName").focus(),t.diDescription&&t.diDescription.forEach((function(t){t.initPlugin()}))}),1)},e.prototype.dialogSizeHandler=function(){var t=this;setTimeout((function(){t.resizeDialog()}),10)},e.prototype.selectInheritControl=function(t){this._propertyObj.component_id=t.id,this._selectedInheritCtrl=t.name},e.prototype.selectGlobalItem=function(t){this._globalItemObj.global_item_id=t.id,this._globalItemObj.global_item_name=t.name},e.prototype.selectTemplate=function(t){this._templateObj.template_id=t.id,this._templateObj.template_name=t.name},e.prototype.removeSelectedCtrl=function(t){t.preventDefault(),this._propertyObj.component_id="",this._selectedInheritCtrl="",setTimeout((function(){$("#txtInheritCtrl").focus()}),1)},e.prototype.removeSelectedGlobalItem=function(t){t.preventDefault(),this._globalItemObj.global_item_id="",this._globalItemObj.global_item_name="",setTimeout((function(){$("#textGlobalItem").focus()}),1)},e.prototype.removeSelectedTemplate=function(t){t.preventDefault(),this._templateObj.template_id="",this._templateObj.template_name="",setTimeout((function(){$("#txtTemplate").focus()}),1)},e.prototype.onSubmit=function(t){var e=this;this._submitting=!0;var a,n,i=this.dialogData.moduleType,r=this._propertyObj.id||"",o=r?s.j.UPDATE:s.j.CREATE,l={},d={message:"message.data_saved",type:s.k.SUCCESS};if(i){switch(i){case s.l.CONTROL:a=o===s.j.CREATE?Object.assign({},c.a.url.control.create):Object.assign({},c.a.url.control.update),o===s.j.CREATE?(l.name=this._propertyObj.name,l.variable_name=this._propertyObj.variable_name,l.description=this._propertyObj.description):l.data={name:this._propertyObj.name,variable_name:this._propertyObj.variable_name,description:this._propertyObj.description};break;case s.l.GLOBAL:a=o===s.j.CREATE?Object.assign({},c.a.url.globalItem.create):Object.assign({},c.a.url.globalItem.update),delete this._propertyObj.site,n=Object.assign({},this._propertyObj),n.categories.length>0&&(n.categories=n.categories.map((function(t){return t.name}))),o===s.j.CREATE?l=Object.assign({},n):l.data=Object.assign({},n);break;case s.l.TEMPLATE:this.dialogData.parentId?(a=o===s.j.CREATE?Object.assign({},c.a.url.templateItem.create):Object.assign({},c.a.url.templateItem.update),o===s.j.CREATE?l=Object.assign({},this._propertyObj,{template_id:this.dialogData.parentId}):l.data=l.data=Object.assign({},this._propertyObj)):(a=o===s.j.CREATE?Object.assign({},c.a.url.template.create):Object.assign({},c.a.url.template.update),o===s.j.CREATE?l=Object.assign({},this._propertyObj):l.data=Object.assign({},this._propertyObj));break;case s.l.PAGE:this._propertyObj.published_at&&(this._propertyObj.published_at=h.a.utc(this._propertyObj.published_at).toISOString()),this.dialogData.parentId?(a=o===s.j.CREATE?Object.assign({},c.a.url.pageItem.create):Object.assign({},c.a.url.pageItem.update),this._propertyObj.global_item_id=this._globalItemObj.global_item_id,delete this._propertyObj.global_item,delete this._propertyObj.page,o===s.j.CREATE?l=Object.assign({},this._propertyObj,{page_id:this.dialogData.parentId}):l.data=l.data=Object.assign({},this._propertyObj)):(a=o===s.j.CREATE?Object.assign({},c.a.url.page.create):Object.assign({},c.a.url.page.update),this._propertyObj.template_id=this._templateObj.template_id,delete this._propertyObj.template,n=Object.assign({},this._propertyObj),n.parent_ids.length>0?n.parent_ids=n.parent_ids.map((function(t){return t.id})):n.parent_ids=null,o===s.j.CREATE?l=n:l.data=Object.assign({},n));break;case s.l.SITE:a=o===s.j.CREATE?Object.assign({},c.a.url.sites.create):Object.assign({},c.a.url.sites.update),o===s.j.CREATE?(l.domain_name=this._propertyObj.name,l.description=this._propertyObj.description,l.is_active=this._propertyObj.is_active,l.site_url=this._propertyObj.site_url):l.data={domain_name:this._propertyObj.name,description:this._propertyObj.description,is_active:this._propertyObj.is_active,site_url:this._propertyObj.site_url}}if(this._hasItemPermission){var p="";if(0===this._selectedAllowedUsers.length)p="";else{var m=this._selectedAllowedUsers.map((function(t){return t.email}));p=JSON.stringify(m)}o===s.j.CREATE?l.permissions=p:l.data=Object.assign({},l.data,{permissions:p})}a&&(o===s.j.UPDATE&&(a.url=a.url.replace(/(:id)/g,r)),this._reqSvc.doRequest(a,{postData:l,contentType:s.a.FORM}).subscribe((function(t){e._submitting=!1;var a;if(t.result){switch(a=Object.assign({},t.data),i){case s.l.CONTROL:a={id:t.data.id,name:t.data.name,variable_name:t.data.variable_name,description:t.data.description};break;case s.l.SITE:a={id:t.data.id,domain_name:t.data.domain_name,description:t.data.description,is_active:t.data.is_active,site_url:t.data.site_url}}a&&e.dialogData.hasOwnProperty("datatable")&&("CREATE"===o&&"function"==typeof e.dialogData.datatable.addRow?e.dialogData.datatable.addRow(a):"UPDATE"===o&&"function"==typeof e.dialogData.datatable.updateRow&&e.dialogData.datatable.updateRow(a)),e.closeDialog(),e._sncBar.open(d)}else d.message=t.message,d.type=s.k.ERROR,e._sncBar.open(d)}),(function(t){e._submitting=!1,d.message=t.message,d.type=s.k.ERROR,e._sncBar.open(d)})))}},e.prototype.cancelProcess=function(t){var e=this;if(t.dirty||this.dialogData.hasCtrlInheritOption&&this._initInheritControl!==this._propertyObj.component_id){var a={title:"dialog.close_warning",expandableDialog:!0,dialogCssClass:"size-md",template:{key:"message.unsaved_data_warning"},buttons:[{text:{key:"common.yes"},cssClass:"btn-danger",materialIcon:"done",closeWhenClick:!0,activateClickAfterClose:!0,onClick:function(){e.closeDialog()}},{text:{key:"common.no"},cssClass:"btn-secondary",materialIcon:"clear",closeWhenClick:!0}]};this.openDialog(a)}else this.closeDialog()},e.prototype.autoGenRelatedValues=function(){this._propertyObj.name&&!this._propertyObj.variable_name&&(this._propertyObj.variable_name=this._propertyObj.name.toLowerCase().replace(/( )/g,"_"),this.dialogData.hasUrl&&(this._propertyObj.friendly_url=this._propertyObj.name.toLowerCase().replace(/[_\s]/g,"-")))},e.prototype.selectedSiteChange=function(){var t=this;if(this.dialogData.hasTemplateSelection){var e=Object.assign({},c.a.url.sites.getSiteTemplates);e.url=e.url.replace(/(:id)/g,this._propertyObj.site_id),this._reqSvc.doRequest(e).subscribe((function(e){e.result&&(t.templateList=e.data.map((function(t){return{id:t.id,name:t.name}})),t.ctrlSelector.forEach((function(e){"txtTemplate"===e.inputElem.attr("id")&&(e.isInit?e.changeDatasource(t.templateList):(e.initPlugin(t.templateList),e.isInit=!0))})))})),this._initInheritControl=this._propertyObj.component_id}},e.prototype.getCategories=function(){var t=this,e=Object.assign({},c.a.url.categories);this._reqSvc.doRequest(e).subscribe((function(e){e.data&&e.data.length>0?t.categoryList=e.data.map((function(t){return{id:t.id,name:t.name}})):t.categoryList=[],t.ctrlSelector.forEach((function(e){"txtCategorySelector"===e.inputElem.attr("id")&&(e.initPlugin(t.categoryList),t._preparingCategory=!1)}))}))},e.prototype.getPages=function(){var t=this,e=this._propertyObj.site_id,a=Object.assign({},c.a.url.sites.getPages);a.url=a.url.replace(/(:id)/g,e),this._reqSvc.doRequest(a).subscribe((function(e){t.sitePagesList=e.data.map((function(t){return{id:t.id,name:t.name}})),t.ctrlSelector.forEach((function(e){"txtParentPageSelector"===e.inputElem.attr("id")&&(e.initPlugin(t.sitePagesList),t._preparingParentPages=!1)}))}))},e.prototype.getGlobalItems=function(){var t=this,e=this._propertyObj.site_id||this.dialogData.siteId,a=Object.assign({},c.a.url.sites.getSiteGlobals);a.url=a.url.replace(/(:id)/g,e),this._reqSvc.doRequest(a).subscribe((function(e){t.siteGlobalItemsList=e.data.map((function(t){return{id:t.id,name:t.name}})),t.ctrlSelector.forEach((function(e){"textGlobalItemCtrl"===e.inputElem.attr("id")&&e.initPlugin(t.siteGlobalItemsList)}))}))},e.prototype.categorySelected=function(t){0===this._propertyObj.categories.filter((function(e){return e.id&&e.id===t.id})).length&&this._propertyObj.categories.push(t)},e.prototype.parentPageSelected=function(t){0===this._propertyObj.parent_ids.filter((function(e){return e.id===t.id})).length&&this._propertyObj.parent_ids.push(t)},e.prototype.getUserList=function(){var t=this,e=Object.assign({},c.a.url.user.getAllUsers);this._reqSvc.doRequest(e).subscribe((function(e){if(t._userList=e.data.filter((function(t){return!/(developer|administrator)/gi.test(t.role.name)&&t.is_active})),t._propertyObj.permissions){var a=[];try{a=JSON.parse(t._propertyObj.permissions)}catch(t){a=[]}var n=t._userList.filter((function(t){return a.indexOf(t.email)>-1}));t._selectedAllowedUsers=Object.assign([],n)}t.ctrlSelector.forEach((function(e){"txtItemPermission"===e.inputElem.attr("id")&&(e.isInit?e.changeDatasource(t._userList):e.initPlugin(t._userList))}))}))},e.prototype.onAllowedUserSelected=function(t){0===this._selectedAllowedUsers.filter((function(e){return e.id&&e.id===t.id})).length&&this._selectedAllowedUsers.push(t)},n.b([a.i(i._16)(l.a),n.c("design:type",i._17)],e.prototype,"ctrlSelector",void 0),n.b([a.i(i._16)(m.a),n.c("design:type",i._17)],e.prototype,"diDescription",void 0),e=n.b([a.i(i._14)({selector:"cmp-module-property",template:a(658)}),n.c("design:paramtypes",[i.h,d.a,p.a,u.a])],e)})(o.a)},12:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(74),o=(a.n(r),a(74)),l=(a.n(o),a(44)),s=a(16),c=a(19),d=a(35),p=a(9);a.d(e,"a",(function(){return m}));var m=(function(){function t(t,e,a){this.sanitizer=t,this._req=e,this._dlg=a,this._commonInfo={},this._siteList=[],this.subject=new r.Subject,this.dirSubject=new r.Subject,this._dirInfo={},this._info={},this._mapInstanceCollection={},this._mappingConfig=null}return t.prototype.loadConfig=function(t){var e=this;return o.Observable.create((function(a){var n=window.sessionStorage.getItem(p.b.appConfigName)||"";t&&(n=t),n?e._req.getInternalResx(p.e.CONFIG_PATH).subscribe((function(t){t.hasOwnProperty(n)?(window.sessionStorage.setItem(p.b.appConfigName,n),a.next(t[n])):a.next(!1),a.complete()}),(function(t){a.error(),a.complete()})):(a.next(!1),a.complete())}))},t.prototype.loadMappingConfig=function(){var t=this;this._req.getInternalResx("/system/assets/mapping.json").subscribe((function(e){e.hasOwnProperty("flag_icon")&&(t._mappingConfig=e)}))},t.prototype.closeSidebar=function(){$(".sidenav").removeClass("opened")},t.prototype.setDirectoryInfo=function(t){this._dirInfo=Object.assign({},this._dirInfo,t),this.dirSubject.next(this._dirInfo)},t.prototype.getDirInfo=function(){return this.dirSubject.asObservable()},t.prototype.setInfo=function(t){this._info=Object.assign({},this._info,t),this.subject.next(this._info)},t.prototype.clearInfo=function(){this.subject.next({})},t.prototype.getInfo=function(){return this.subject.asObservable()},t.prototype.getMapping=function(){return this._mappingConfig},t.prototype.getCurrentInfo=function(){return this._info},t.prototype.setAppInfo=function(t){t&&(this.setInfo({configLoaded:!0,siteDomain:t.site_domain||"",apiDomain:t.api_domain,brandLogo:t.brand_logo,brandBgImage:t.brand_bg_image,brandName:t.brand_name,richtextTemplate:t.richtext_custom_template,formToken:t.form_token||"",publicUploadPath:t.public_upload_path||"",altAppName:t.alt_app_name||""}),s.a.domain=t.api_domain||"http://localhost",s.a.siteDomain=t.site_domain||"http://localhost")},t.prototype.showAppLoader=function(){$("app-loader").addClass("displayed")},t.prototype.hideAppLoader=function(){$("app-loader").addClass("closing"),setTimeout((function(){$("app-loader").removeClass("displayed closing")}),350)},t.prototype.getImageUrl=function(){this._info},t.prototype.getImageSource=function(t){if(this._info.siteDomain&&this._info.formToken){if(/^(https?|www)/g.test(t)){var e=t.split("/"),a="";if(e.length&&(/(https?)/g.test(e[0])?a=[e[0],e[1],e[2]].join("/")+"/":/(www)/g.test(e[0])&&(a=e[0]),a!==this._info.siteDomain)){var n=this._info.siteDomain;/\/$/g.test(n)||(n+="/"),t=t.replace(""+a,n)}}else t=/(\/)$/g.test(this._info.siteDomain)?""+this._info.siteDomain+t:this._info.siteDomain+"/"+t;new RegExp("^("+this._info.siteDomain+"/uploads/)","gi").test(t)||(t=t.replace(this._info.siteDomain+"/",this._info.siteDomain+"/uploads/"))}else/^(https?|www)/g.test(t)||(t=s.a.domain+"/"+t);return t},t.prototype.getImageInfo=function(t,e){var a=this;return o.Observable.create((function(n){var i=new Image;i.onload=function(){n.next(this),n.complete()},i.onerror=function(){n.error(null),n.complete()},e||(t=a.getImageSource(t),t+="?t="+Math.random()),i.src=t}))},t.prototype.checkImageRatio=function(t,e,a){if(t&&e&&a){var n=a.split(":"),i=void 0,r=void 0,o=void 0,l=(t/e).toFixed(1);if(2===n.length)return i=parseInt(n[0],10),r=parseInt(n[1],10),o=i/r,l===o.toFixed(1)}return!0},t.prototype.parseHtmlContext=function(t){return t?$("<div>").text(t).html():""},t.prototype.getSanitizedUrl=function(t){return this.sanitizer.bypassSecurityTrustUrl(t)},t.prototype.getTimeObjectFromValue=function(t,e){var a=t,n=[],i="",r=[],o="",l="string"==typeof e?JSON.parse(e):e,s={};if(a&&l){switch(l.selectedDateType){case"DATE_ONLY":i=a,s.hour=0,s.minute=0,s.second=0;break;case"TIME_ONLY":i="",r=a.split(":"),o=3===n.length&&/(AM|PM)/i.test(n[2])?n[2].toLowerCase():"";break;case"DATETIME":n=a.split(" "),i=n[0],r=n[1].split(":"),o=3===n.length&&/(AM|PM)/i.test(n[2])?n[2].toLowerCase():""}i&&(i=i.split("-").reverse().join("/")),r.length>0&&(s.hour=parseInt(r[0],10),s.minute=parseInt(r[1],10),s.second=parseInt(r[2],10)),o&&(s.format="12H",s.ampm=o,s.hourList=Array.from({length:13},(function(t,e){return e})))}return{dateValue:i,timeObj:s}},t.prototype.getSiteLanguages=function(t){var e=this;return o.Observable.create((function(a){var n=Object.assign({},s.a.url.siteLanguages.getAllLang);n.url=n.url.replace(/(:id)/g,t),e._req.doRequest(n).subscribe((function(t){t.result?a.next(t.data):a.next([]),a.complete()}),(function(t){a.error(!1),a.complete()}))}))},t.prototype.destoryAllTooltips=function(){$('[data-toggle="tooltip]').length>0&&($('[data-toggle="tooltip]').tooltip("dispose"),$(".tooltip.bs-tether-element").remove())},t.prototype.getComponentFactory=function(t){var e=this._dlg.getCmpFactory(),a={};if(e.length)if("string"==typeof t){var n=e.filter((function(e){return e.selector===t}));n.length&&(a[t]=n[0])}else"object"==typeof t&&t.length&&t.map((function(t){var n=e.filter((function(e){return e.selector===t}));n.length&&(a[t]=n[0])}));return a},t.prototype.generateUUID=function(){var t,e,a="";for(t=0;t<32;t+=1)e=16*Math.random()|0,8!=t&&12!=t&&16!=t&&20!=t||(a+="-"),a+=(12==t?4:16==t?3&e|8:e).toString(16);return a},t.prototype.getResxPath=function(t){var e="";s.a.domain;return t&&(e=this.getImageSource(t)),e},t.prototype.previewPage=function(t,e,a){var n=this;return o.Observable.create((function(i){if(t&&e&&a){var r=Object.assign({},s.a.url.sites.previewPage);r.url=r.url.replace(/(:id)/g,t),n._req.doRequest(r,{contentType:p.a.FORM,postData:e,dataType:p.f.HTML}).subscribe((function(t){i.next(),i.complete();var e={title:{key:"dialog.page_preview"},expandableDialog:!0,dialogCssClass:"size-xlg",componentFactory:a,useCustomButtons:!0,dialogData:{previewContent:t}};n._dlg.open(e)}),(function(t){i.next(),i.complete()}))}else i.next(),i.complete()}))},t.prototype.getSubmissionTypeFromData=function(t){var e=p.g.OTHER;if(t){var a=Object.keys(t);1===a.length&&/(e?mail)/g.test(a[0])?e=p.g.NEWSLETTER:t.hasOwnProperty("subject")&&(e=p.g.ENQUIRY)}return e},t.prototype.isUuid=function(t){return/^[a-f0-9]{8}-(?:[a-f0-9]{4}-){3}[a-f0-9]{12}$/i.test(t)},t.prototype.reCache=function(t){var e=this;void 0===t&&(t=null);var a=Object.assign({},s.a.url.getCacheLinks);return t&&(a.url+="?sid="+t),this._req.doRequest(a).catch((function(){return Promise.resolve({data:[]})})).flatMap((function(t){var a=t.data,n=void 0===a?[]:a;if(n.length>0){var i={url:s.b.domain+s.b.url.request.url,method:"POST",headers:{"X-API-Key":s.b.token},data:{links:n}};e._req.customRequest(i).subscribe()}return Promise.resolve(!0)}))},t=n.b([a.i(i.c)(),n.c("design:paramtypes",[l.d,c.a,d.a])],t)})()},120:function(t,e,a){"use strict";var n=a(4),i=a(9),r=a(2),o=a(36),l=a(0),s=(a.n(l),a(16)),c=a(19),d=a(29),p=a(73),m=a(125),u=a(95),g=a(67),h=a(12),A=a(183),_=a(122),f=a(92),b=a(93),v=a(94),y=a(124),I=a(177);a.d(e,"a",(function(){return O}));var O=(function(t){function e(e,a,n,r,o){var l=t.call(this,e)||this;l._reqSvc=a,l._sncBar=n,l._resolver=r,l._cmn=o,l.dialogData={},l._submitting=!1,l.elementKey=Object.assign({},i.p),l._propertyElemObj={type:"",value:""},l._propertyObj={name:"",description:"",variable_name:"",option_type:"",option_value:"",is_required:!1,is_active:!0,is_visible:!0},l._hasElement=!1,l._propertyTypeList=i.q,l._hasVisibility=!1,l._isDeveloper=!1,l.moduleType="",l._propElemValue={textbox:{settings:{},value:""},datetime:{settings:[],value:""},checkbox:{settings:[],value:""},dropdown:{settings:[],value:""},radio:{settings:[],value:""},multilineText:{settings:{},value:""},richText:{settings:{},value:""},fileUpload:{settings:{},value:""},controlList:{settings:{},value:""},mapCoordinate:{settings:{},value:""}},l._fileUploadName="",l.propElemRichtextOptions=i.m.contentTextEditorOptions,l.uploadPath=s.a.domain+"/",l.fileObject={},l.timeObj={format:"24H",hour:0,minute:0,second:0,ampm:"am",hourList:Array.from({length:24},(function(t,e){return e})),minuteList:Array.from({length:60},(function(t,e){return e})),secondList:Array.from({length:60},(function(t,e){return e}))},l.controlListCount=0,l.urlTypeList=[{value:"page",label:"Select page"},{value:"custom",label:"Enter manually"}];var c=l._cmn.getComponentFactory(["[cmp-property-type]","[cmp-property-editor]","[cmp-control-list-manager]","cmp-file-uploader","[cmp-page-url-selector]"]);c["[cmp-property-type]"]?l._elemSelectorCmpFactory=c["[cmp-property-type]"]:(l._elemSelectorCmpFactory=l._resolver.resolveComponentFactory(m.a),l._dlg.addCmpFactory([l._elemSelectorCmpFactory])),c["[cmp-property-editor]"]?l._propEditorCmpFactory=c["[cmp-property-editor]"]:(l._propEditorCmpFactory=l._resolver.resolveComponentFactory(b.a),l._dlg.addCmpFactory([l._propEditorCmpFactory])),c["[cmp-control-list-manager]"]?l._ctlListManagerCmpFactory=c["[cmp-control-list-manager]"]:(l._ctlListManagerCmpFactory=l._resolver.resolveComponentFactory(f.a),l._dlg.addCmpFactory([l._ctlListManagerCmpFactory])),c["cmp-file-uploader"]?l._fileUploaderCmpFactory=c["cmp-file-uploader"]:(l._fileUploaderCmpFactory=l._resolver.resolveComponentFactory(g.a),l._dlg.addCmpFactory([l._fileUploaderCmpFactory])),c["[cmp-page-url-selector]"]?l._pageUrlSelectorCmpFactory=c["[cmp-page-url-selector]"]:(l._pageUrlSelectorCmpFactory=l._resolver.resolveComponentFactory(v.a),l._dlg.addCmpFactory([l._pageUrlSelectorCmpFactory]));var d=l._cmn.getCurrentInfo();if(d.richtextTemplate&&d.richtextTemplate.length>0){var p=d.siteDomain&&d.formToken?d.siteDomain:d.apiDomain;/\/$/g.test(p)&&(p+="/");var u=d.richtextTemplate.map((function(t){return Object.assign({},t,{url:""+p+t.url})}));l.propElemRichtextOptions=Object.assign({},l.propElemRichtextOptions,{templates:u})}return l._isDeveloper=[i.c.DEVELOPER].indexOf(d.currentUserLevel)>-1,l}return n.a(e,t),e.prototype.ngOnInit=function(){var t=this;Array.from({length:24},(function(t,e){return e}));if(this.dialogData.hasOwnProperty("moduleType")&&(this.moduleType=this.dialogData.moduleType),!this._isDeveloper||this.dialogData.moduleType!==i.l.PAGE&&this.dialogData.moduleType!==i.l.GLOBAL||(this._hasVisibility=!0),this.dialogData.selectedData){if(this._propertyObj=Object.assign({},this._propertyObj,this.dialogData.selectedData),this._propertyObj.element_type)switch(this._propertyObj.element_type===i.p.FILE_UPLOAD&&0!==this._propertyObj.element_value.indexOf("{")&&(this._propertyObj.element_value=JSON.stringify({selectedOption:this._propertyObj.element_value,targetFileExtensions:this._propertyObj.element_value,imageSizeOption:{}})),this.elementSelectorHandler({elementType:this._propertyObj.element_type,elementValue:this._propertyObj.element_value?JSON.parse(this._propertyObj.element_value):""}),this._propertyObj.element_type){case i.p.TEXTBOX:this._propElemValue.textbox.value=this._propertyObj.option_value,setTimeout((function(){t.textboxElement&&t.textboxElement.changeValue(t._propertyObj.option_value)}),10);break;case i.p.CHECKBOX:this._propertyObj.option_value?"number"==typeof this._propertyObj.option_value?this._propElemValue.checkbox.value=1===this._propertyObj.option_value:"string"==typeof this._propertyObj.option_value?this._propElemValue.checkbox.value=/(true|1)/gi.test(this._propertyObj.option_value):this._propElemValue.checkbox.value=this._propertyObj.option_value:this._propElemValue.checkbox.value=!1;break;case i.p.RADIO_LIST:this._propElemValue.radio.value=this._propertyObj.option_value;break;case i.p.DROPDOWN:this._propElemValue.dropdown.value=this._propertyObj.option_value;break;case i.p.MULTILINE_TEXT:this._propElemValue.multilineText.value=this._propertyObj.option_value;break;case i.p.RICHTEXT_EDITOR:this._propElemValue.richText.value=this._propertyObj.option_value,setTimeout((function(){t.txeElement&&t.txeElement.length&&t.txeElement.map((function(e){"txaPropElemEditor"===e.$elem.attr("id")&&e.changeContent(t._propElemValue.richText.value)}))}),500);break;case i.p.FILE_UPLOAD:this._propElemValue.fileUpload.value=this._propertyObj.option_value,this._propElemValue.fileUpload.settings=JSON.parse(this._propertyObj.element_value||"{}"),this._propertyObj.option_value&&this.renderImage();break;case i.p.DATETIME:this._propElemValue.datetime.settings=JSON.parse(this._propertyObj.element_value);var e=this._cmn.getTimeObjectFromValue(this._propertyObj.option_value,this._propElemValue.datetime.settings);e&&(this._propElemValue.datetime.value=e.dateValue,this.timeObj=Object.assign({},this.timeObj,e.timeObj));break;case i.p.CONTROL_LIST:this._propertyObj.option_value&&!/(\[\{.+\}\])/.test(this._propertyObj.option_value)&&(this._propertyObj.option_value="[]"),this.controlListCount=JSON.parse(this._propertyObj.option_value||"[]").length,this._propElemValue.controlList.settings&&this._propElemValue.controlList.settings.hasOwnProperty("selectedControlId")&&this.checkCtrlListProps().subscribe((function(e){if(!e){var a={dialogType:i.r.WARNING,title:"dialog.warning",expandableDialog:!0,dialogCssClass:"size-md",template:{key:"message.saved_ctrl_not_found"},buttons:[{cssClass:"btn-primary",materialIcon:"done",closeWhenClick:!0,text:{key:"common.got_it"}}]};t.openDialog(a)}}))}setTimeout((function(){t.txeElement&&t.txeElement.length&&t.txeElement.map((function(e){"txaDescription"===e.$elem.attr("id")&&e.changeContent(t._propElemValue.description)}))}),500)}},e.prototype.submitMultipartForm=function(t,e,a){var n=this;return l.Observable.create((function(r){n._submitting=!0;var o=n._reqSvc.getUrl(e.url),l=[$("#fPropElem").clone(!0)];t===i.j.UPDATE&&(a=Object.assign({},{data:a})),n._reqSvc.ajaxFormRequest(o,a,l).subscribe((function(e){n._submitting=!1;var a=e.data;a&&n.dialogData.hasOwnProperty("datatable")&&(t===i.j.CREATE&&"function"==typeof n.dialogData.datatable.addRow?n.dialogData.datatable.addRow(a):t===i.j.UPDATE&&"function"==typeof n.dialogData.datatable.updateRow&&n.dialogData.datatable.updateRow(a)),n.closeDialog(),r.next(!0),r.complete()}),(function(){n._submitting=!1;var t={message:"message.prop_save_failed",type:i.k.ERROR};n._sncBar.open(t),r.next(!1),r.complete()}))}))},e.prototype.onSubmit=function(t){var e=this;t&&t.preventDefault();var a=new RegExp(/^[-+]?\d+$/,"g"),n=new RegExp(/^[-+]?\d+(\.\d+)?$/,"g"),r=(this.dialogData.moduleType,this.dialogData.propertyId?i.j.UPDATE:i.j.CREATE),o=r===i.j.CREATE?Object.assign({},s.a.url.property.create):Object.assign({},s.a.url.property.update),l={},c={message:"message.prop_save_success",type:i.k.SUCCESS};switch(this.dialogData.moduleType){case i.l.CONTROL:this._propertyObj.component_id=this.dialogData.parentId||"";break;case i.l.TEMPLATE:o=r===i.j.CREATE?Object.assign({},s.a.url.templateItemOption.create):Object.assign({},s.a.url.templateItemOption.update),r===i.j.CREATE?this._propertyObj.template_item_id=this.dialogData.parentId||"":delete this._propertyObj.template_item_id,o=r===i.j.CREATE?Object.assign({},s.a.url.templateItemOption.create):Object.assign({},s.a.url.templateItemOption.update);break;case i.l.PAGE:o=r===i.j.CREATE?Object.assign({},s.a.url.pageItemOption.create):Object.assign({},s.a.url.pageItemOption.update),r===i.j.CREATE?this._propertyObj.page_item_id=this.dialogData.parentId||"":delete this._propertyObj.page_item_id,o=r===i.j.CREATE?Object.assign({},s.a.url.pageItemOption.create):Object.assign({},s.a.url.pageItemOption.update);break;case i.l.GLOBAL:o=r===i.j.CREATE?Object.assign({},s.a.url.globalItemOption.create):Object.assign({},s.a.url.globalItemOption.update),this._propertyObj.global_item_id=this.dialogData.parentId||""}switch(this._propertyObj.element_type=this._propertyElemObj.type,this._propertyElemObj.type){case i.p.TEXTBOX:this._propertyObj.element_value="object"==typeof this._propElemValue.textbox?JSON.stringify(this._propElemValue.textbox.settings):this._propElemValue.textbox.settings,this._propertyObj.option_value=this._propElemValue.textbox.value,a.test(this._propertyObj.option_value)?this._propertyObj.option_type="number":n.test(this._propertyObj.option_value)?this._propertyObj.option_type="decimal":this._propertyObj.option_type="text";break;case i.p.CHECKBOX:this._propertyObj.option_value=this._propElemValue.checkbox.value?"true":"false",this._propertyObj.option_type="text",this._propertyObj.element_value="object"==typeof this._propElemValue.checkbox?JSON.stringify(this._propElemValue.checkbox.settings):this._propElemValue.checkbox.settings;break;case i.p.RADIO_LIST:this._propertyObj.option_value=this._propElemValue.radio.value,this._propertyObj.option_type="text",this._propertyObj.element_value="object"==typeof this._propElemValue.radio?JSON.stringify(this._propElemValue.radio.settings):this._propElemValue.radio.settings;break;case i.p.DROPDOWN:this._propertyObj.option_value=this._propElemValue.dropdown.value,this._propertyObj.option_type="text",this._propertyObj.element_value="object"==typeof this._propElemValue.dropdown?JSON.stringify(this._propElemValue.dropdown.settings):this._propElemValue.dropdown.settings;break;case i.p.MULTILINE_TEXT:this._propertyObj.option_value=this._propElemValue.multilineText.value,this._propertyObj.option_type="text",this._propertyObj.element_value="object"==typeof this._propElemValue.multilineText?JSON.stringify(this._propElemValue.multilineText.settings):this._propElemValue.multilineText.settings;break;case i.p.RICHTEXT_EDITOR:this._propertyObj.option_value=this._propElemValue.richText.value,this._propertyObj.option_type="text",this._propertyObj.element_value="object"==typeof this._propElemValue.richText?JSON.stringify(this._propElemValue.richText.settings):this._propElemValue.richText.settings;break;case i.p.FILE_UPLOAD:this._propertyObj.option_type="text",this._propertyObj.element_value=this._propElemValue.fileUpload&&"object"==typeof this._propElemValue.fileUpload?JSON.stringify(this._propElemValue.fileUpload.settings):this._propElemValue.fileUpload.settings,this._propertyObj.hasOwnProperty("translated_text")&&delete this._propertyObj.translated_text,this._propertyObj.hasOwnProperty("language_code")&&delete this._propertyObj.language_code;break;case i.p.DATETIME:this._propertyObj.option_type="text",this._propertyObj.element_value="object"==typeof this._propElemValue.datetime?JSON.stringify(this._propElemValue.datetime.settings):this._propElemValue.datetime.settings;break;case i.p.CONTROL_LIST:this._propertyObj.option_type="text",this._propertyObj.element_value="object"==typeof this._propElemValue.controlList?JSON.stringify(this._propElemValue.controlList.settings):this._propElemValue.controlList.settings,this._propertyObj.hasOwnProperty("language_code")&&this._propertyObj.language_code&&(this._propertyObj.translated_text=this._propertyObj.option_value);break;case i.p.MAP_COORDINATE:this._propertyObj.option_type="text",this._propertyObj.element_value="object"==typeof this._propElemValue.mapCoordinate?JSON.stringify(this._propElemValue.mapCoordinate.settings):this._propElemValue.mapCoordinate.settings}this._propertyObj.hasOwnProperty("language_code")&&delete this._propertyObj.language_code,r===i.j.CREATE?l=Object.assign({},this._propertyObj):(this._propertyObj.translated_text=this._propertyObj.option_value,l.data=Object.assign({},this._propertyObj),o.url=o.url.replace(/(:id)/g,this.dialogData.propertyId)),this._submitting=!0,this._submitting=!0,this._reqSvc.doRequest(o,{postData:l,contentType:i.a.FORM}).subscribe((function(t){if(e._submitting=!1,t.result){var a=t.data;a&&e.dialogData.hasOwnProperty("datatable")&&(r===i.j.CREATE&&"function"==typeof e.dialogData.datatable.addRow?e.dialogData.datatable.addRow(a):r===i.j.UPDATE&&"function"==typeof e.dialogData.datatable.updateRow&&e.dialogData.datatable.updateRow(a)),e.closeDialog()}else c.message=t.message,c.type=i.k.ERROR;e._sncBar.open(c)}),(function(t){e._submitting=!1,c.message=t.message,c.type=i.k.ERROR,e._sncBar.open(c)}))},e.prototype.dialogSizeHandler=function(){var t=this;setTimeout((function(){t.resizeDialog()}),10)},e.prototype.cancelProcess=function(){var t=this;if(this.propertyForm.dirty){var e={title:"dialog.close_warning",expandableDialog:!0,dialogCssClass:"size-md",template:{key:"message.unsaved_data_warning"},buttons:[{text:{key:"common.yes"},cssClass:"btn-danger",materialIcon:"done",closeWhenClick:!0,activateClickAfterClose:!0,onClick:function(){t.closeDialog()}},{text:{key:"common.no"},cssClass:"btn-secondary",materialIcon:"clear",closeWhenClick:!0}]};this.openDialog(e)}else this.closeDialog()},e.prototype.controlListElementHandler=function(t){this._propElemValue.controlList.settings&&this._propElemValue.controlList.settings.hasOwnProperty("selectedControlId")&&this._propElemValue.controlList.settings.selectedControlId!==t.selectedControlId&&(this._propertyObj.option_value=""),this._propElemValue.controlList.settings=t},e.prototype.elementSelectorHandler=function(t){var e=this;switch(this._hasElement||(this._hasElement=!0),this._propertyElemObj.type=t.elementType,this._propertyElemObj.value=t.elementValue||"",this._propertyElemObj.type){case i.p.TEXTBOX:this._propElemValue.textbox.settings=t.elementValue,setTimeout((function(){e.textboxElement&&e.textboxElement.triggerSettingsChange(e._propElemValue.textbox.settings)}),1);break;case i.p.CHECKBOX:this._propElemValue.checkbox.settings=t.elementValue,this.diToggle&&this.diToggle.length>0&&this.diToggle.forEach((function(t){"propElemCheckbox"===t.getElemId()&&t.setNewText({checkedText:e._propElemValue.checkbox.settings.checkedText,uncheckedText:e._propElemValue.checkbox.settings.uncheckedText})}));break;case i.p.DROPDOWN:this._propElemValue.dropdown.settings=t.elementValue,this._propElemValue.dropdown.value=this._propElemValue.dropdown.settings[0].value;break;case i.p.RADIO_LIST:this._propElemValue.radio.settings=t.elementValue,this._propElemValue.radio.value=this._propElemValue.radio.settings[0].value;break;case i.p.FILE_UPLOAD:this._propElemValue.fileUpload.value="",this._propElemValue.fileUpload.settings=t.elementValue,this.fileObject.element_value=t.elementValue,this.imageSizeInfo&&this.imageSizeInfo.changeOptions(t.elementValue);break;case i.p.MULTILINE_TEXT:this._propElemValue.multilineText.settings=t.elementValue;break;case i.p.RICHTEXT_EDITOR:this._propElemValue.richText.settings=t.elementValue,this.txeElement&&this.txeElement.length&&this.txeElement.map((function(t){"txaPropElemEditor"===t.$elem.attr("id")&&t.applySettings(Object.assign({},e._propElemValue.richText.settings))}));break;case i.p.DATETIME:this._propElemValue.datetime.settings=t.elementValue,this.datetimePicker&&this.datetimePicker.triggerChange(this._propElemValue.datetime.settings);break;case i.p.CONTROL_LIST:this.controlListElementHandler(t.elementValue);break;case i.p.MAP_COORDINATE:}},e.prototype.openElementSelector=function(){var t=this,e={title:{key:"dialog.element_selector"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!0,componentFactory:this._elemSelectorCmpFactory,dialogData:{currentElement:Object.assign({},this._propertyElemObj)},afterClose:function(e){e&&t.elementSelectorHandler(e)}};this._dlg.open(e)},e.prototype.selectAnotherElement=function(){this.openElementSelector()},e.prototype.generateVariableName=function(){this._propertyObj.name&&!this._propertyObj.variable_name&&(this._propertyObj.variable_name=this._propertyObj.name.toLowerCase().replace(/( )/g,"_"))},e.prototype.fileUploadChange=function(t){var e=$(t.currentTarget).val(),a=this._propElemValue.fileUpload.value,n="";if(e){var i=e.split("\\");if(i=i[i.length-1],this._fileUploadName=n=i,a){var r=a.split("/");r.splice(r.length-1,1,n),n=r.join("/")}this._propElemValue.fileUpload.value=n}},e.prototype.selectAndUpload=function(t){var e=this,a={title:{key:"dialog.file_upload"},expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._fileUploaderCmpFactory,dialogData:{selectedItem:this.fileObject},afterClose:function(t){t&&t.selectedFile&&(e._propertyObj.option_value=t.selectedFile,e.renderImage())}};this._dlg.open(a)},e.prototype.renderImage=function(){var t=this;/(.)(jpe?g|png|gif|svg)/gi.test(this._propertyObj.option_value)?(this.fileObject.changing=!0,this.fileObject.type="image",this.fileObject.info={},this._cmn.getImageInfo(this._propertyObj.option_value).subscribe((function(e){t.fileObject.changing=!1,t.fileObject.info={src:e.src,width:e.width,height:e.height}}),(function(){t.fileObject.info.notFound=!0}))):/(.)(mp4|wmv|webm|avi|mkv)/gi.test(this._propertyObj.option_value)?this.fileObject.type="video":this.fileObject.type="file"},e.prototype.timeFormatChanged=function(){"12H"===this.timeObj.format?(this.timeObj.hourList=Array.from({length:13},(function(t,e){return e})),this.timeObj.hour>12&&(this.timeObj.hour=12)):this.timeObj.hourList=Array.from({length:24},(function(t,e){return e}))},e.prototype.manageControlList=function(){var t=this;if(this._propElemValue.controlList.settings.selectedControlId){this._dlg.addCmpFactory([this._ctlListManagerCmpFactory,this._propEditorCmpFactory]);var e=this._propertyObj.option_value||this._propertyObj.translated_text;/^(\{)/g.test(this._propertyObj.option_value)?e=this._propertyObj.option_value:/^(\{)/g.test(this._propertyObj.option_value)&&(e=this._propertyObj.option_value);var a=!0,n={title:{key:"dialog.control_list",param:{language:""}},expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._ctlListManagerCmpFactory,dialogData:{controlId:this._propElemValue.controlList.settings.selectedControlId,optionValue:e,savedStructure:this._propElemValue.controlList.settings.propStructure||null,ctlListCmpFactory:this._ctlListManagerCmpFactory,moduleType:this.moduleType},afterClose:function(e){e&&e.optionValue&&(t._propertyObj.option_value=e.optionValue,t._propElemValue.controlList.settings.propStructure=Object.assign([],e.propStructure),t.controlListCount=JSON.parse(t._propertyObj.option_value||"[]").length,e.saveRoot&&a&&(a=!1,t.onSubmit(null)))}};this._dlg.open(n)}},e.prototype.checkCtrlListProps=function(){var t=this;return l.Observable.create((function(e){var a=Object.assign({},s.a.url.control.getOptionsByCtrlId);a.url=a.url.replace(/(:id)/g,t._propElemValue.controlList.settings.selectedControlId),t._reqSvc.doRequest(a).subscribe((function(t){t.result&&t.data?e.next(!0):e.next(!1),e.complete()}),(function(){e.next(!1),e.complete()}))}))},e.prototype.textValueHandler=function(t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("settings")&&(this._propElemValue.textbox.value=t.value,this._propElemValue.textbox.settings=Object.assign({},this._propElemValue.textbox.settings,t.settings))},e.prototype.removeFile=function(t){this.fileObject.info=null,this.fileObject.type=null,this._propertyObj.option_value=""},n.b([a.i(r._15)("propertyForm"),n.c("design:type",Object)],e.prototype,"propertyForm",void 0),n.b([a.i(r._15)("datetimePicker"),n.c("design:type",_.a)],e.prototype,"datetimePicker",void 0),n.b([a.i(r._15)("imageSizeInfo"),n.c("design:type",I.a)],e.prototype,"imageSizeInfo",void 0),n.b([a.i(r._15)(y.a),n.c("design:type",y.a)],e.prototype,"textboxElement",void 0),n.b([a.i(r._16)(p.a),n.c("design:type",r._17)],e.prototype,"txeElement",void 0),n.b([a.i(r._16)(u.a),n.c("design:type",r._17)],e.prototype,"diToggle",void 0),n.b([a.i(r._16)(A.a),n.c("design:type",r._17)],e.prototype,"diDatepicker",void 0),e=n.b([a.i(r._14)({selector:"cmp-property-base",template:a(659),entryComponents:[g.a,f.a,b.a]}),n.c("design:paramtypes",[r.h,c.a,d.a,r.Q,h.a])],e)})(o.a)},121:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(35),o=a(27),l=a(12);a.d(e,"a",(function(){return s}));var s=(function(){function t(t,e,a,n,i){this.dlgSvc=e,this.zone=a,this.translate=n,this.cmn=i,this._hzDialogGap=40,this._vtDialogGap=30,this._useCustomButton=!1,this._dialogElemObj={overlay:null,dialogBlock:null,title:null,content:null,buttons:null},this._titleType="string",this._dialogType="",this.dialogExpanded=!1,this._box=$(t.nativeElement)}return t.prototype.ngOnInit=function(){var t=this;this._useCustomButton=this._dialogSettings.useCustomButtons||!1,this._dialogType=this._dialogSettings.dialogType||"",this._box.addClass("md-dialog-overlay"),this._dialogElemObj.overlay=this._box,this._dialogElemObj.dialogBlock=this._box.find(".md-dialog-box"),this._dialogElemObj.title=this._dialogElemObj.dialogBlock.find(".md-dialog-title"),this._dialogElemObj.content=this._dialogElemObj.dialogBlock.find(".md-dialog-content"),this._dialogSettings.title&&(this._titleType=typeof this._dialogSettings.title),"object"===this._titleType&&this.translate.get(this._dialogSettings.title.key,this._dialogSettings.title.param||{}).subscribe((function(e){t._dialogSettings.title=e})),this._dialogSettings.dialogCssClass&&this._dialogElemObj.dialogBlock.addClass(this._dialogSettings.dialogCssClass),this._dialogSettings.componentFactory?this.renderFromComponent():this.renderFromTemplate(),this._dialogElemObj.content.children("div").first().remove();var e=$("body > .mce-window");if(e.length>0){var a=e.last().css("z-index");a&&(a=parseInt(a,10),this._box.css("z-index",a+1))}},t.prototype.ngAfterViewInit=function(){var t=this;this._dialogElemObj.buttons=this._dialogElemObj.dialogBlock.find(".md-dialog-buttons"),$("body").addClass("no-scroll"),this._box.find(".md-dialog-content").scroll((function(){t._box.find(".hasDatepicker").datepicker("hide"),t._box.find(".hasDatepicker").blur()})),setTimeout((function(){$("body > .tooltip").remove(),t.calculateSize(),t.bindEventHandler(),setTimeout((function(){t._dialogSettings.hasOwnProperty("afterOpen")&&"function"==typeof t._dialogSettings.afterOpen&&t._dialogSettings.afterOpen()}),1)}),1)},t.prototype.bindEventHandler=function(){var t=this;$(window).on("resizestop.dialog",100,(function(){t.zone.run((function(){t.calculateSize()}))}))},t.prototype.closeModal=function(t,e){var a=this,n=this,i=n._dialogSettings;"function"==typeof i.beforeClose?i.beforeClose().subscribe((function(t){t&&(a.dlgSvc.setData(null),n.proceedCloseModal(e))}),(function(t){return console.error(t)})):(this.dlgSvc.setData(null),n.proceedCloseModal(e))},t.prototype.customButtonClickhandler=function(t){var e=this;t.closeWhenClick?("function"==typeof t.onClick&&(t.activateClickAfterClose?this._extAfterCloseFunc=function(){t.onClick(e._dialogSettings)}:(this._extAfterCloseFunc=null,t.onClick(this._dialogSettings)),this.closeModal(this)),this.closeModal(this)):"function"==typeof t.onClick&&t.onClick(this._dialogSettings)},t.prototype.proceedCloseModal=function(t){var e=this;this._dialogElemObj.overlay.addClass("closing"),this._dialogElemObj.dialogBlock.addClass("closing"),1===$("cmp-dialog").length&&($("body").removeClass("no-scroll"),$(window).off("resizestop.dialog")),"function"==typeof this._extAfterCloseFunc&&this._extAfterCloseFunc(),setTimeout((function(){e._dialogElemObj.overlay.removeClass("opened closing"),e._dialogElemObj.dialogBlock.removeClass("opened closing"),e._dialogSettings.hasOwnProperty("afterClose")?(e._dialogSettings.afterClose(t),e.dlgSvc.destroyComponent(e._dialogIndex).subscribe((function(){e._box.addClass("closing"),setTimeout((function(){e._box.remove()}),100)}))):e.dlgSvc.destroyComponent(e._dialogIndex).subscribe((function(){e._box.addClass("closing"),setTimeout((function(){e._box.remove()}),100)})),$(".tooltip").remove()}),305)},t.prototype.renderFromTemplate=function(){var t=this;this._dialogElemObj.content.children("div").last().remove(),"object"==typeof this._dialogSettings.template?this.translate.get(this._dialogSettings.template.key,this._dialogSettings.template.param||{}).subscribe((function(e){t._contentHtml=e})):this._contentHtml=this._dialogSettings.template},t.prototype.renderFromComponent=function(){var t=this;this.dlgCtnContainer&&(this._componentRef=this.dlgCtnContainer.createComponent(this._dialogSettings.componentFactory,0).instance,this._componentRef.close=function(){t.closeModal()},this._dialogSettings.dialogData&&(this._componentRef.dialogData=Object.assign({},this._dialogSettings.dialogData)),this._componentRef.resizeDialog=function(){t.calculateSize()},this._componentRef.closeDialog=function(e,a){t.closeModal(e,a)})},t.prototype.calculateSize=function(){var t=this;this._dialogElemObj.overlay.hasClass("opened")||this._dialogElemObj.overlay.addClass("opened");var e=40,a=this._box.data("calculated-size"),n=this._dialogSettings.hasTopPanel?56:0,i={width:verge.viewportW(),height:verge.viewportH()};if(i.width>=768?(e=40,this._hzDialogGap=40,this._vtDialogGap=30):(e=15,this._hzDialogGap=15,this._vtDialogGap=15),!a){this._dialogElemObj.dialogBlock.clone().addClass("dummy-box").appendTo("body"),a={width:$(".dummy-box").outerWidth(),height:$(".dummy-box").outerHeight()},this._box.data("calculated-size",a),$(".dummy-box").remove()}if(this._dialogSettings.expandableDialog&&(a.width!==i.width&&(a.width=i.width-e),a.height!==i.height&&(a.height=i.height-e)),a.width&&a.height){var r=a.width,o=verge.viewportW()-2*this._hzDialogGap,l=verge.viewportH()-2*this._vtDialogGap,s=this._dialogElemObj.dialogBlock.css("max-width");r>o&&(r=o),s&&(s=parseFloat(this._dialogElemObj.dialogBlock.css("max-width").replace("px","")),r>s&&(r=s)),this._dialogSettings.alwaysMaxWidth&&(this._dialogElemObj.dialogBlock.css("max-width","initial"),r=o),this._dialogElemObj.dialogBlock.css("width",r),this._dialogElemObj.content.addClass("auto-size");var c=this._dialogElemObj.title.outerHeight();this._useCustomButton||(c+=this._dialogElemObj.buttons.outerHeight()),c+=this._dialogElemObj.content.prop("scrollHeight"),this._dialogElemObj.content.removeClass("auto-size");var d=c+10+n;(this._dialogSettings.alwaysMaxHeight||d>l)&&(d=l),this._dialogElemObj.dialogBlock.css({height:d,"margin-left":Math.round(r/2*-1),"margin-top":Math.round(d/2*-1)}),this._dialogElemObj.dialogBlock.addClass("opened"),setTimeout((function(){t._dialogElemObj.dialogBlock.addClass("animate-ready"),t._dialogSettings.hasOwnProperty("afterResized")&&"function"==typeof t._dialogSettings.afterResized&&t._dialogSettings.afterResized()}),500)}},t.prototype.dialogCloseBtnClick=function(){this.closeModal(!1)},t.prototype.toggleDialogMode=function(){var t=this;this.dialogExpanded=!this.dialogExpanded,setTimeout((function(){t._dialogSettings.hasOwnProperty("afterResized")&&"function"==typeof t._dialogSettings.afterResized&&t._dialogSettings.afterResized()}),500)},n.b([a.i(i._15)("dialogContentContainer",{read:i.R}),n.c("design:type",i.R)],t.prototype,"dlgCtnContainer",void 0),t=n.b([a.i(i._14)({selector:"cmp-dialog",template:a(663)}),n.c("design:paramtypes",[i.M,r.a,i.k,o.d,l.a])],t)})()},122:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(12);a.d(e,"a",(function(){return o}));var o=(function(){function t(t){this._cmn=t,this.elemAttrs={},this.initDatetimeValue="",this.initTimeValue={},this.dateValue="",this.datetimeSettings={},this.cmpIndex=0,this.datetimeSelected=new i.F,this.datetimeChanged=new i.F,this.inputDateModel="",this.timeObj={format:"24H",hour:0,minute:0,second:0,ampm:"am",hourList:Array.from({length:24},(function(t,e){return e})),minuteList:Array.from({length:60},(function(t,e){return e})),secondList:Array.from({length:60},(function(t,e){return e}))}}return t.prototype.ngOnInit=function(){"string"==typeof this.datetimeSettings&&(this.datetimeSettings=JSON.parse(this.datetimeSettings));var t=this._cmn.getTimeObjectFromValue(this.initDatetimeValue,this.datetimeSettings);t&&(this.dateValue=t.dateValue,this.timeObj=Object.assign({},this.timeObj,t.timeObj)),this.initTimeValue.format&&(this.timeObj=Object.assign({},this.timeObj,this.initTimeValue))},t.prototype.triggerChange=function(t){t&&(this.datetimeSettings=t),this.valueSelected()},t.prototype.changeValue=function(t){this.initDatetimeValue=t;var e=this._cmn.getTimeObjectFromValue(this.initDatetimeValue,this.datetimeSettings);e&&(this.dateValue=e.dateValue,this.timeObj=Object.assign({},this.timeObj,e.timeObj)),this.initTimeValue.format&&(this.timeObj=Object.assign({},this.timeObj,this.initTimeValue))},t.prototype.timeFormatChanged=function(){"12H"===this.timeObj.format?(this.timeObj.hourList=Array.from({length:13},(function(t,e){return e})),this.timeObj.hour>12&&(this.timeObj.hour=12)):this.timeObj.hourList=Array.from({length:24},(function(t,e){return e})),this.valueSelected()},t.prototype.dateChanged=function(t){this.initTimeValue=t,this.valueSelected()},t.prototype.valueSelected=function(t){t&&(this.dateValue=t);var e="",a=[];/(DATE)/g.test(this.datetimeSettings.selectedDateType)&&"TIME_ONLY"!==this.datetimeSettings.selectedDateType&&this.initTimeValue?this.dateValue&&"object"!=typeof this.dateValue?(e+=this.dateValue.split("/").reverse().join("-"),/(TIME)/g.test(this.datetimeSettings.selectedDateType)&&(a.push(this.timeObj.hour<10?"0"+this.timeObj.hour:this.timeObj.hour),a.push(this.timeObj.minute<10?"0"+this.timeObj.minute:this.timeObj.minute),a.push(this.timeObj.second<10?"0"+this.timeObj.second:this.timeObj.second),e+=(e?" ":"")+a.join(":"),"12H"===this.timeObj.format&&(e+=(" "+this.timeObj.ampm).toUpperCase()))):this.dateValue=e:/(TIME)/g.test(this.datetimeSettings.selectedDateType)&&(a.push(this.timeObj.hour<10?"0"+this.timeObj.hour:this.timeObj.hour),a.push(this.timeObj.minute<10?"0"+this.timeObj.minute:this.timeObj.minute),a.push(this.timeObj.second<10?"0"+this.timeObj.second:this.timeObj.second),e+=(e?" ":"")+a.join(":"),"12H"===this.timeObj.format&&(e+=(" "+this.timeObj.ampm).toUpperCase())),this.datetimeSelected.emit(e),this.datetimeChanged.emit(e)},n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"elemAttrs",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"initDatetimeValue",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"initTimeValue",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"dateValue",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"datetimeSettings",void 0),n.b([a.i(i.O)(),n.c("design:type",Number)],t.prototype,"cmpIndex",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"datetimeSelected",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"datetimeChanged",void 0),t=n.b([a.i(i._14)({selector:"[custom-datetimepicker]",template:'<div class="form-group no-mgn-bottom" [hidden]="datetimeSettings.selectedDateType === \'TIME_ONLY\'">\n\t\t\t\t\t<input type="text" [id]="elemAttrs.id" [name]="elemAttrs.name" class="form-control"\n\t\t\t\t\t[(ngModel)]="dateValue"\n\t\t\t\t\tplaceholder="{{ \'element.datetime.click_select_date\' | translate }}" \n\t\t\t\t\tcustom-datepicker (onSelect)="valueSelected($event)" (change)="valueSelected($event)"/>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t\t<div class="mgn-top-med form-group" *ngIf="datetimeSettings.selectedDateType === \'TIME_ONLY\'\n\t\t\t\t\t|| datetimeSettings.selectedDateType === \'DATETIME\'">\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="col-3 col-md-2">\n\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\n\t\t\t\t\t\t\t\t<label>{{ \'element.datetime.time_format\' | translate }}</label>\n\t\t\t\t\t\t\t\t<select name="timeFormat" class="form-control" [(ngModel)]="timeObj.format" (change)="timeFormatChanged()">\n\t\t\t\t\t\t\t\t\t<option [value]="\'12H\'">12H</option>\n\t\t\t\t\t\t\t\t\t<option [value]="\'24H\'">24H</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clearfix"></div>\n\t\t\t\t\t\t<div class="col-3 col-md-2">\n\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\n\t\t\t\t\t\t\t\t<label>{{ \'element.datetime.hour\' | translate }}</label>\n\t\t\t\t\t\t\t\t<select name="timeHour" id="timeHour" class="form-control" [(ngModel)]="timeObj.hour" (change)="valueSelected()">\n\t\t\t\t\t\t\t\t\t<option *ngFor="let h of timeObj.hourList" [value]="h">{{ h < 10 ? \'0\' + h : h }}</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-3 col-md-2">\n\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\n\t\t\t\t\t\t\t\t<label>{{ \'element.datetime.minute\' | translate }}</label>\n\t\t\t\t\t\t\t\t<select name="timeMinute" id="timeMinute" class="form-control" [(ngModel)]="timeObj.minute" (change)="valueSelected()">\n\t\t\t\t\t\t\t\t\t<option *ngFor="let h of timeObj.minuteList" [value]="h">{{ h < 10 ? \'0\' + h : h }}</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-3 col-md-2">\n\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\n\t\t\t\t\t\t\t\t<label>{{ \'element.datetime.second\' | translate }}</label>\n\t\t\t\t\t\t\t\t<select name="timeSecond" id="timeSecond" class="form-control" [(ngModel)]="timeObj.second" (change)="valueSelected()">\n\t\t\t\t\t\t\t\t\t<option *ngFor="let h of timeObj.secondList" [value]="h">{{ h < 10 ? \'0\' + h : h }}</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-3 col-md-2" *ngIf="timeObj.format === \'12H\'">\n\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\n\t\t\t\t\t\t\t\t<label>{{ \'element.datetime.ampm\' | translate }}</label>\n\t\t\t\t\t\t\t\t<select name="ampmFormat" class="form-control" [(ngModel)]="timeObj.ampm" (change)="valueSelected()">\n\t\t\t\t\t\t\t\t\t<option [value]="\'am\'">AM</option>\n\t\t\t\t\t\t\t\t\t<option [value]="\'pm\'">PM</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'}),n.c("design:paramtypes",[r.a])],t)})()},123:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(91);a.d(e,"a",(function(){return o}));var o=(function(t){function e(e,a,n){var r=t.call(this,e)||this;return r.el=a,r._zone=n,r.cmpIndex=0,r.initValue={},r.onCoordChanged=new i.F,r.mapId="",r.wrapper=$(a.nativeElement),r}return n.a(e,t),e.prototype.ngOnInit=function(){if(this.mapId=this._cmn.generateUUID(),this.mapElem=this.wrapper.find(".map-elem"),this.searchInput=this.wrapper.find("input"),this.mapElem.attr("id",this.mapId),this.searchInput.attr("id","schbox_"+this.mapId),"string"==typeof this.initValue&&this.initValue){var t=this.initValue.split(",");2===t.length&&(this.initValue={lat:parseFloat(t[0]),lng:parseFloat(t[1])})}else this.initValue={};this.checkApi()},e.prototype.changeCoordinate=function(t){if(t){var e=t.split(",");2===e.length&&(this.initValue={lat:parseFloat(e[0]),lng:parseFloat(e[1])},this.marker&&(this.marker.setPosition(this.initValue),this.mapInstance.panTo(this.marker.getPosition())))}},e.prototype.checkApi=function(){var t=this,e=0,a=setInterval((function(){google||20===e?(clearInterval(a),a=null,google&&t.proceedInitMap()):e+=1}),1e3)},e.prototype.proceedInitMap=function(){var t=this;if("object"==typeof this.initValue){this.initValue.hasOwnProperty("lat")||(this.initValue.lat=13.742655),this.initValue.hasOwnProperty("lng")||(this.initValue.lng=100.561782),this.mapInstance=new google.maps.Map(document.getElementById(this.mapId),{zoom:16,center:this.initValue,disableDefaultUI:!0,zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,scrollwheel:!1});var e=document.getElementById("schbox_"+this.mapId),a=new google.maps.places.SearchBox(e);this.mapInstance.controls[google.maps.ControlPosition.TOP_LEFT].push(e),this.marker=new google.maps.Marker({position:this.initValue,map:this.mapInstance,draggable:!0,icon:"assets/img/ic_place_black_24dp_2x.png"}),this.marker.addListener("dragend",(function(e){t._zone.run((function(){t.initValue={lat:e.latLng.lat(),lng:e.latLng.lng()},isNaN(t.initValue.lat)||isNaN(t.initValue.lng)||(t.onCoordChanged.emit(t.initValue.lat+","+t.initValue.lng),setTimeout((function(){t.mapInstance.panTo(t.marker.getPosition())}),300))}))})),google.maps.event.addListener(this.mapInstance,"idle",(function(){t._zone.run((function(){isNaN(t.initValue.lat)||isNaN(t.initValue.lng)||t.onCoordChanged.emit(t.initValue.lat+","+t.initValue.lng)}))})),google.maps.event.addListener(this.mapInstance,"click",(function(e){t.marker.setPosition(e.latLng),t._zone.run((function(){t.initValue={lat:e.latLng.lat(),lng:e.latLng.lng()},isNaN(t.initValue.lat)||isNaN(t.initValue.lng)||t.onCoordChanged.emit(t.initValue.lat+","+t.initValue.lng)}))})),a.addListener("places_changed",(function(){var e=a.getPlaces();if(0!==e.length){var n={lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng()};t.mapInstance.panTo(new google.maps.LatLng(n.lat,n.lng)),t.mapInstance.setZoom(14)}}))}},n.b([a.i(i.O)(),n.c("design:type",Number)],e.prototype,"cmpIndex",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],e.prototype,"initValue",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],e.prototype,"onCoordChanged",void 0),e=n.b([a.i(i._14)({selector:"map-coordinate-selector",template:'<div class="map-wrapper" [attr.id]="\'mapCoord_\' + cmpIndex">\n\t\t\t<input type="search" class="form-control search-place-input"\n\t\t\t\tplaceholder="{{ \'element.map_coord.search_box_placeholder\' | translate }}" />\n\t\t\t<div class="map-elem"></div>\n\t\t</div>'}),n.c("design:paramtypes",[i.h,i.M,i.k])],e)})(r.a)},124:function(t,e,a){"use strict";var n=a(4),i=a(9),r=a(2),o=a(91),l=a(94),s=a(182),c=a(16);a.d(e,"a",(function(){return d}));var d=(function(t){function e(e,a){var n=t.call(this,e)||this;n.el=a,n.initValue="",n.txtboxName="propElemTextbox",n.placeholderText="",n.cmpIndex=0,n.onValueChanged=new r.F,n.defaultTextboxModel="",n.settings={},n.urlTypeList=[{value:"page",label:"Select page"},{value:"custom",label:"Enter manually"}],n.pageUrl="",n.pageName="",n.isExtUrl=!1,n.headingList=i.s,n.headingTag="",n.$elem=$(a.nativeElement);var o=n._cmn.getComponentFactory(["[cmp-page-url-selector]"]);return o["[cmp-page-url-selector]"]?n._pageUrlSelectorCmpFactory=o["[cmp-page-url-selector]"]:(n._pageUrlSelectorCmpFactory=n._resolver.resolveComponentFactory(l.a),n._dlg.addCmpFactory([n._pageUrlSelectorCmpFactory])),n}return n.a(e,t),e.prototype.ngOnInit=function(){var t=this;if(this.propSetting?(/^(\{)/.test(this.propSetting)||"string"!=typeof this.propSetting||(this.propSetting="{}"),this.settings="string"==typeof this.propSetting?JSON.parse(this.propSetting||"{}"):Object.assign({},this.propSetting||{})):this.settings={},this.defaultTextboxModel=this.initValue||"",this.settings&&"object"==typeof this.settings&&0!==this.settings.length||(this.settings={}),this.settings.hasOwnProperty("helper")||(this.settings.helper=""),this.settings.hasOwnProperty("tagEnabled")||(this.settings.tagEnabled=!1),this.settings.hasOwnProperty("tag")||(this.settings.tag="h1"),"url"===this.settings.helper)if(this.settings.hasOwnProperty("selectedPageId")&&this.settings.selectedPageId?this.pageUrl=this.settings.selectedPageId:this.pageUrl=this.defaultTextboxModel,this._cmn.isUuid(this.pageUrl)){var e=Object.assign({},c.a.url.page.getById);e.url=e.url.replace(/(:id)/g,this.pageUrl),this._req.doRequest(e).subscribe((function(e){t.pageName=e.data.name+" ("+e.data.friendly_url+")",t.defaultTextboxModel=""}),(function(){t.pageName=t.pageUrl,t.defaultTextboxModel=""}))}else this.pageName=this.pageUrl,this.defaultTextboxModel=""},e.prototype.valueChanged=function(t){t&&(this.defaultTextboxModel=t),this.settings&&("url"!==this.settings.helper&&delete this.settings.selectedPageId,this.onValueChanged.emit({value:"url"===this.settings.helper?this.pageUrl:this.defaultTextboxModel,settings:this.settings}))},e.prototype.triggerSettingsChange=function(t){this.settings.helper!==t.helper&&("colorpicker"===t.helper&&(this.defaultTextboxModel="ffffff"),"url"===t.helper&&(this.defaultTextboxModel=""),""===t.helper&&(this.defaultTextboxModel=""),this.settings=Object.assign({},this.settings,t)),""===t.helper&&(this.settings=Object.assign({},this.settings,t)),this.valueChanged()},e.prototype.changeValue=function(t,e){var a=this;if(e&&(/^(\{)/.test(e)||(e="{}"),this.settings=JSON.parse(e||"{}")),this.settings||(this.settings={helper:""}),this.defaultTextboxModel=t,"url"===this.settings.helper)if(this.pageUrl=t,this._cmn.isUuid(this.pageUrl)){var n=Object.assign({},c.a.url.page.getById);n.url=n.url.replace(/(:id)/g,this.pageUrl),this._req.doRequest(n).subscribe((function(t){a.pageName=t.data.name+" ("+t.data.friendly_url+")"}),(function(){a.pageName=a.pageUrl}))}else this.pageName=this.pageUrl;else"colorpicker"===this.settings.helper&&this.colorPicker.changeColor(t)},e.prototype.openPageUrlSelector=function(){var t=this,e={title:{key:"dialog.page_url_selector",param:{language:""}},expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._pageUrlSelectorCmpFactory,dialogData:{optionValue:this.pageUrl,settings:this.settings},afterClose:function(e){if(e)if(t.settings=Object.assign({},t.settings,{selectedPageId:e.selectedPageId}),t.isExtUrl=e.externalUrlUsed,t.isExtUrl?t.pageUrl=e.selectedUrl:t.pageUrl=e.selectedPageId,t.valueChanged(),t._cmn.isUuid(t.pageUrl)){var a=Object.assign({},c.a.url.page.getById);a.url=a.url.replace(/(:id)/g,t.pageUrl),t._req.doRequest(a).subscribe((function(e){t.pageName=e.data.name+" ("+e.data.friendly_url+")"}),(function(){t.pageName=t.pageUrl}))}else t.pageName=t.pageUrl}};this._dlg.open(e)},n.b([a.i(r.O)(),n.c("design:type",Object)],e.prototype,"propSetting",void 0),n.b([a.i(r.O)(),n.c("design:type",String)],e.prototype,"initValue",void 0),n.b([a.i(r.O)(),n.c("design:type",String)],e.prototype,"txtboxName",void 0),n.b([a.i(r.O)(),n.c("design:type",String)],e.prototype,"placeholderText",void 0),n.b([a.i(r.O)(),n.c("design:type",Number)],e.prototype,"cmpIndex",void 0),n.b([a.i(r._5)(),n.c("design:type",Object)],e.prototype,"onValueChanged",void 0),n.b([a.i(r._15)(s.a),n.c("design:type",s.a)],e.prototype,"colorPicker",void 0),e=n.b([a.i(r._14)({selector:"[text-prop]",template:'<div *ngIf="!settings || !settings.helper">\n\t\t\t\t\t<input type="text" [name]="txtboxName"\n\t\t\t\t\tclass="form-control"\n\t\t\t\t\t[(ngModel)]="defaultTextboxModel"\n\t\t\t\t\tplaceholder="{{ (placeholderText || \'property_type.placeholder_textbox\') | translate }}"\n\t\t\t\t\t(change)="valueChanged()" />\n\t\t\t\t\t</div>\n\n\n\n\t\t\t\t<div *ngIf="settings && settings.tagEnabled" >\n\t\t\t\t\t<label>Select Heading</label>\n\t\t\t\t\t<select id="ddlTextboxHeading" class="form-control" name="textbox_heading"\n\t\t\t\t\t\t[(ngModel)]="settings.tag"\n\t\t\t\t\t\t(change)="valueChanged()">\n\t\t\t\t\t\t<option *ngFor="let item of headingList" [value]="item.value">{{ item.text }}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div *ngIf="settings && settings.helper === \'colorpicker\'" class="colorpicker-wrapper"\n\t\t\t\t\t[ngClass]="{ \'has-color\' : defaultTextboxModel }">\n\t\t\t\t\t<input type="text" class="form-control colorpicker-input"\n\t\t\t\t\t\t[name]="(txtboxName || \'color_picker_\' + cmpIndex)" [(ngModel)]="defaultTextboxModel"\n\t\t\t\t\t\tcolorpicker [initValue]="defaultTextboxModel"\n\t\t\t\t\t\tplaceholder="{{ \'element.text.colorpicker_placeholder\' | translate }}"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t\t(onChanged)="valueChanged($event);" />\n\t\t\t\t</div>\n\t\t\t\t<div *ngIf="settings && settings.helper === \'url\'">\n\t\t\t\t\t<button type="button" class="btn btn-info" (click)="openPageUrlSelector()">\n\t\t\t\t\t\t<i class="material-icons">insert_drive_file</i>\n\t\t\t\t\t\t<span>{{ \'element.text.select_page\' | translate }}</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<label class="page-url-label padd-left-med"\n\t\t\t\t\t\t[hidden]="!pageName"\n\t\t\t\t\t\t[ngClass]="{ \'ext-url\': isExtUrl }">\n\t\t\t\t\t\t{{ pageName }}\n\t\t\t\t\t</label>\n\t\t\t\t</div>'}),n.c("design:paramtypes",[r.h,r.M])],e)})(o.a)},125:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(9),o=a(36),l=a(75),s=a(27),c=a(16),d=a(19),p=a(12);a.d(e,"a",(function(){return m}));var m=(function(t){function e(e,a,n,i){var o=t.call(this,e)||this;o._translate=a,o._req=n,o._cmn=i,o.maxImageSize=r.e.MAX_IMAGE_SIZE,o.imageFormatRegex=new RegExp("jpg|jpeg|gif|png|svg","gi"),o.fileSizeFixed=!1,o.elementList=Object.assign([],r.t),o.selectedElementType="",o.elementDescription="",o._ctrlTextType="text",o.textType={number:"number",text:"text"},o._ctrlChkboxObj={checkedValue:"",checkedText:"",uncheckedText:""},o._ctrlChkboxListItem={checkedValue:"",checkedText:"",uncheckedText:""},o.ctrlChkBoxList=[],o._ctrlRadioListItem={value:"",label:""},o._ctrlRadioList=[],o.elementKey=Object.assign({},r.p),o.dropdownItemList=[],o.dropdownItemFormObj={text:"",value:""},o.allowedfileExtensions="",o.formatFileList=r.u,o.selectedFileUploadFormat="",o.multiLineScriptFormat=!1,o.imageSizeObj={width:"",height:"",ratio:"",size:""},o.datetimeOptions=r.v,o.dateTimeFormatType=r.v[0].value,o.selectedControlId="",o.selectedControlName="",o.originalControlData=[],o.controlList=[],o.controlsLoaded=!1,o.paginationEnabled=!1,o.filterEnabled=!1,o.paginationPerPage=0,o.originalPaginationTemplates=[],o.paginationTemplates=[],o.selectedPaginationTemplate="",o._showPaginationOption=!1,o._siteDomain="",o._formToken="",o._currentSiteDomainName="",o.textboxHelperList=r.w,o._selectedTextboxHelper="",o.headingTagEnabled=!1,o._txaMaxLength=0,o._rteMaxLength=0;var l=o._cmn.getCurrentInfo(),s=l.currentSiteId,c=l.siteList;return o._showPaginationOption=[r.c.DEVELOPER].indexOf(l.currentUserLevel)>-1,o._formToken=l.formToken,o._siteDomain=l.siteDomain,c.forEach((function(t){t.id===s&&(o._currentSiteDomainName=t.domain_name)})),o._siteDomain&&(/^(https?:\/\/)/g.test(o._siteDomain)||(o._siteDomain="http://"+o._siteDomain),/(\/)$/g.test(o._siteDomain)||(o._siteDomain+="/")),o}return n.a(e,t),e.prototype.ngOnInit=function(){if(this.dialogData&&this.dialogData.currentElement){switch(this.selectedElementType=this.dialogData.currentElement.type,this.dialogData.currentElement.type){case r.p.TEXTBOX:this._selectedTextboxHelper=this.dialogData.currentElement.value.helper,this.headingTagEnabled=this.dialogData.currentElement.value.tagEnabled;break;case r.p.DROPDOWN:this.dropdownItemList=this.dialogData.currentElement.value;break;case r.p.RADIO_LIST:this._ctrlRadioList=this.dialogData.currentElement.value;break;case r.p.CHECKBOX:this._ctrlChkboxListItem=this.dialogData.currentElement.value;break;case r.p.FILE_UPLOAD:this.dialogData.currentElement.value.hasOwnProperty("selectedOption")||(this.dialogData.currentElement.value={},this.dialogData.currentElement.value.selectedOption="",this.dialogData.currentElement.value.targetFileExtensions="",this.dialogData.currentElement.value.imageSizeOption={}),this.selectedFileUploadFormat=this.dialogData.currentElement.value.selectedOption,this.allowedfileExtensions=this.dialogData.currentElement.value.targetFileExtensions,this.imageSizeObj=Object.assign({},this.dialogData.currentElement.value.imageSizeOption);break;case r.p.MULTILINE_TEXT:this.multiLineScriptFormat=this.dialogData.currentElement.value.scriptFormat,this._txaMaxLength=this.dialogData.currentElement.value.maxLength;break;case r.p.RICHTEXT_EDITOR:this._rteMaxLength=this.dialogData.currentElement.value.maxLength;break;case r.p.DATETIME:this.dateTimeFormatType=this.dialogData.currentElement.value.selectedDateType;break;case r.p.CONTROL_LIST:this.selectedControlId=this.dialogData.currentElement.value.selectedControlId,this.selectedControlName=this.dialogData.currentElement.value.selectedControlName,this.filterEnabled=this.dialogData.currentElement.value.filterEnabled,this.paginationEnabled=this.dialogData.currentElement.value.paginationEnabled,this.paginationPerPage=this.dialogData.currentElement.value.paginationPerPage,this.selectedPaginationTemplate=this.dialogData.currentElement.value.selectedPaginationTemplate,this.loadPaginationTemplates()}this.changeElementType()}},e.prototype.addDropdownValueList=function(){var t=Object.assign({},this.dropdownItemFormObj);this.dropdownItemList.push(t),this.dropdownItemFormObj.text="",this.dropdownItemFormObj.value="",setTimeout((function(){$('[name="ddlItemText"]').focus()}),1)},e.prototype.removeDropdownItem=function(t){this.dropdownItemList=this.dropdownItemList.filter((function(e){return e.text!==t.text&&e.value!==t.value}))},e.prototype.addRadioItemList=function(){var t=Object.assign({},this._ctrlRadioListItem);this._ctrlRadioList.push(t),this._ctrlRadioListItem.value="",this._ctrlRadioListItem.label="",setTimeout((function(){$("#txtRdoCheckedValue").focus()}),1)},e.prototype.removeRadioItem=function(t){this._ctrlRadioList=Object.assign([],this._ctrlRadioList.filter((function(e){return e.value!==t.value&&e.label!==t.label})))},e.prototype.changeElementType=function(){var t=this,e=this.elementList.filter((function(e){return e.key===t.selectedElementType}));if(e.length>0?this.elementDescription=e[0].description:this.elementDescription="",this.selectedElementType!==r.p.CONTROL_LIST||this.controlsLoaded)setTimeout((function(){t.resizeDialog()}),0);else{var a=Object.assign({},c.a.url.control.getAll);this._req.doRequest(a).subscribe((function(e){e.result&&(t.originalControlData=e.data,t.controlList=e.data.map((function(t){return{id:t.id,name:t.name}})),t.ctrlSelector.forEach((function(e){"txtTargetCtrl"===e.inputElem.attr("id")&&e.initPlugin(t.controlList)}))),t.controlsLoaded=!0,setTimeout((function(){t.resizeDialog()}),0)}))}},e.prototype.loadPaginationTemplates=function(){var t=this;if(this.selectedElementType!==r.p.CONTROL_LIST||this.controlsLoaded)setTimeout((function(){t.resizeDialog()}),0);else{var e=Object.assign({},c.a.url.paginationTemplates);e.url=e.url.replace(/(:domain_name)/g,this._currentSiteDomainName),e.url=this._siteDomain+"client-api"+e.url;var a={url:e.url,method:"GET",headers:{"X-CMS-Form-Token":this._formToken}};this._req.customRequest(a).subscribe((function(e){e.result&&(t.originalPaginationTemplates=e.data,t.paginationTemplates=e.data.map((function(t,e){return{id:e,name:t}})),t.ctrlSelector.forEach((function(e){"txtTargetCtrlPaginationTemplate"===e.inputElem.attr("id")&&e.initPlugin(t.paginationTemplates)}))),t.controlsLoaded=!0,setTimeout((function(){t.resizeDialog()}),0)}),(function(e){t.paginationTemplates=[],t.controlsLoaded=!0,setTimeout((function(){t.resizeDialog()}),0)}))}},e.prototype.imageSizeBoxHandler=function(t,e){"width"===e&&(/(\d?)/.test(this.imageSizeObj.width)?("number"==typeof this.imageSizeObj.width&&this.imageSizeObj.width<=0||"string"==typeof this.imageSizeObj.width&&parseInt(this.imageSizeObj.width,10)<=0)&&(this.imageSizeObj.width=""):this.imageSizeObj.height=""),"height"===e&&(/(\d?)/.test(this.imageSizeObj.height)?("number"==typeof this.imageSizeObj.height&&this.imageSizeObj.height<=0||"string"==typeof this.imageSizeObj.height&&parseInt(this.imageSizeObj.height,10)<=0)&&(this.imageSizeObj.height=""):this.imageSizeObj.height="")},e.prototype.setElementToProperty=function(){var t=[],e={elementType:this.selectedElementType};switch(this.selectedElementType){case r.p.TEXTBOX:var a=!1;switch(this._selectedTextboxHelper){case"colorpicker":case"url":a=!1;break;default:a=this.headingTagEnabled}t=Object.assign({},{helper:this._selectedTextboxHelper,tagEnabled:a});break;case r.p.MULTILINE_TEXT:t=Object.assign({},{scriptFormat:this.multiLineScriptFormat,maxLength:this._txaMaxLength});break;case r.p.RICHTEXT_EDITOR:t=Object.assign({},{maxLength:this._rteMaxLength});break;case r.p.CHECKBOX:t=Object.assign({},this._ctrlChkboxListItem);break;case r.p.RADIO_LIST:t=Object.assign([],this._ctrlRadioList);break;case r.p.DROPDOWN:t=Object.assign([],this.dropdownItemList);break;case r.p.FILE_UPLOAD:var n="";this.imageSizeObj.ratio&&!/([1-9]\d?[:][1-9]\d?)/.test(this.imageSizeObj.ratio)&&(this.imageSizeObj.ratio=""),n="CUSTOM"===this.selectedFileUploadFormat?this.allowedfileExtensions:this.selectedFileUploadFormat,this.imageFormatRegex.test(n)&&(this.imageSizeObj.size=r.e.MAX_IMAGE_SIZE),t={selectedOption:this.selectedFileUploadFormat,targetFileExtensions:n,imageSizeOption:Object.assign({},this.imageSizeObj)};break;case r.p.DATETIME:t={selectedDateType:this.dateTimeFormatType};break;case r.p.CONTROL_LIST:t={selectedControlId:this.selectedControlId,selectedControlName:this.selectedControlName,paginationEnabled:this.paginationEnabled,filterEnabled:this.filterEnabled,paginationPerPage:this.paginationPerPage,selectedPaginationTemplate:this.selectedPaginationTemplate}}e=Object.assign({},e,{elementValue:t}),this.closeDialog(!0,e)},e.prototype.fileUploadFormatChanged=function(){var t=this;this.imageFormatRegex.test(this.selectedFileUploadFormat)?(this.imageSizeObj={width:"",height:"",ratio:"",size:r.e.MAX_IMAGE_SIZE},this.fileSizeFixed=!0):(this.imageSizeObj={size:""},this.fileSizeFixed=!1),setTimeout((function(){t.resizeDialog()}),1)},e.prototype.selectTargetControl=function(t){var e=this;this.selectedControlId=t.id,this.selectedControlName=t.name,this.paginationEnabled=!1,this.paginationPerPage=0,this.selectedPaginationTemplate="",setTimeout((function(){e.resizeDialog()}),0)},e.prototype.selectPaginationTemplate=function(t){var e=this;this.selectedPaginationTemplate=t.name,setTimeout((function(){e.resizeDialog()}),0)},e.prototype.removeTargetCtrl=function(t){var e=this;t.preventDefault(),this.selectedControlId="",this.selectedControlName="",this.filterEnabled=!1,setTimeout((function(){$("#txtTargetCtrl").focus(),e.resizeDialog()}),0)},e.prototype.removeTargetPaginationTemplateCtrl=function(t){var e=this;t.preventDefault(),this.selectedPaginationTemplate="",setTimeout((function(){$("#txtTargetCtrlPaginationTemplate").focus(),e.resizeDialog()}),0)},n.b([a.i(i._16)(l.a),n.c("design:type",i._17)],e.prototype,"ctrlSelector",void 0),e=n.b([a.i(i._14)({selector:"[cmp-property-type]",template:a(675)}),n.c("design:paramtypes",[i.h,s.d,d.a,p.a])],e)})(o.a)},126:function(t,e,a){"use strict";var n=a(4),i=a(29),r=a(2),o=a(9);a.d(e,"a",(function(){return l}));var l=(function(){function t(t,e,a){this.el=t,this._sncBar=e,this._zone=a,this.barSetting={message:"",autoClose:!0,duration:3e3},this._message="",this._type=o.k.NORMAL,this._show=!1,this._bar=$(t.nativeElement)}return t.prototype.ngOnInit=function(){$(document).off("click.snack-bar"),this._message=this.barSetting.message,this._type=this.barSetting.type||o.k.NORMAL},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t._show=!0,void 0===t.barSetting.autoClose&&(t.barSetting.autoClose=!0),t.barSetting.duration||(t.barSetting.duration=4e3),t.barSetting.autoClose&&setTimeout((function(){t.close()}),t.barSetting.duration||3e3),$(document).on("click.snack-bar",(function(e){$(e.target).hasClass(".snack-bar")||0!==$(e.target).closest(".snack-bar").length||t._zone.run((function(){t.close()}))}))}),1)},t.prototype.close=function(){var t=this;this._show=!1,$(document).off("click.snack-bar"),setTimeout((function(){t._sncBar.destroyComponent(0).subscribe((function(){t._bar.remove()}))}),400)},t=n.b([a.i(r._14)({selector:"cmp-snackbar",template:a(677)}),n.c("design:paramtypes",[r.M,i.a,r.k])],t)})()},16:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r}));var n={GET:"GET",POST:"POST",DELETE:"DELETE"},i={domain:a.i({ENV:"production",NODE_ENV:"production",HMR:!1,CMS_TYPE:"full"}).NODE_API_URL||"http://quiq-node.quo-digital.com:3000",token:a.i({ENV:"production",NODE_ENV:"production",HMR:!1,CMS_TYPE:"full"}).NODE_API_KEY||"8Fz4x6U8VVigENoILHey80qgsoxHeoZ1",url:{request:{url:"/api/request"}}},r={siteDomain:"http://localhost",domain:"http://localhost",defaultUploadPath:"/uploads",url:{clearCache:{url:"/clear-cache",method:n.GET},getUploadDir:{url:"/uploads",method:n.GET},quickUpload:{url:"/quick-upload",method:n.POST},multiUpload:{url:"/multiple-upload",method:n.POST},fileRename:{url:"/rename",method:n.POST},fileRemove:{url:"/delete",method:n.DELETE},categories:{url:"/categoryNames",method:n.GET},paginationTemplates:{url:"/paginator-templates/:domain_name",method:n.GET},getCacheLinks:{url:"/cache-links",method:n.GET},dashboard:{getData:{url:"/dashboard/:id",method:n.GET},searchOption:{url:"/dashboard/search",method:n.POST}},user:{login:{url:"/user/login",method:n.POST},logout:{url:"/user/logout",method:n.POST},authCheck:{url:"/user/is-loggedin",method:n.POST},getByEmail:{url:"/user/search-by-email",method:n.POST},getUser:{url:"/user/:id",method:n.GET},getAllUsers:{url:"/users",method:n.GET},register:{url:"/user/register",method:n.POST},update:{url:"/user/:id/update",method:n.POST},multiUpdate:{url:"/users/update",method:n.POST},delete:{url:"/user/:id",method:n.DELETE},multiDelete:{url:"/users",method:n.DELETE}},roles:{getAllRoles:{url:"/roles",method:n.GET},getRole:{url:"/role/:id",method:n.GET}},sites:{getAllSites:{url:"/sites",method:n.GET},getSite:{url:"/site/:id",method:n.GET},getSiteRedirectUrl:{url:"/site/:id/redirectUrls",method:n.GET},getSiteTemplates:{url:"/site/:id/templates",method:n.GET},getSiteGlobals:{url:"/site/:id/globalItems",method:n.GET},getSiteGlobalsByComponentId:{url:"/site/:id/globalItems/:componentId",method:n.GET},getPages:{url:"/site/:id/pages",method:n.GET},create:{url:"/site",method:n.POST},multiUpdate:{url:"/sites/update",method:n.POST},update:{url:"/site/:id/update",method:n.POST},delete:{url:"/site/:id",method:n.DELETE},multiDelete:{url:"/sites",method:n.DELETE},previewPage:{url:"/site/:id/page-preview",method:n.POST}},redirectUrl:{getAll:{url:"/redirectUrls",method:n.GET},create:{url:"/redirectUrl",method:n.POST},multiUpdate:{url:"/redirectUrls/update",method:n.POST},update:{url:"/redirectUrl/:id/update",method:n.POST},delete:{url:"/redirectUrl/:id",method:n.DELETE},multiDelete:{url:"/redirectUrls",method:n.DELETE}},control:{getAll:{url:"/components",method:n.GET},getById:{url:"/component/:id",method:n.GET},getOptionsByCtrlId:{url:"/component/:id/componentOptions",method:n.GET},getInheritancesById:{url:"/component/:id/inheritances",method:n.GET},getInheritancesByIdAndSiteId:{url:"/component/:id/inheritances/:site_id",method:n.GET},updateInheritances:{url:"/component/:id/inheritances/update",method:n.POST},create:{url:"/component",method:n.POST},multiUpdate:{url:"/components/update",method:n.POST},update:{url:"/component/:id/update",method:n.POST},multiDelete:{url:"/components",method:n.DELETE},delete:{url:"/component/:id",method:n.DELETE}},property:{create:{url:"/componentOption",method:n.POST},multiUpdate:{url:"/componentOptions/update",method:n.POST},update:{url:"/componentOption/:id/update",method:n.POST},getAll:{url:"/componentOptions",method:n.GET},getById:{url:"/componentOption/:id",method:n.GET},delete:{url:"/componentOption/:id",method:n.DELETE},multiDelete:{url:"/componentOptions",method:n.DELETE}},template:{getAll:{url:"/templates",method:n.GET},getById:{url:"/template/:id",method:n.GET},getItemsByTemplateId:{url:"/template/:id/templateItems",method:n.GET},getPagesByTemplateId:{url:"/template/:id/pages",method:n.GET},create:{url:"/template",method:n.POST},multiUpdate:{url:"/templates/update",method:n.POST},update:{url:"/template/:id/update",method:n.POST},reorder:{url:"/template/:id/templateItems/reorder",method:n.POST},multiDelete:{url:"/templates",method:n.DELETE},delete:{url:"/template/:id",method:n.DELETE}},templateItem:{getAll:{url:"/templateItems",method:n.GET},getById:{url:"/templateItem/:id",method:n.GET},getOptionsById:{url:"/templateItem/:id/templateItemOptions",method:n.GET},create:{url:"/templateItem",method:n.POST},multiUpdate:{url:"/templateItems/update",method:n.POST},update:{url:"/templateItem/:id/update",method:n.POST},multiDelete:{url:"/templateItems",method:n.DELETE},delete:{url:"/templateItem/:id",method:n.DELETE}},templateItemOption:{getAll:{url:"/templateItemOptions",method:n.GET},getById:{url:"/templateItemOption/:id",method:n.GET},create:{url:"/templateItemOption",method:n.POST},multiUpdate:{url:"/templateItemOptions/update",method:n.POST},update:{url:"/templateItemOption/:id/update",method:n.POST},multiDelete:{url:"/templateItemOptions",method:n.DELETE},delete:{url:"/templateItemOption/:id",method:n.DELETE}},page:{getAll:{url:"/pages",method:n.GET},getById:{url:"/page/:id",method:n.GET},getItemsById:{url:"/page/:id/pageItems",method:n.GET},create:{url:"/page",method:n.POST},multiUpdate:{url:"/pages/update",method:n.POST},update:{url:"/page/:id/update",method:n.POST},reorderItem:{url:"/page/:id/pageItems/reorder",method:n.POST},multiDelete:{url:"/pages",method:n.DELETE},delete:{url:"/page/:id",method:n.DELETE}},pageItem:{getAll:{url:"/pageItems",method:n.GET},getById:{url:"/pageItem/:id",method:n.GET},getOptionsById:{url:"/pageItem/:id/pageItemOptions",method:n.GET},create:{url:"/pageItem",method:n.POST},multiUpdate:{url:"/pageItems/update",method:n.POST},update:{url:"/pageItem/:id/update",method:n.POST},multiDelete:{url:"/pageItems",method:n.DELETE},delete:{url:"/pageItem/:id",method:n.DELETE}},pageItemOption:{getAll:{url:"/pageItemOptions",method:n.GET},getById:{url:"/pageItemOption/:id",method:n.GET},create:{url:"/pageItemOption",method:n.POST},multiUpdate:{url:"/pageItemOptions/update",method:n.POST},update:{url:"/pageItemOption/:id/update",method:n.POST},multiDelete:{url:"/pageItemOptions",method:n.DELETE},delete:{url:"/pageItemOption/:id",method:n.DELETE}},globalItem:{getAll:{url:"/globalItems",method:n.GET},getById:{url:"/globalItem/:id",method:n.GET},getOptionsById:{url:"/globalItem/:id/globalItemOptions",method:n.GET},create:{url:"/globalItem",method:n.POST},multiUpdate:{url:"/globalItems/update",method:n.POST},update:{url:"/globalItem/:id/update",method:n.POST},multiDelete:{url:"/globalItems",method:n.DELETE},delete:{url:"/globalItem/:id",method:n.DELETE}},globalItemOption:{getAll:{url:"/globalItemOptions",method:n.GET},getById:{url:"/globalItemOption/:id",method:n.GET},create:{url:"/globalItemOption",method:n.POST},multiUpdate:{url:"/globalItemOptions/update",method:n.POST},update:{url:"/globalItemOption/:id/update",method:n.POST},delete:{url:"/globalItemOption/:id",method:n.DELETE},multiDelete:{url:"/globalItemOptions",method:n.DELETE}},languages:{getAll:{url:"/languages",method:n.GET},getByLangCode:{url:"/language/:code",method:n.GET},create:{url:"/language",method:n.POST},multiUpdate:{url:"/languages/update",method:n.POST},update:{url:"/language/:code/update",method:n.POST},multiDelete:{url:"/languages",method:n.DELETE},delete:{url:"/language/:code",method:n.DELETE}},siteLanguages:{getAllLang:{url:"/site/:id/languages",method:n.GET},getLangByCode:{url:"/site/:id/language/:code",method:n.GET},addLangToSite:{url:"/site/:id/language",method:n.POST},updateMultiLang:{url:"/site/:id/languages/update",method:n.POST},updateByLangCode:{url:"/site/:id/language/:code/update",method:n.POST},reorderLang:{url:"/site/:id/languages/reorder",method:n.POST},removeMultiLangFromSite:{url:"/site/:id/languages",method:n.DELETE},removeLangFromSite:{url:"/site/:id/language/:code",method:n.DELETE}},siteTranslations:{export:{url:"/site/:id/export-translations",method:n.GET},import:{url:"/site/:id/import-translations",method:n.POST}},log:{get:{url:"/logs",method:n.GET},deleteLogs:{url:"/logs",method:n.DELETE},getFormLog:{url:"/site/:id/submissions",method:n.GET},deleteSubmissions:{url:"/site/:id/submissions",method:n.DELETE},exportSubmissions:{url:"/site/:id/export-submissions/:form_type",method:n.GET}}}}},166:function(t,e,a){"use strict";var n=a(44),i=a(2);a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return s}));var r=[],o=function(t){return t};a.i(i.a)(),o=function(t){return a.i(n.a)(),t},r=r.slice();var l=o,s=r.slice()},168:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(36);a.d(e,"a",(function(){return o}));var o=(function(t){function e(e,a){var n=t.call(this,e)||this;return n.el=a,n.previewHtml="",n}return n.a(e,t),e.prototype.ngOnInit=function(){if(this.dialogData.previewContent){var t=this.iframe.nativeElement.contentDocument||this.iframe.nativeElement.contentWindow;t.open(),t.write(this.dialogData.previewContent),t.close()}},n.b([a.i(i.O)(),n.c("design:type",String)],e.prototype,"previewHtml",void 0),n.b([a.i(i._15)("previewFrame"),n.c("design:type",i.M)],e.prototype,"iframe",void 0),e=n.b([a.i(i._14)({selector:"[cmp-page-preview]",template:'<iframe #previewFrame id="previewFrame" class="preview-frame"></iframe>'}),n.c("design:paramtypes",[i.h,i.M])],e)})(r.a)},169:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(27),o=a(74);a.n(o);a.d(e,"a",(function(){return l}));var l=(function(){function t(t,e){this._translate=e,this.tableOptions={},this._table=$(t.nativeElement)}return t.prototype.ngOnInit=function(){"TABLE"!==this._table.get(0).tagName&&console.error("[Datatable Directive Error] The elementRef tag is not a table, please use the directive with div element")},t.prototype.initDataTable=function(t){var e=this;return o.Observable.create((function(a){var n={autoWidth:!0,pageLength:10},i=Object.assign({},n,t);e.prepareElement(i).subscribe((function(t){a.next(t),a.complete()}),(function(t){a.next(null),a.complete()}))}))},t.prototype.applyCustomTranslate=function(t){if(t.find("[aria-translate]").length>0){var e=["common.edit","common.delete"];t.find("[aria-translate]").each((function(t,a){var n=$(a).attr("aria-translate");n&&e.push(n)})),e.length>0&&this._translate.get(e).subscribe((function(e){e.length?console.log(e):$.each(e,(function(e,a){t.find('[aria-translate="'+e+'"]').each((function(t,e){$(e).attr("data-translate-tooltip")?$(e).attr("title",a):$(e).html(a)}))})),setTimeout((function(){t.find("[data-translate-tooltip]").length>0&&(t.find("[data-translate-tooltip]").tooltip(),t.find("[data-translate-tooltip]").removeAttr("data-translate-tooltip"))}),200),t.find("[aria-translate]").removeAttr("aria-translate")}))}},t.prototype.prepareElement=function(t){var e=this;return o.Observable.create((function(a){var n=["common.edit","common.delete","table.search","table.input_search","table.show_page_length","table.empty","table.page_info","table.page_info_empty","table.item_edit","table.item_view","table.item_view_global","table.using_global_item","table.item_delete"];e._table.addClass("table"),e._translate.get(n).subscribe((function(n){t=Object.assign({},t,{language:{lengthMenu:n["table.show_page_length"],emptyTable:n["table.empty"],info:n["table.page_info"],infoEmpty:n["table.page_info_empty"],search:n["table.search"],searchPlaceholder:n["table.input_search"],paginate:{previous:"chevron_left",next:"chevron_right"}}}),e._table.on("draw.dt",(function(a){t.afterDraw&&"function"==typeof t.afterDraw&&t.afterDraw(e._table);var n=$(a.currentTarget).closest(".dataTables_wrapper");e.applyCustomTranslate(n)})),e._table.on("page.dt",(function(a){t.afterPaging&&"function"==typeof t.afterPaging&&t.afterPaging(e._table)})),e._table.on("init.dt",(function(){e._wrapper=e._table.closest(".dataTables_wrapper"),e._wrapper.find(".col-xs-12").removeClass("col-xs-12").addClass("col-12"),e._wrapper.children(".row").first().addClass("filter-bar"),e._wrapper.find(".row").eq(1).addClass("table-wrapper"),e._wrapper.find(".dataTables_info").closest(".row").addClass("info-bar"),e._filterBar=e._wrapper.find(".filter-bar"),e._tableWrapper=e._wrapper.find(".table-wrapper"),e._paging=e._wrapper.find(".dataTables_paginate"),e._tableWrapper.children().first().addClass("inner-wrapper"),e._table.get(0).style.width=null,e._table.find("thead th").each((function(t,e){$(e).get(0).style.width=null})),e._paging.addClass("clearfix"),t.afterInitTable&&"function"==typeof t.afterInitTable&&t.afterInitTable(e._table),e._wrapper.find('[aria-function^="edit-"]').length>0&&e._wrapper.find('[aria-function^="edit-"]').attr("title",n["table.item_edit"]),e._wrapper.find('[aria-function^="delete-"]').length>0&&e._wrapper.find('[aria-function^="delete-"]').attr("title",n["table.item_delete"]),e._wrapper.find('[aria-function^="view-"]').length>0&&e._wrapper.find('[aria-function^="view-"]').attr("title",n["table.item_view"]),e._wrapper.find('[aria-function^="view-global-"]').length>0&&e._wrapper.find('[aria-function^="view-global-"]').attr("title",n["table.item_view_global"]),e._wrapper.find('[aria-function^="using-global-item"]').length>0&&e._wrapper.find('[aria-function^="using-global-item"]').attr("title",n["table.using_global_item"]),e._wrapper.find("[title]").length>0&&(e._wrapper.find("[title]").attr("data-animation","false"),setTimeout((function(){e._wrapper.find("[title]").tooltip()}),200)),e.applyCustomTranslate(e._wrapper)})),$.fn.DataTable.isDataTable(e._table)&&e._table.DataTable().destroy(),e._dt=e._table.DataTable(t),a.next(e._dt),a.complete()}),(function(t){a.next(null),a.complete()}))}))},n.b([a.i(i.O)("tableOptions"),n.c("design:type",Object)],t.prototype,"tableOptions",void 0),t=n.b([a.i(i.J)({selector:"[di-datatable]"}),n.c("design:paramtypes",[i.M,r.d])],t)})()},170:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(12),o=a(9),l=a(16);a.d(e,"a",(function(){return s}));var s=(function(){function t(t,e,a,n){this._cmn=e,this._zone=a,this._resolver=n,this.editMode=!1,this.itemSelected=!1,this.currentPath=[],this.uploadRoot="",this.domainName="",this.remoteHost="",this.onItemRendered=new i.F,this.onDeleteFileSelected=new i.F,this.onDirectoryOpened=new i.F,this.onItemRenameTriggered=new i.F,this.hideChildren=!0,this.fileType="",this.itemType="",this.uploadPath=l.a.domain+"/",this.imageRatioValid=!0,this.imagePath="",this.thumbnailPath="",this._elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){/(.+\/$)/g.test(this.uploadPath)||(this.uploadPath+="/"),this.itemType=this.itemData.type.toLowerCase();var t=this._cmn.getCurrentInfo(),e=t.siteList[0].domain_name;if(/(.)(jpg|png|gif|jpeg|svg)$/gi.test(this.itemData.name)){this.fileType="IMAGE";var a=[],n="",i="",r="";this.imageInfo={},this.imageSizeSetting||(this.imageSizeSetting={}),this.currentPath.length>0?(this.currentPath.map((function(t){a.push(t.name)})),r=a.join("/"),n=this.uploadPath+r+"/"+this.itemData.name,i=this.uploadPath+r+"/"):(n=this.uploadPath+this.itemData.name,i=this.uploadPath);var s=this.itemData.name.split("."),c=s[0]+"-"+o.m.fileUploadThumbnailSize+"-resize."+s[1];i=i.replace(/(\/uploads\/)/g,"/uploads/_crops/"+this.uploadRoot+"/"),e&&this.remoteHost&&t.formToken&&(/(\/$)/g.test(this.remoteHost)&&(this.remoteHost=this.remoteHost.replace(/\/$/g,"")),n=n.replace(l.a.domain,this.remoteHost),i=i.replace(l.a.domain,this.remoteHost)),this.imagePath=n,this.thumbnailPath=i+c,this.onItemRendered.emit(!0)}/(.)(mp4|wmv|webm|avi|mkv)$/gi.test(this.itemData.name)&&(this.fileType="VIDEO")},t.prototype.ngAfterViewInit=function(){this._elem.on("contextmenu.dir-selector",(function(t){t.preventDefault()})),this.bindEvent()},t.prototype.toggleEditMode=function(t){this.editMode=t,t||(this.itemSelected=!1)},t.prototype.setSelected=function(t){this.itemSelected=t},t.prototype.bindEvent=function(){var t=this;this._elem.on("click.dir-selector",(function(e){t._zone.run((function(){t.editMode?t.itemData.type.toUpperCase()===o.n.FILE&&($(e.target).attr("role")&&"rename-button"===$(e.target).attr("role")?t.openRenameDialog():(t.itemSelected=!t.itemSelected,t.onDeleteFileSelected.emit({fileName:t.itemData.name,selected:t.itemSelected}))):($(".directory-list-area .dir-wrapper.active").removeClass("active"),$(e.currentTarget).addClass("active"),t.itemData.type.toUpperCase()===o.n.DIRECTORY?t._cmn.setDirectoryInfo({fileSelected:!1,selectedFile:"",selectedImageInfo:{},navigateInto:null}):/(.)(jpg|png|gif|jpeg|svg)/gi.test(t.itemData.name)||t._cmn.setDirectoryInfo({fileSelected:!0,selectedFile:t.itemData.name,selectedImageInfo:null,navigateInto:null}))}))})),this._elem.on("dblclick.dir-selector",(function(e){e.preventDefault(),t._zone.run((function(){t.itemData.items&&t.itemData.type.toUpperCase()===o.n.DIRECTORY&&t._cmn.setDirectoryInfo({fileSelected:!1,selectedFile:"",selectedImageInfo:{},navigateInto:Object.assign({},t.itemData)})}))}))},t.prototype.unbindEvent=function(){this._elem.off("click.dir-selector").off("dblclick.dir-selector")},t.prototype.getParent=function(){var t=this._elem.parents(".directory-item"),e=[],a="";t.length&&(t.each((function(t,a){var n=$(a).children("cmp-dir-item").children(".dir-wrapper").find(".directory-name").data("name");n&&e.push(n)})),e.reverse(),a=e.join("/")),this._cmn.setDirectoryInfo({uploadTargetPath:a})},t.prototype.openRenameDialog=function(){this.onItemRenameTriggered.emit(this.itemData.name)},n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"itemData",void 0),n.b([a.i(i.O)(),n.c("design:type",Array)],t.prototype,"currentPath",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"imageSizeSetting",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"uploadRoot",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"domainName",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"remoteHost",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onItemRendered",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onDeleteFileSelected",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onDirectoryOpened",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onItemRenameTriggered",void 0),t=n.b([a.i(i._14)({selector:"[file-dir-item]",template:a(667)}),n.c("design:paramtypes",[i.M,r.a,i.k,i.Q])],t)})()},171:function(t,e){function a(t){throw new Error("Cannot find module '"+t+"'.")}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id=171},172:function(t,e,a){"use strict";var n=a(431);a.d(e,"a",(function(){return n.a}))},173:function(t,e,a){"use strict";var n=a(121);a.d(e,"a",(function(){return n.a}))},174:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(9),o=a(36),l=a(12),s=a(29),c=a(16),d=a(19);a.d(e,"a",(function(){return p}));var p=(function(t){function e(e,a,n,i){var o=t.call(this,e)||this;return o._cmn=a,o._sncBar=n,o._reqSvc=i,o.selectedDirectory="",o.newDirectoryName="",o.directoryData=[{name:"uploads",type:r.n.DIRECTORY}],o.dirSubcription=o._cmn.getDirInfo().subscribe((function(t){t.uploadTargetPath&&(o.selectedDirectory=t.uploadTargetPath)})),o}return n.a(e,t),e.prototype.ngOnInit=function(){var t=this,e=Object.assign({},c.a.url.getUploadDir);this._reqSvc.doRequest(e).subscribe((function(e){e.result&&(t.directoryData[0].items=e.data)}))},e.prototype.ngOnDestroy=function(){this.dirSubcription.unsubscribe()},e.prototype.addNewDirectory=function(){var t=this.selectedDirectory.split("/");t.length>0&&this.searchDirectory(0,t)},e.prototype.searchDirectory=function(t,e,a){if(t<e.length){var n=a&&a.items?a.items:this.directoryData,i=n.filter((function(a){return a.name===e[t]}));if(i.length>0){var r=i[0];this.searchDirectory(t+1,e,r)}else this.proceedAddNewDirectory(this.directoryData[0])}else this.proceedAddNewDirectory(a)},e.prototype.proceedAddNewDirectory=function(t){var e=this;if(t.hasOwnProperty("items")||(t.items=[]),0===t.items.filter((function(t){return t.name===e.newDirectoryName})).length)t.items.push({name:this.newDirectoryName,type:r.n.DIRECTORY}),setTimeout((function(){$('.directory-selector-area .directory-name[data-name="'+e.newDirectoryName+'"]').trigger("click.dir-selector"),e.newDirectoryName=""}),10);else{var a={message:"message.duplicate_dir_name",type:r.k.ERROR};this._sncBar.open(a)}},e.prototype.chooseDirectory=function(){this.closeDialog(!1,{targetPath:this.selectedDirectory})},e=n.b([a.i(i._14)({selector:"[cmp-directory-selector]",template:a(664)}),n.c("design:paramtypes",[i.h,l.a,s.a,d.a])],e)})(o.a)},175:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(27);a.d(e,"a",(function(){return o}));var o=(function(){function t(t,e){this.el=t,this._translate=e,this.valueLang="",this.message="",this.elem=$(this.el.nativeElement)}return t.prototype.ngOnInit=function(){this.validate()},t.prototype.reValidate=function(t,e){t&&(this.item=t),this.valueLang=e||"",this.validate()},t.prototype.validate=function(){var t=this;if(this.item){var e=this.item.display_value||(this.item.value?this.item.value[this.valueLang||"default"]:"");/^\[.+\]$/.test(e)||(e="[]");var a=[];try{a=e?JSON.parse(e||"[]"):[]}catch(t){a=[]}finally{this._translate.get("form.item.control_item_count",{itemNumber:a.length}).subscribe((function(e){t.message=e}))}}},n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"item",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"valueLang",void 0),t=n.b([a.i(i._14)({selector:"[control-list-info]",template:'<span *ngIf="message">{{ message }}</span>'}),n.c("design:paramtypes",[i.M,r.d])],t)})()},176:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(620),o=a(36);a.d(e,"a",(function(){return l}));var l=(function(t){function e(e,a){var n=t.call(this,e)||this;return n.el=a,n.imageUrl="",n.imageSettings={width:0,height:0,ratio:""},n._filename="",n._fileFormat="",n._showPreview=!1,n._sizeValid=!1,n._croperHeight=400,n.targetAspectRatio=0,n}return n.a(e,t),e.prototype.ngAfterViewInit=function(){var t=this;this.imageSettings=this.dialogData.imageSettings,this._filename=this.dialogData.filename,this._filename&&(/(\.jpe?g)$/.test(this._filename)&&(this._fileFormat="image/jpeg"),/(\.png)$/.test(this._filename)&&(this._fileFormat="image/png")),this.dialogData.imageUrl&&(this.imageUrl=this.dialogData.imageUrl,setTimeout((function(){t.applyImage(),dragscroll.reset()}),400))},e.prototype.validateSize=function(){var t=this._cropper.getCroppedCanvas(),e=t.width,a=t.height;this._sizeValid=e<=this.imageSettings.width&&a<=this.imageSettings.height},e.prototype.setCroppedInfoBox=function(t){var e=this._cropper.getCroppedCanvas(),a=t||this._cropper.getImageData(),n={width:parseInt(e.width,10),height:parseInt(e.height,10)};$(".cropper-crop-box .size-info-box").html("Cropped <strong>"+n.width+"px x "+n.height+"px</strong> <br />\n\t\t\t\t\tfrom "+a.naturalWidth+"px x "+a.naturalHeight+"px")},e.prototype.applyImage=function(){var t,e=this,a={movable:!0,zoomable:!0,rotatable:!1,scalable:!1,viewMode:1,autoCropArea:1,dragMode:"move",minContainerWidth:1e3,minContainerHeight:this._croperHeight,minCanvasHeight:this._croperHeight,cropend:function(){e.setCroppedInfoBox(),e.validateSize()},zoom:function(){e.setCroppedInfoBox(),e.validateSize()},ready:function(){var t=e._cropper.getImageData();$(".cropper-crop-box").append('<span class="size-info-box"></span>'),$("[cmp-image-cropper]").append('<span class="natural-size-info-box">\n\t\t\t\t\tImage original dimension: W '+t.naturalWidth+"px x H "+t.naturalHeight+"px</span>"),e.setCroppedInfoBox(t)}};if(this.imageSettings&&this.imageSettings.ratio){var n=this.imageSettings.ratio.split(":");2===n.length&&(t=parseFloat(n[0])/parseFloat(n[1]),a.aspectRatio=t,this.targetAspectRatio=t)}this._imgElem=document.getElementById("imgWorkingImage"),this._imgElem.crossOrigin="Anonymous",this._imgElem.onload=function(){e._cropper=new r.a(e._imgElem,a)},this._imgElem.src=this.imageUrl},e.prototype.replaceImage=function(){this._cropper.replace("")},e.prototype.previewCroppedArea=function(){if(this._showPreview)$(".cropped-image-preview").closest(".md-dialog-content").removeClass("no-scroll"),this._showPreview=!1;else{var t=this._cropper.getCroppedCanvas();$(".cropped-image-preview").html(""),$(t).appendTo($(".cropped-image-preview")),this._showPreview=!0,setTimeout((function(){$(".cropped-image-preview").prop("scrollHeight")===$(".cropped-image-preview").outerHeight()&&$(".cropped-image-preview").find("canvas").addClass("centered"),$(".cropped-image-preview").closest(".md-dialog-content").addClass("no-scroll")}),1)}},e.prototype.snapToMaxSize=function(){var t=this,e={width:this.targetAspectRatio?this._croperHeight*this.targetAspectRatio:$(".cropper-form").outerWidth(),height:this._croperHeight};this._cropper.setCropBoxData({top:0,left:0,width:this.imageSettings.width,height:this.imageSettings.height}),setTimeout((function(){t._cropper.setCanvasData({top:0,left:0,width:e.width,height:e.height}),t._cropper.moveTo(0,0),setTimeout((function(){t._cropper.setData({width:t.imageSettings.width,height:t.imageSettings.height}),t.setCroppedInfoBox(),t.validateSize(),setTimeout((function(){var e=$(".cropper-face"),a=t._cropper.getCanvasData();t._cropper.setCropBoxData({top:Math.ceil(a.height/2-e.outerHeight()/2),left:Math.ceil(a.width/2-e.outerWidth()/2)})}),100)}),10)}),10)},e.prototype.getCanvasData=function(){var t=this._cropper.getCroppedCanvas();t&&this.closeDialog(!1,{processedImage:t.toDataURL(this._fileFormat,1)})},e=n.b([a.i(i._14)({selector:"[cmp-image-cropper]",template:a(666)}),n.c("design:paramtypes",[i.h,i.M])],e)})(o.a)},177:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){this.customCssClass="",this.isImage=!1,this.imgOption={}}return t.prototype.ngOnInit=function(){"string"==typeof this.imageObjectOption?this.imgOption=JSON.parse(this.imageObjectOption||"{}"):"object"==typeof this.imageObjectOption&&(this.imgOption=Object.assign({},this.imageObjectOption)),this.isImage=this.imgOption.hasOwnProperty("targetFileExtensions")&&this.imgOption.targetFileExtensions&&this.imgOption.targetFileExtensions.indexOf(".jpg")>-1},t.prototype.changeOptions=function(t){"string"==typeof t?this.imgOption=JSON.parse(t||"{}"):"object"==typeof t&&(this.imgOption=Object.assign({},t)),this.isImage=this.imgOption.hasOwnProperty("targetFileExtensions")&&this.imgOption.targetFileExtensions&&this.imgOption.targetFileExtensions.indexOf(".jpg")>-1},n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"imageObjectOption",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"customCssClass",void 0),t=n.b([a.i(i._14)({selector:"[image-size-info]",template:'<div *ngIf="isImage && imgOption.imageSizeOption" class="image-size-tip {{ customCssClass }}">\n\t\t\t<i class="material-icons">info_outline</i>\n\t\t\t<small *ngIf="!imgOption.imageSizeOption.width && !imgOption.imageSizeOption.height">\n\t\t\t\t{{ \'element.file_upload.any_dimension\' | translate }}\n\t\t\t</small>\n\t\t\t<small *ngIf="imgOption.imageSizeOption.width && !imgOption.imageSizeOption.height">\n\t\t\t\t{{ \'element.file_upload.only_width_assigned\' | translate: { width: imgOption.imageSizeOption.width } }}\n\t\t\t</small>\n\t\t\t<small *ngIf="!imgOption.imageSizeOption.width && imgOption.imageSizeOption.height">\n\t\t\t\t{{ \'element.file_upload.only_height_assigned\' | translate: { height: imgOption.imageSizeOption.height } }}\n\t\t\t</small>\n\t\t\t<small *ngIf="imgOption.imageSizeOption.width && imgOption.imageSizeOption.height">\n\t\t\t\t{{ \'element.file_upload.width_height_assigned\' | \n\t\t\t\t\ttranslate: { width: imgOption.imageSizeOption.width, height: imgOption.imageSizeOption.height } }}\n\t\t\t</small>\n\t\t\t<small *ngIf="imgOption.imageSizeOption.ratio">\n\t\t\t\t{{ \'element.file_upload.accepted_ratio\' | translate: { ratio: imgOption.imageSizeOption.ratio } }}\n\t\t\t</small>\n\t\t</div>'})],t)})()},178:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(36),o=a(9),l=a(29),s=a(19),c=a(16),d=a(12);a.d(e,"a",(function(){return p}));var p=(function(t){function e(e,a,n,i){var r=t.call(this,e)||this;return r._snc=a,r._reqSvc=n,r._cmn=i,r.currentPath="",r.currentFilename="",r.newFilenameValid=!1,r.currentDirItems=[],r.saving=!1,r.newFilename="",r}return n.a(e,t),e.prototype.ngOnInit=function(){this.dialogData&&(this.currentPath=this.dialogData.currentPath,this.currentFilename=this.dialogData.fileName,this.currentDirItems=this.dialogData.currentDirItems)},e.prototype.onSave=function(){var t=this;this.newFilename=$.trim(this.newFilename);var e=this.currentDirItems.filter((function(e){return e.type===o.n.FILE&&e.name.toLowerCase()===t.newFilename.toLowerCase()})),a={message:"file_upload.filename_duplicate"};if(e.length)return a.type=o.k.ERROR,this._snc.open(a),!1;var n=Object.assign({},c.a.url.fileRename),i=!1,r={current_file_path:this.currentPath+"/"+this.currentFilename,new_file_path:this.currentPath+"/"+this.newFilename},l=this._cmn.getCurrentInfo(),s=null;this.dialogData.domain&&this.dialogData.token&&(n.url=this.dialogData.domain+"client-api"+n.url,i=!0,s={"X-CMS-Form-Token":l.formToken}),this.saving=!0,this._reqSvc.doRequest(n,{postData:r,contentType:o.a.FORM,customHeaders:s},i).subscribe((function(e){t.saving=!1,e&&(a.message="file_upload.file_rename_success",a.type=o.k.SUCCESS,t._snc.open(a),t.closeDialog(!1,{newFilename:t.newFilename}))}),(function(e){t.saving=!1,a.message=e.message,a.type=o.k.ERROR,t._snc.open(a)}))},e.prototype.validateNewFilename=function(){this.newFilenameValid=this.newFilename&&/^[a-z0-9_.@()-]*[0-9a-zA-Z]\.[^.]+$/gi.test(this.newFilename)},e=n.b([a.i(i._14)({selector:"[file-renamer]",template:a(668)}),n.c("design:paramtypes",[i.h,l.a,s.a,d.a])],e)})(r.a)},179:function(t,e,a){"use strict";var n=a(4),i=a(26),r=a(2),o=a(52),l=a(43),s=a(9),c=a(29),d=a(19),p=a(12);a.d(e,"a",(function(){return m}));var m=(function(){function t(t,e,a,n,i,r){var o=this;this._router=t,this._authSvc=e,this._storage=a,this._sncBar=n,this._reqSvc=i,this._cmn=r,this.loginBgImage=s.e.LOGIN_BG_IMAGE,this.cmsLogoImage=s.e.CMS_LOGO,this.brandLogoImage=s.e.BRAND_LOGO,this.submitting=!1,this.loggedinUsername="",this.loginInfo={username:"",password:"",appName:""},this._infoSub=this._cmn.getInfo().subscribe((function(t){o.brandLogoImage=t.brandLogo||o.cmsLogoImage,o.loginBgImage=t.brandBgImage||s.e.LOGIN_BG_IMAGE}))}return t.prototype.ngOnInit=function(){this.loginInfo.appName=window.sessionStorage.getItem(s.b.appConfigName)||""},t.prototype.ngOnDestroy=function(){this._infoSub.unsubscribe()},t.prototype.onSubmit=function(){var t=this;$("input, button").blur(),this.submitting=!0;var e={message:"",type:s.k.ERROR,duration:4e3,autoClose:!0};this._cmn.loadConfig(this.loginInfo.appName).subscribe((function(a){a?(t._cmn.setAppInfo(a),t._authSvc.login(t.loginInfo.username,t.loginInfo.password).subscribe((function(a){a.result?(t._sncBar.close(),setTimeout((function(){$(".login-panel").addClass("welcome"),t.loggedinUsername=a.data.fullname,setTimeout((function(){$(".login-panel").addClass("welcome transitioning"),$(".login-bg-layer").addClass("transitioning"),setTimeout((function(){t._cmn.setInfo({isLoggedIn:!0}),t._router.navigate(["/"])}),650)}),2e3)}),500)):(t.submitting=!1,$("#txtUsername").focus(),e.message=a.message,t._sncBar.open(e))}),(function(a){t.submitting=!1,$("#txtUsername").focus(),e.message=a.message,t._sncBar.open(e)}))):(t.submitting=!1,$("#txtAppName").focus(),e.message="message.config_load_failed",t._sncBar.open(e))}))},t=n.b([a.i(r._14)({selector:"login",template:a(672)}),n.c("design:paramtypes",[i.c,o.a,l.a,c.a,d.a,p.a])],t)})()},180:function(t,e,a){"use strict";var n=a(443);a.d(e,"a",(function(){return n.a}))},181:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(419),o=a(9),l=a(27),s=a(16),c=a(120),d=a(119),p=a(1),m=a.n(p);a.d(e,"a",(function(){return u}));var u=(function(t){function e(e,a){var n=t.call(this,e)||this;return n._translate=a,n.translationList=[],n.formTypes=[],n.submissionTypeOptionLength=15,n.previewDataLength=40,n.moduleType=o.l.SUBMISSION,n.pageType=o.x.MAIN_LIST,n.tableType=o.y.MODULE,n.customEmptyTableMessage="submission.no_record",n}return n.a(e,t),e.prototype.ngOnInit=function(){this._cmn.setInfo({navList:[],pageTitle:"submission.title",topBarButtonList:[]})},e.prototype.ngAfterViewInit=function(){var t=this,e=Object.assign({},s.a.url.log.getFormLog),a=this._cmn.getCurrentInfo();a.currentSiteId&&($(".component-wrapper").on("click.custom-event",'[aria-function="open-submission-detail"]',(function(e){var a=$(e.target).closest("tr");if(t._dt){var n=t._dt.row(a).data();n.submission_data&&t.openDetail(n)}})),e.url=e.url.replace(/(:id)/g,a.currentSiteId),this._translate.get(["submission.type_enquiry","submission.type_newsletter","submission.type_other","submission.filter_all_type","submission.empty_data","submission.filter_by_type","submission.col_date","submission.col_type","submission.col_data","submission.view_data","submission.submitted_at"]).subscribe((function(a){t.translationList=a,t._reqSvc.doRequest(e).subscribe((function(e){for(var n=t,i=[],r=Object.keys(e.data),o=0,l=r;o<l.length;o++){var s=l[o];e.data[s]&&e.data[s].length>0&&e.data[s][0].hasOwnProperty("form_type")&&(t.formTypes.push(e.data[s][0].form_type),i=i.concat(e.data[s]))}var c={data:i,order:[[0,"desc"]],columns:[{title:a["submission.col_date"],render:function(t,e,a){return a.created_at.date.split(".")[0]+" ("+a.created_at.timezone+")"}},{title:a["submission.col_type"],render:function(t,e,n){var i=a["submission.type_other"];if(n.hasOwnProperty("form_type"))i=n.form_type;else if(n.submission_data){var r=Object.keys(n.submission_data);1===r.length&&/(e?mail)/g.test(r[0])?i=a["submission.type_newsletter"]:n.submission_data.hasOwnProperty("subject")&&(i=a["submission.type_enquiry"])}return i}},{title:"variable",visible:!1,render:function(t,e,a){var n="";return a.hasOwnProperty("form_variable_name")&&(n=a.form_variable_name),n}},{title:a["submission.col_data"],render:function(e,n,i){var r="";if(i.submission_data){var o=Object.keys(i.submission_data);if(1===o.length)r=i.submission_data[o[0]].value;else if(o.length>1){var l=[];$.each(i.submission_data,(function(t,e){null!==e.value&&""!==e.value&&l.push(e.value)})),l.length>0&&(r=l.join(", "),r.length>t.previewDataLength&&(r=$.trim(r).substring(0,t.previewDataLength)+"..."))}r||(r='<span class="submission-no-data-text">'+a["submission.empty_data"]+"</span>")}return r}},{title:"",orderable:!1,searchable:!1,render:function(t,e,n){return n.submission_data?'<div class="table-icon-wrapper"><a class="table-item-icon" role="view" aria-function="open-submission-detail"title="'+a["submission.view_data"]+'"><i class="material-icons">pageview</i></a></div>':""}}],afterInitTable:function(e){if(e.length>0&&i.length>0){var a=e.DataTable().column("1:visIdx"),r=e.DataTable().table().container(),o=e.DataTable().column("2"),l=o.cache("search").unique(),s='<div class="row row-flex"><div class="col-xs-12 col-md-5 col-lg-4 filter-bar submission-filter-bar"><div class="dataTables_length"><label>'+n.translationList["submission.filter_by_type"]+'<select class="form-control form-control-sm col-10 submission-type-select" size="0"><option value="">'+n.translationList["submission.filter_all_type"]+"</option>";a.cache("search").unique().each((function(t,e){var a=l[e];if(t.length>n.submissionTypeOptionLength){var i=$.trim(t).substring(0,n.submissionTypeOptionLength)+"...";s+='<option value="'+t+'" data-type="'+a+'">'+i+"</option>"}else s+='<option value="'+t+'" data-type="'+a+'">'+t+"</option>"})),s+="</select></label></div></div>",s+='<button \n\t\t\t\t\t\t\t\t\tid="export-submission"\n\t\t\t\t\t\t\t\t\tripple="" \n\t\t\t\t\t\t\t\t\ttype="button" \n\t\t\t\t\t\t\t\t\tclass="btn btn-primary">\n\t\t\t\t\t\t\t\t\t<i class="material-icons">file_download</i>\n\t\t\t\t\t\t\t\t\t<span>Export</span>\n\t\t\t\t\t\t\t\t\t</button></div>',$(r).prepend(s),$("#export-submission").hide(0),$("#export-submission").on("click",(function(e){var a=$("select.submission-type-select option:selected").data("type");t.exportSubmissions(e,a)})),$("select.submission-type-select").on("change",(function(t){var e=$.fn.dataTable.util.escapeRegex($(t.currentTarget).val());a.search(e?"^"+e+"$":"",!0,!1,!1).draw(),e?$("#export-submission").show(0):$("#export-submission").hide(0)}))}}};t.initTable(c)}),(function(e){var a={message:"message.load_list_error",type:o.k.ERROR};t._sncBar.open(a)}))})))},e.prototype.openDetail=function(t){for(var e=t.created_at.date.split("."),a=m()(e[0],"YYYY-MM-DD HH:mm:ss").format("MMM D, YYYY - HH:mm:ss")+"\n\t\t\t("+t.created_at.timezone+")",n='<div class="submission-detail-wrapper">',i=Object.keys(t.submission_data),r=0,o=i;r<o.length;r++){var l=o[r];n+='<div class="form-group">',n+='<label class="submission-key">'+(t.submission_data[l].label||t.submission_data[l].name)+"</label>",n+='<div class="submission-value">'+(t.submission_data[l].value||"-")+"</div>",n+="</div>"}n+="<hr />",n+='<div class="form-group no-mgn-bottom">',n+='<label class="submission-key">'+this.translationList["submission.submitted_at"]+"</label>",n+='<div class="submission-value">'+a+"</div>",n+="</div>",n+="</div>";var s={title:"dialog.item_detail",expandableDialog:!0,dialogCssClass:"size-lg",template:n,useCustomButtons:!0,hasTopPanel:!1};s.title="submission.submission_detail_title",this._dlg.open(s)},e.prototype.exportSubmissions=function(t,e){var a=this;t.preventDefault(),this._cmn.showAppLoader();var n=this._cmn.getCurrentInfo(),i=Object.assign({},s.a.url.log.exportSubmissions);i.url=i.url.replace(/(:id)/g,n.currentSiteId).replace(/(:form_type)/g,e);var r={message:"message.export_submissions_success",type:o.k.SUCCESS};this._reqSvc.doRequest(i).subscribe((function(t){if(a._cmn.hideAppLoader(),t.result){var e=document.createElement("a"),n=t.data;e.href=n.file,e.download=n.name,document.body.appendChild(e),e.click(),e.remove()}else r.message="message.export_submissions_failed",r.type=o.k.ERROR;a._sncBar.open(r)}),(function(t){a._cmn.hideAppLoader(),r.message=t.message,r.type=o.k.ERROR,a._sncBar.open(r)}))},e=n.b([a.i(i._14)({selector:"cmp-control-list",template:a(420),entryComponents:[c.a,d.a]}),n.c("design:paramtypes",[i.h,l.d])],e)})(r.a)},182:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(t,e){this._zone=e,this.initValue="",this.onChanged=new i.F,this.currentColor="",this.elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){"INPUT"===this.elem.get(0).tagName&&"text"===this.elem.attr("type")&&this.applyPlugin()},t.prototype.changeColor=function(t){$(this).ColorPickerSetColor(t),this.elem.parent().prev(".color-box").css({backgroundColor:"#"+(t||"ffffff")})},t.prototype.applyPlugin=function(){var t=this;this.elem.wrap('<div class="colorpicker-box"><span class="input-wrapper"></span></div>'),this.elem.closest(".colorpicker-box").prepend('<span class="color-box"></span>'),this.elem.parent().prev(".color-box").css({backgroundColor:"#"+(this.initValue||"ffffff")}),this.elem.ColorPicker({color:this.initValue||"ffffff",onSubmit:function(e,a,n,i){t.currentColor=a,t.onChanged.emit(t.currentColor),t.elem.ColorPickerHide(),t.elem.parent().prev(".color-box").css({backgroundColor:"#"+t.currentColor})},onShow:function(e){if(e){$(e).find(".colorpicker_current_color").attr("data-original-title")||($(e).find(".colorpicker_current_color").attr("title","Current color"),$(e).find(".colorpicker_current_color").tooltip({animation:!1})),$(e).find(".colorpicker_new_color").attr("data-original-title")||($(e).find(".colorpicker_new_color").attr("title","New color"),$(e).find(".colorpicker_new_color").tooltip({animation:!1}));var a=t.elem;a.closest(".md-dialog-content").length?$(e).css({left:a.offset().left+a.outerWidth()+5,top:a.offset().top-$(".colorpicker").outerHeight()+a.outerHeight()}):$(e).css({left:a.offset().left,top:a.offset().top+a.outerHeight()})}}})},n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"initValue",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onChanged",void 0),t=n.b([a.i(i.J)({selector:"[colorpicker]"}),n.c("design:paramtypes",[i.M,i.k])],t)})()},183:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(9);a.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.format=r.e.DEFAULT_DATE_FORMAT,this.onSelect=new i.F,this.elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){"INPUT"===this.elem.get(0).tagName&&"text"===this.elem.attr("type")&&this.initPlugin()},t.prototype.changeFormat=function(t){if(t){var e=this.formatMapping(t);this.elem.datepicker("option","dateFormat",e)}},t.prototype.initPlugin=function(){var t=this,e=this.formatMapping(this.format);setTimeout((function(){t.elem.datepicker({dateFormat:e,nextText:"",prevText:"",onSelect:function(){t.onSelect.emit(t.elem.val())}})}),0)},t.prototype.formatMapping=function(t){if(!t)return"dd/mm/yy";var e=t.split(/(_|-|\W|\/)/),a=t.match(/(_|-|\W|\/)/g),n=[],i="/";return e.length&&e.forEach((function(t){if(/(d{1,2})/gi.test(t))switch(t){case"D":n.push("d");break;case"DD":n.push("dd")}if(/(m{1,4})/gi.test(t))switch(t){case"M":n.push("m");break;case"MM":n.push("mm");break;case"MMM":n.push("M");break;case"MMMM":n.push("MM")}if(/(y{1,4})/gi.test(t))switch(t){case"YY":n.push("y");break;case"YYYY":n.push("yy")}})),a.length&&(i=a[0]),n.length>0?n.join(i):"dd/mm/yy"},n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"format",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onSelect",void 0),t=n.b([a.i(i.J)({selector:"[custom-datepicker]"}),n.c("design:paramtypes",[i.M])],t)})()},184:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(26),o=a(0),l=(a.n(o),a(52)),s=a(43),c=a(9),d=a(12);a.d(e,"a",(function(){return p}));var p=(function(){function t(t,e,a,n){this.router=t,this._authSvc=e,this._storage=a,this._cmn=n}return t.prototype.canActivate=function(t,e){var a=this;return this._storage.get(c.b.storageUsername)?this._authSvc.isLoggedIn().take(1).map((function(t){return!!t})).do((function(t){if(t){var n=a._cmn.getCurrentInfo(),i=n.userLevel||[],r=n.siteList||[],l=new RegExp(/\/(controls|templates|pages|globals|sites|redirect-urls)(\/)*(.+)*/,"g"),s=new RegExp(/\/(((.)*-content)|languages|translations)(\/)*(.+)*/,"g"),d=new RegExp(/\/(users|globals-content|languages|submission)(\/)*(.+)*/,"g");if(s.test(e.url)&&0===r.length)return a.router.navigate(["/"]),o.Observable.of(!1);var p=a._storage.get(c.b.rememberedSiteId),m=r.length>0?r[0].id:"";if(p){var u=r.filter((function(t){return t.id===p}));u.length&&(m=u[0].id)}if(a._cmn.setInfo({isLoggedIn:!0,currentSiteId:m}),i.indexOf("DEVELOPER")<0&&(l.test(e.url)&&i.indexOf("STRUCTURE")<0||d.test(e.url)&&i.indexOf("USER")<0||i.indexOf("CONTENT")<0))return a.router.navigate(["/"]),o.Observable.of(!1)}else"/login"!==e.url&&a.router.navigate(["/login"])})):("/login"!==e.url&&this.router.navigate(["/login"]),o.Observable.of(!1))},t=n.b([a.i(i.c)(),n.c("design:paramtypes",[r.c,l.a,s.a,d.a])],t)})()},185:function(t,e,a){"use strict";var n=a(4),i=a(26),r=a(2),o=a(0),l=(a.n(o),a(52)),s=a(43),c=a(9);a.d(e,"a",(function(){return d}));var d=(function(){function t(t,e,a,n){this.router=t,this.acRoute=e,this._authSvc=a,this._storage=n}return t.prototype.canActivate=function(t,e){var a=this;return this._storage.get(c.b.storageUsername)?this._authSvc.isLoggedIn().take(1).map((function(t){return!!t})).do((function(t){t&&a.router.navigate(["/"])})):o.Observable.of(!0)},t=n.b([a.i(r.c)(),n.c("design:paramtypes",[i.c,i.d,l.a,s.a])],t)})()},186:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(9);a.d(e,"a",(function(){return o}));var o=(function(){function t(){}return t.prototype.transform=function(t,e){return t&&e?t.filter((function(t){var a=!0;if(e&&t.type===r.n.FILE){var n=e.split(","),i=n.map((function(t){return t=t.replace(/[.]/g,"")}));a=new RegExp(".("+i.join("|")+")$","gi").test(t.name)}return a})):t},t=n.b([a.i(i.Y)({name:"myFileExtensionFilter",pure:!1})],t)})()},187:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}e=t,t._orderByComparator=function(t,e){if(isNaN(parseFloat(t))||!isFinite(t)||isNaN(parseFloat(e))||!isFinite(e)){if(t.toLowerCase()<e.toLowerCase())return-1;if(t.toLowerCase()>e.toLowerCase())return 1}else{if(parseFloat(t)<parseFloat(e))return-1;if(parseFloat(t)>parseFloat(e))return 1}return 0},t.prototype.transform=function(t,a){var n=a[0],i=void 0===n?"+":n;if(!Array.isArray(t))return t;if(!Array.isArray(i)||Array.isArray(i)&&1===i.length){var r=Array.isArray(i)?i[0]:i,o="-"===r.substr(0,1);if(r&&"-"!==r&&"+"!==r){var l="+"===r.substr(0,1)||"-"===r.substr(0,1)?r.substr(1):r;return t.sort((function(t,a){return o?-e._orderByComparator(t[l],a[l]):e._orderByComparator(t[l],a[l])}))}return o?t.sort().reverse():t.sort()}return t.sort((function(t,a){for(var n=0;n<i.length;n++){var r="-"===i[n].substr(0,1),o="+"===i[n].substr(0,1)||"-"===i[n].substr(0,1)?i[n].substr(1):i[n],l=r?-e._orderByComparator(t[o],a[o]):e._orderByComparator(t[o],a[o]);if(0!==l)return l}return 0}))};var e;return t=e=n.b([a.i(i.Y)({name:"myOrderBy",pure:!1})],t)})()},188:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(9);a.d(e,"a",(function(){return o}));var o=(function(){function t(){}return t.prototype.getPropertyElementValue=function(t,e){var a="";if(t)switch(t.element_type){case r.p.TEXTBOX:var n={helper:""};/^(\{|\[)/g.test(t.element_value)&&(n=JSON.parse(t.element_value||"{}")),a="object"==typeof n?"colorpicker"===n.helper?'<span class="color-box-value" style="background-color: #'+e+';"></span>#'+e:e||"":"";break;case r.p.FILE_UPLOAD:;/^(\{|\[)/g.test(t.element_value)?JSON.parse(t.element_value||"{}"):t.element_value;break;case r.p.DATETIME:a=e;break;case r.p.CHECKBOX:var i=JSON.parse(t.element_value),o=!1;o=!!e&&("number"==typeof e?1===e:"string"==typeof e?["true","1"].indexOf(e.toLowerCase())>-1:e),a=o?i.checkedText:i.uncheckedText;break;case r.p.RADIO_LIST:var l=JSON.parse(t.element_value);if(l.length>0){var s=l.filter((function(t){return t.value===e}));s.length>0&&(a=s[0].label)}}return a||""},t.prototype.getElementTypeName=function(t,e){var a=JSON.parse(e),n="";if(t===r.p.TEXTBOX)n=r.p[t],"colorpicker"===a.helper?n="Colorpicker (Textfield)":"url"===a.helper&&(n="URL (Textfield)");else switch(t){case"CHECKBOX":n="Checkbox";break;case"CONTROL_LIST":n="Control List";break;case"DATETIME":n="Datetime";break;case"DROPDOWN":n="Dropdown";break;case"FILE_UPLOAD":n="File";break;case"MULTILINE_TEXT":n="Multiline Text";break;case"RADIO_LIST":n="Radiobutton";break;case"RICHTEXT_EDITOR":n="Text Editor";break;case"MAP_COORDINATE":n="Map Coordinate"}return n},t=n.b([a.i(i.c)()],t)})()},19:function(t,e,a){"use strict";var n=a(4),i=a(43),r=a(2),o=a(68),l=a(74),s=(a.n(l),a(9)),c=a(16);a.d(e,"a",(function(){return d}));var d=(function(){function t(t,e,a){this._http=t,this._storage=e,this._zone=a}return t.prototype.doRequest=function(t,e,a){var n=this;return l.Observable.create((function(i){var r=t.url,o=t.method;if(r)switch(a||(r=n.getUrl(r)),o){case c.c.GET:n.requestGet(r,e).subscribe((function(t){i.next(t),i.complete()}),(function(t){i.error(t),i.complete()}));break;case c.c.POST:n.requestPost(r,e).subscribe((function(t){i.next(t),i.complete()}),(function(t){i.error(t),i.complete()}));break;case c.c.DELETE:n.requestDelete(r,e).subscribe((function(t){i.next(t),i.complete()}),(function(t){i.error(t),i.complete()}))}else i.next(null),i.complete()}))},t.prototype.ajaxFormRequest=function(t,e,a){var n=this;return l.Observable.create((function(i){$('<div class="form-dummy"><form id="ajxPropertyForm" method="post" enctype="multipart/form-data"></form><div id="ajxFormResultDiv"></div></div>').appendTo("body");var r=$(".form-dummy").find("form");a&&a.forEach((function(t){r.append(t)}));var o={Authorization:"Bearer "+(n._storage.get(s.b.storageToken)||""),"X-CMS-Application-Name":window.sessionStorage.getItem(s.b.appConfigName)||""};e._remote_form_token&&(o={"X-CMS-Form-Token":e._remote_form_token},delete e._remote_form_token);var l={url:t,method:"POST",crossDomain:!0,data:e||{},headers:o,error:function(t){r.remove(),n._zone.run((function(){i.error(t.responseJSON),i.complete()}))},success:function(t){r.remove(),n._zone.run((function(){i.next(t),i.complete()}))}};r.ajaxSubmit(l)}))},t.prototype.getUrl=function(t){return c.a.domain+"/api"+t},t.prototype.getInternalResx=function(t){var e=this;return l.Observable.create((function(a){e._http.get(t).toPromise().then((function(t){var e=t.json();a.next(e||{}),a.complete()})).catch((function(t){a.error(t),a.complete()}))}))},t.prototype.customRequest=function(t){var e=this;return l.Observable.create((function(a){var n={crossDomain:!0,success:function(t,n){e._zone.run((function(){a.next(t),a.complete()}))},error:function(t,n){e._zone.run((function(){var e=JSON.parse(t.responseText||"{}");a.error(e),a.complete()}))}};n=Object.assign({},n,t||{}),$.ajax(n)}))},t.prototype.get=function(t,e,a,n){var i=this;return void 0===e&&(e=!0),void 0===a&&(a=!0),l.Observable.create((function(r){var l=new o.c;if(i.applyRequestHeader(l,e,n),l.append("Content-Type","application/json; charset=UTF-8"),a){var c=null,d={url:t,crossDomain:!0,method:"GET",success:function(t,e){i._zone.run((function(){r.next(t),r.complete()}))},error:function(t,e){i._zone.run((function(){var e=JSON.parse(t.responseText||"{}");r.error(e),r.complete()}))}};if(c=e?{Authorization:"Bearer "+(i._storage.get(s.b.storageToken)||""),"X-CMS-Application-Name":window.sessionStorage.getItem(s.b.appConfigName)||""}:{"X-CMS-Application-Name":window.sessionStorage.getItem(s.b.appConfigName)||""},n)for(var p=Object.keys(n),m=0,u=p;m<u.length;m++){var g=u[m];c[g]=n[g]}d.headers=c,$.ajax(d)}else i._http.get(t,{headers:l}).toPromise().then((function(t){var e=t.json();r.next(e||{}),r.complete()})).catch((function(t){r.error(t),r.complete()}))}))},t.prototype.post=function(t){var e=this;return l.Observable.create((function(a){var n=new o.c,i="",r=t.url,l=t.postData||{},c=t.contentType||s.a.JSON,d=t.secureRequest||!0,p=t.crossDomain||!0,m=t.dataType||s.f.JSON;if(e.applyRequestHeader(n,d,t.customHeaders||null),c?c===s.a.FORM?(i="application/x-www-form-urlencoded; charset=UTF-8",n.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")):c===s.a.JSON?(i="application/json; charset=UTF-8",n.append("Content-Type","application/json; charset=UTF-8")):c===s.a.FORM_DATA||c===s.a.FORM_DATA_WO_HDR?(i="multipart/form-data;",c===s.a.FORM_DATA&&n.append("Content-Type","multipart/form-data; charset=UTF-8")):c===s.a.HTML&&(i="text/html; charset=UTF-8"):(i="application/x-www-form-urlencoded; charset=UTF-8",n.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),p){var u=null,g={url:r,crossDomain:!0,data:l,method:"POST",dataType:m,success:function(t,n){e._zone.run((function(){a.next(t),a.complete()}))},error:function(t,n){e._zone.run((function(){var e=JSON.parse(t.responseText||"{}");a.error(e),a.complete()}))}};if(g.contentType=i||!1,d){if(u={Authorization:"Bearer "+(e._storage.get(s.b.storageToken)||""),"X-CMS-Application-Name":window.sessionStorage.getItem(s.b.appConfigName)||""},t.customHeaders)for(var h=Object.keys(t.customHeaders),A=0,_=h;A<_.length;A++){var f=_[A];u[f]=t.customHeaders[f]}g.headers=u}$.ajax(g)}else{var b=new o.d({headers:n});e._http.post(r,l,b).toPromise().then((function(t){var e=t.json();e=e?e.data:t,a.next(e||{}),a.complete()})).catch((function(t){a.error(t),a.complete()}))}}))},t.prototype.delete=function(t,e,a,n,i){var r=this;return void 0===e&&(e={}),void 0===a&&(a=s.a.JSON),void 0===n&&(n=!0),l.Observable.create((function(l){var c=new o.c,d="application/x-www-form-urlencoded";if(r.applyRequestHeader(c,!0,i),a?a===s.a.FORM?(d="application/x-www-form-urlencoded; charset=UTF-8",c.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")):a===s.a.JSON&&(d="application/json; charset=UTF-8",c.append("Content-Type","application/json; charset=UTF-8")):(d="application/x-www-form-urlencoded; charset=UTF-8",c.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),n){var p=null,m={url:t,crossDomain:!0,contentType:d,data:e,method:"DELETE",success:function(t,e){r._zone.run((function(){l.next(t),l.complete()}))},error:function(t,e){r._zone.run((function(){var e=JSON.parse(t.responseText||"{}");l.error(e),l.complete()}))}};if(p={Authorization:"Bearer "+(r._storage.get(s.b.storageToken)||""),"X-CMS-Application-Name":window.sessionStorage.getItem(s.b.appConfigName)||""},i)for(var u=Object.keys(i),g=0,h=u;g<h.length;g++){var A=h[g];p[A]=i[A]}m.headers=p,$.ajax(m)}else{new o.d({headers:c});r._http.delete(t,e).toPromise().then((function(t){var e=t.json();e=e?e.data:t,l.next(e||{}),l.complete()})).catch((function(t){l.error(t),l.complete()}))}}))},t.prototype.extractData=function(t){return t.json().data||{}},t.prototype.applyRequestHeader=function(t,e,a){var n=window.sessionStorage.getItem(s.b.appConfigName)||"";if(t.append("X-CMS-Application-Name",n),e){var i=this._storage.get(s.b.storageToken)||"";t.append("Authorization","Bearer "+i)}if(a)for(var r=Object.keys(a),o=0,l=r;o<l.length;o++){var c=l[o];t.append(c,a[c])}},t.prototype.requestGet=function(t,e){var a=this;return l.Observable.create((function(n){var i=!0,r=!0,o=null;e&&(i=e.secure||!0,r=e.crossDomain||!0,o=e.customHeaders||null),a.get(t,i,r,o).subscribe((function(t){n.next(t),n.complete()}),(function(t){n.error(t),n.complete()}))}))},t.prototype.requestPost=function(t,e){var a=this;return l.Observable.create((function(n){var i={},r=s.a.JSON,o=!0,l=!0,c=null;e&&(i=e.postData||{},r=e.contentType||s.a.JSON,o=e.secure||!0,l=e.crossDomain||!0,c=e.customHeaders||null),a.post({url:t,postData:i,contentType:r,secureRequest:o,crossDomain:l,dataType:e.dataType,customHeaders:c}).subscribe((function(t){n.next(t),n.complete()}),(function(t){n.error(t),n.complete()}))}))},t.prototype.requestDelete=function(t,e){var a=this;return l.Observable.create((function(n){var i={},r=s.a.JSON,o=!0,l=null;e&&(i=e.postData||{},r=e.contentType||s.a.JSON,o=e.crossDomain||!0,l=e.customHeaders||null),a.delete(t,i,r,o,l).subscribe((function(t){n.next(t),n.complete()}),(function(t){n.error(t),n.complete()}))}))},t=n.b([a.i(r.c)(),n.c("design:paramtypes",[o.a,i.a,r.k])],t)})()},29:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(0);a.n(r);a.d(e,"a",(function(){return o}));var o=(function(){function t(){this._barCollection=[]}return t.prototype.open=function(t){if(this.sncBarContainer&&this.sncBarContainer.length>0&&this.sncBarContainer.remove(0),this.sncBarContainer){var e=this.sncBarContainer.createComponent(this.sncBarCmpFactory);if(e&&t.message){e.instance.barSetting=t,this._barCollection.push(e)}}},t.prototype.close=function(){var t=this;$(document).off("click.snack-bar"),setTimeout((function(){t.destroyComponent(0).subscribe((function(t){$(".snack-bar").remove()}))}),400)},t.prototype.destroyComponent=function(t){var e=this;return r.Observable.create((function(a){e._barCollection[t]&&(e._barCollection[t].destroy(),e._barCollection[t]=null),a.next(!0),a.complete()}))},t=n.b([a.i(i.c)()],t)})()},35:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(68),o=a(0);a.n(o);a.d(e,"a",(function(){return l}));var l=(function(){function t(t){this._http=t,this._dialogCollection=[],this.dlgData={},this.cmpFactoryCollection=[]}return t.prototype.destroyComponent=function(t){var e=this;return o.Observable.create((function(a){e._dialogCollection[t]&&(e._dialogCollection[t].destroy(),e._dialogCollection[t]=null),a.next(!0),a.complete()}))},t.prototype.open=function(t){var e=this;this.dialogContainer&&this.dialogComponentFactory&&(t.templateUrl&&!t.componentFactory?this.getTemplateUrlContent(t.templateUrl).subscribe((function(a){t.template=a,e.initDialogRendering(t)}),(function(t){return e.dialogErrorHandler(t)})):this.initDialogRendering(t))},t.prototype.setData=function(t){this.dlgData=Object.assign({},t||{})},t.prototype.getData=function(){var t=this;return o.Observable.create((function(e){e.next(t.dlgData),e.complete()}))},t.prototype.addCmpFactory=function(t){var e=this;if(t.length)t.map((function(t){e.cmpFactoryCollection.filter((function(e){return e.selector===t.selector})).length||e.cmpFactoryCollection.push(t)}));else if(t){var a=this.cmpFactoryCollection.filter((function(e){return e.selector===t.selector}));a.length||this.cmpFactoryCollection.push(t)}},t.prototype.getCmpFactory=function(t){if(t){var e=this.cmpFactoryCollection.filter((function(e){return e.selector===t}));return e.length?e[0]:null}return this.cmpFactoryCollection},t.prototype.removeCmpFactory=function(t){if(t){var e=-1;this.cmpFactoryCollection.map((function(a,n){a.selector===t&&(e=n)})),e>-1&&this.cmpFactoryCollection.splice(e,1)}},t.prototype.dialogErrorHandler=function(t){console.error(t)},t.prototype.initDialogRendering=function(t){var e=this.dialogContainer.createComponent(this.dialogComponentFactory);if(e&&(t.template||t.componentFactory)){var a=e.instance;a._dialogSettings=t,a._dialogIndex=this._dialogCollection.length,this._dialogCollection.push(e)}else this.dialogErrorHandler("ERR: No dialog content")},t.prototype.getTemplateUrlContent=function(t){return this._http.get(t).map(this.extractData).catch(this.handleError)},t.prototype.extractData=function(t){return t.text()},t.prototype.handleError=function(t){var e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error";return console.error(e),o.Observable.throw(e)},t=n.b([a.i(i.c)(),n.c("design:paramtypes",[r.a])],t)})()},36:function(t,e,a){"use strict";var n=a(35);a.d(e,"a",(function(){return i}));var i=(function(){function t(t){this._inj=t,this._dlg=this._inj.get(n.a)}return t.prototype.openDialog=function(t){this._dlg.open(t)},t})()},399:function(t,e,a){"use strict";var n=a(427);a.d(e,"a",(function(){return n.a}))},419:function(t,e,a){"use strict";var n=a(4),i=a(1),r=(a.n(i),a(2)),o=a(9),l=a(169),s=a(19),c=a(26),d=a(12),p=a(120),m=a(35),u=a(121),g=a(119),h=a(16),A=a(29),_=a(126),f=a(0),b=(a.n(f),a(188));a.d(e,"a",(function(){return v}));var v=(function(){function t(t){var e=this;this._inj=t,this.moduleType=o.l.CONTROL,this.pageType=o.x.MAIN_LIST,this.parentId="",this.parentName="",this.itemName="",this.itemId="",this.addButtonText="",this._siteList=[],this._rolesList=[],this._userLevel=[],this._categoryList=[],this._siteId="",this.isBusy=!0,this._isTableEmpty=!0,this.itemOrderable=!1,this.currentMode="LIST",this.tableType="",this.moduleTypeName="",this.customEmptyTableMessage="",this.hasFilterBySite=!1,this.hasFilterByCategory=!1,this.hasSiteURL=!1,this.hasPublishedDate=!1,this._isDeveloper=!1,this.additionalHeaderDescription="",this._tableOptions={afterInitTable:function(t){e.afterInitTable(t)},afterDraw:function(t){e.tableEventBinding(t),"function"==typeof e.customAfterTableDraw&&e.customAfterTableDraw(t)},afterPaging:function(t){"function"==typeof e.customAfterPaging&&e.customAfterPaging(t)}},this._orderingData=[],this._isOrderModified=!1,this._currentFilteredSite="",this._currentFilterCategory="",this._reqSvc=this._inj.get(s.a),this._router=this._inj.get(c.c),this._cmn=this._inj.get(d.a),this._dlg=this._inj.get(m.a),this._resolver=this._inj.get(r.Q),this._sncBar=this._inj.get(A.a),this._zone=this._inj.get(r.k),this._propDetailCmpFactory=this._resolver.resolveComponentFactory(p.a),this._modulePropDetailCmpFactory=this._resolver.resolveComponentFactory(g.a),this._appRef=this._inj.get(r.j),this._acRoute=this._inj.get(c.d),this._elemRef=this._inj.get(r.M),this._render=this._inj.get(b.a),this._cmpElem=$(this._elemRef.nativeElement),this._cmpElem.addClass("component-wrapper");var a=this._appRef.components[0].instance.dialogContainer,n=this._resolver.resolveComponentFactory(u.a),i=this._appRef.components[0].instance.sncBarContainer,l=this._resolver.resolveComponentFactory(_.a);this._dlg.dialogContainer=a,this._dlg.dialogComponentFactory=n,this._sncBar.sncBarContainer=i,this._sncBar.sncBarCmpFactory=l,this._siteList=this._appRef.components[0].instance._siteList,this._rolesList=this._appRef.components[0].instance.getRoleList(),this._userLevel=this._appRef.components[0].instance.getUserLevel(),this._infoSub=this._cmn.getInfo().subscribe((function(t){e._siteList=t.siteList||[],0===e._siteList.length&&(e._siteList=e._appRef.components[0].instance._siteList),e._rolesList=t.roleList||[],0===e._rolesList.length&&(e._rolesList=e._appRef.components[0].instance.getRoleList()),e._isDeveloper=[o.c.DEVELOPER].indexOf(t.currentUserLevel)>-1})),this._cmn.setInfo({trigger:!0})}return t.prototype.ngOnDestroy=function(){this._infoSub.unsubscribe()},t.prototype.initTable=function(t,e){var a=this;return void 0===t&&(t={}),this._tableOptions=Object.assign({},this._tableOptions,t||{}),this.isBusy=!1,t.data&&t.data.length>0&&(this._isTableEmpty=!1),e?f.Observable.create((function(t){a.isBusy=!1,a._diTable.initDataTable(a._tableOptions).subscribe((function(e){a._dt=e,t.next(a._dt),t.complete()}))})):(this._diTable.initDataTable(this._tableOptions).subscribe((function(t){a._dt=t})),!0)},t.prototype.addNewItem=function(){var t=this,e=this.getDialogOptions(this.moduleType,o.j.CREATE);e.dialogData.parentId=this.parentId||"",e.dialogData.currentFilteredSiteId=this._currentFilteredSite||"",e.dialogData.itemId="",e.dialogData.datatable={addRow:function(e){t._dt&&e&&(t._dt.row.add(e).draw(!1),t._isTableEmpty&&(t._isTableEmpty=!1),t.moduleType===o.l.SITE&&t.updateSiteList())}},this._dlg.open(e)},t.prototype.tableEventBinding=function(t){var e=this;t.find('[aria-function="view-child-item"]').off("click").on("click",(function(t){var a=$(t.currentTarget).data("item-id"),n="";if(e.moduleType===o.l.CONTROL&&e.pageType!==o.x.PROPERTY_LIST)n="controls/"+a;else switch(e.pageType){case o.x.MAIN_LIST:n=e.moduleType+"s/"+a;break;case o.x.MAIN_ITEM_LIST:n=e.moduleType+"s/"+e.parentId+"/item/"+a}n&&e._router.navigate([n])})),t.find('[aria-function="view-global-item-child"]').off("click").on("click",(function(t){var a=$(t.currentTarget).data("item-id"),n=$(t.currentTarget).data("parent-page-id"),i=$(t.currentTarget).data("parent-page-name"),r="pages/"+n;window.sessionStorage.setItem("tmp-structure-back-to-page-url",r),window.sessionStorage.setItem("tmp-structure-back-to-page-name",i),e._router.navigate(["globals/"+a])})),t.find('.table-item-icon[aria-function^="edit-"]').off("click.cms-event").on("click.cms-event",(function(t){var a=$(t.currentTarget).data("item-id")||"";e.pageType===o.x.PROPERTY_LIST?e.openPropertyDetail(a,$(t.currentTarget).closest("tr")):e.openModulePropertyDetail(a,$(t.currentTarget).closest("tr"))})),t.find('.table-item-icon[aria-function^="delete-"]').off("click.cms-event").on("click.cms-event",(function(t){var a=$(t.currentTarget).data("item-id")||"",n=$(t.currentTarget).closest("tr").find('[role="key-item-label"]').text();e.deleteItem(a,n,$(t.currentTarget).closest("tr"))}))},t.prototype.afterInitTable=function(t){this.tableEventBinding(t)},t.prototype.updateSiteList=function(){var t=[],e=[];if(this._dt.data().length>0){for(var a=0,n=this._dt.data();a<n.length;a++){var r=n[a];t.push(r)}t.sort((function(t,e){return i(t.created_at,"YYYY-MM-DD HH:mm:ss").isAfter(i(e.created_at,"YYYY-MM-DD HH:mm:ss"))})),t.map((function(t){e.push({domain_name:t.domain_name,id:t.id})})),this._siteList=e,this._cmn.setInfo({siteList:this._siteList})}},t.prototype.getDialogOptions=function(t,e){var a="dialog.no_title",n={moduleType:t,mode:e},i={title:"dialog.item_detail",expandableDialog:!0,dialogCssClass:"size-lg",componentFactory:this._modulePropDetailCmpFactory,useCustomButtons:!0,hasTopPanel:!0,noCloseButton:!0};if(this.pageType===o.x.PROPERTY_LIST)a=e===o.j.CREATE?"dialog.new_property":"dialog.property_detail",i.componentFactory=this._propDetailCmpFactory;else switch(this.moduleType){case o.l.CONTROL:a=e===o.j.CREATE?"dialog.new_control":"dialog.control_detail",n.hasNoActive=!0,n.translation={name:"form.control.name"};break;case o.l.TEMPLATE:this.pageType===o.x.MAIN_LIST?(a=e===o.j.CREATE?"dialog.new_template":"dialog.template_detail",n.hasSiteSelection=!0,n.siteList=this._siteList,n.hasNoActive=!0,n.translation={name:"form.template.name"}):(a=e===o.j.CREATE?"dialog.new_template_item":"dialog.template_item_detail",n.hasRequireOption=!0,n.hasCtrlInheritOption=!0,n.hasNoActive=!0,n.hasRequireOption=!1,n.translation={name:"form.template.itemName"});break;case o.l.PAGE:this.pageType===o.x.MAIN_LIST?(a=e===o.j.CREATE?"dialog.new_page":"dialog.page_detail",n.hasUrl=!0,n.hasTemplateSelection=!0,n.hasParentPageSelector=!0,n.hasCategorySelector=!0,n.hasItemPermission=!0,n.siteList=this._siteList,n.hasPublishedDate=this.hasPublishedDate,n.translation={name:"form.page.name"}):(a=e===o.j.CREATE?"dialog.new_page_item":"dialog.page_item_detail",n.hasRequireOption=!0,n.hasCtrlInheritOption=!0,n.hasGlobalItemSelector=!0,this._isDeveloper&&(n.hasVisibility=!0),n.siteId=this._siteId,n.translation={name:"form.page.itemName"});break;case o.l.GLOBAL:a=e===o.j.CREATE?"dialog.new_global":"dialog.global_detail",n.hasCtrlInheritOption=!0,n.hasSiteSelection=!0,n.hasCategorySelector=!0,this._isDeveloper&&(n.hasVisibility=!0),n.siteList=this._siteList,n.translation={name:"form.global.name"};break;case o.l.REDIRECT_URL:this._customDetailCmpFactory&&(i.componentFactory=this._customDetailCmpFactory),a=e===o.j.CREATE?"dialog.new_redirect_rule":"dialog.redirect_rule",n.hasSiteSelection=!0,n.siteList=this._siteList;break;case o.l.SITE:a=e===o.j.CREATE?"dialog.new_site":"dialog.site_detail",n.noVariableName=!0,n.hasSiteURL=this.hasSiteURL,n.translation={name:"form.site.name"};break;case o.l.USER:this._customDetailCmpFactory&&(i.componentFactory=this._customDetailCmpFactory),0===this._rolesList.length&&(this._rolesList=this._appRef.components[0].instance._rolesList),0===this._userLevel.length&&(this._userLevel=this._appRef.components[0].instance.getUserLevel()),n.roleList=this._rolesList,n.userLevel=this._userLevel,a=e===o.j.CREATE?"dialog.new_user":"dialog.user_detail"}return i.title=a,i.dialogData=n,i},t.prototype.openModulePropertyDetail=function(t,e,a){var n=this,i=this.getDialogOptions(this.moduleType,o.j.UPDATE);if(i.dialogData=Object.assign({},i.dialogData,{id:t||"",parentId:this.parentId||"",datatable:{updateRow:function(t){n._dt&&t&&(n._dt.row(e).data(t).draw(!1),n.moduleType===o.l.SITE&&n.updateSiteList())}}}),t){var r=this._dt.data().filter((function(e){return e.id===t}));if(r.length>0)switch(this.moduleType){case o.l.CONTROL:i.dialogData.selectedData=Object.assign({},{id:r[0].id,name:r[0].name,variable_name:r[0].variable_name,description:r[0].description});break;case o.l.SITE:i.dialogData.selectedData=Object.assign({},{id:r[0].id,name:r[0].domain_name,description:r[0].description,is_active:r[0].is_active,site_url:r[0].site_url});break;default:i.dialogData.selectedData=r[0]}}this._dlg.open(i)},t.prototype.proceedDeleteItem=function(t,e){var a=this,n={};switch(this.moduleType){case o.l.CONTROL:n=Object.assign({},h.a.url.control.delete),this.pageType===o.x.PROPERTY_LIST&&(n=Object.assign({},h.a.url.property.delete));break;case o.l.SITE:n=Object.assign({},h.a.url.sites.delete);break;case o.l.GLOBAL:n=Object.assign({},h.a.url.globalItem.delete),this.pageType===o.x.PROPERTY_LIST&&(n=Object.assign({},h.a.url.globalItemOption.delete));break;case o.l.TEMPLATE:n=Object.assign({},h.a.url.template.delete),this.pageType===o.x.MAIN_ITEM_LIST&&(n=Object.assign({},h.a.url.templateItem.delete)),this.pageType===o.x.PROPERTY_LIST&&(n=Object.assign({},h.a.url.templateItemOption.delete));break;case o.l.PAGE:n=Object.assign({},h.a.url.page.delete),this.pageType===o.x.MAIN_ITEM_LIST&&(n=Object.assign({},h.a.url.pageItem.delete)),this.pageType===o.x.PROPERTY_LIST&&(n=Object.assign({},h.a.url.pageItemOption.delete));break;case o.l.REDIRECT_URL:n=Object.assign({},h.a.url.redirectUrl.delete);break;case o.l.USER:n=Object.assign({},h.a.url.user.delete)}if(n)this._cmn.showAppLoader(),n.url=n.url.replace(/(:id)/g,t.dialogData.deleteId),this._reqSvc.doRequest(n).subscribe((function(t){a._cmn.hideAppLoader();var n={message:"message.item_removed",type:o.k.NORMAL,duration:4e3,autoClose:!0};t.result?e&&e.length>0&&(a._dt.row(e).remove().draw(),a.moduleType===o.l.SITE&&a.updateSiteList(),0===a._dt.data().length&&(a._isTableEmpty=!0)):(n.message="message.item_remove_error",n.type=o.k.ERROR),a._sncBar.open(n)}),(function(){a._cmn.hideAppLoader();var t={message:"message.item_remove_error",type:o.k.ERROR,duration:4e3,autoClose:!0};a._sncBar.open(t)}));else{var i={message:"message.no_object_assign",type:o.k.ERROR};this._sncBar.open(i)}},t.prototype.deleteItem=function(t,e,a){var n=this,i=this.pageType===o.x.PROPERTY_LIST?"property":this.pageType===o.x.MAIN_ITEM_LIST?this.moduleType.toLowerCase()+" item":this.moduleType.toLowerCase(),r=this._dt.row(a).data(),l={key:"message.remove_item",param:{name:r.name||e,type:i}};switch(this.moduleType){case o.l.REDIRECT_URL:l={key:"message.remove_redirect_rule",param:{source:r.source_url,destination:r.destination_url,status_code:r.status_code}};break;case o.l.USER:l={key:"message.remove_user",param:{name:r.name,email:r.email,role:r.role.name}}}var s={title:{key:"dialog.warning"},dialogType:o.r.WARNING,expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,template:l,buttons:[{text:{key:"common.delete"},cssClass:"btn-danger",materialIcon:"delete",closeWhenClick:!0,onClick:function(t){n.proceedDeleteItem(t,a)}},{text:{key:"common.cancel"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}],dialogData:{deleteId:t}};this._dlg.open(s)},t.prototype.openPropertyDetail=function(t,e){var a=this,n={title:"dialog.property_detail",expandableDialog:!0,dialogCssClass:"size-lg",componentFactory:this._propDetailCmpFactory,useCustomButtons:!0,hasTopPanel:!0,afterClose:function(){setTimeout((function(){var t=window.sessionStorage.getItem("tmp-selected-id")||!1;if(window.sessionStorage.removeItem("tmp-selected-id"),t){if(window.sessionStorage.setItem("ignore-navigation-cancel","true"),a.parentId&&a.itemId&&a.itemName){var e="pages/"+a.itemId+"/item/"+a.parentId;window.sessionStorage.setItem("tmp-structure-back-to-page-url",e),window.sessionStorage.setItem("tmp-structure-back-to-page-item-name",a.parentName+" in "+a.itemName)}a._router.navigate(["globals/"+t])}}),200)},dialogData:{moduleType:this.moduleType,propertyId:t,parentId:this.parentId||"",datatable:{addRow:function(t){a._dt&&t&&(a._dt.row.add(t).draw(!1),a._isTableEmpty&&(a._isTableEmpty=!1))},updateRow:function(t){a._dt&&t&&a._dt.row(e).data(t).draw(!1)}}}};if(t){var i=this._dt.data().filter((function(e){return e.id===t}));i.length>0&&(n.dialogData.selectedData=i[0])}this._dlg.open(n)},t.prototype.switchMode=function(t){this.currentMode!==t&&(this.currentMode=t),t===o.z.ORDER&&(this._isOrderModified=!1,this._orderingData=Object.assign([],this._dt.data()))},t.prototype.initSortingFeature=function(){var t=this;$(".page-item-list-wrapper").sortable({placeholder:"page-item-placeholder",cursorAt:{left:5,top:5},stop:function(e,a){t._zone.run((function(){t._orderingData.map((function(e){e.display_order=t._cmpElem.find('.page-item-list-wrapper .page-item[data-item-id="'+e.id+'"]').index()+1}))}))},change:function(){t._zone.run((function(){t._isOrderModified||(t._isOrderModified=!0)}))}})},t.prototype.saveOrdering=function(){var t=this,e=null;switch(this.moduleType){case o.l.TEMPLATE:e=Object.assign({},h.a.url.template.reorder);break;case o.l.PAGE:e=Object.assign({},h.a.url.page.reorderItem)}if(e){e.url=e.url.replace(/(:id)/g,this.parentId);var a={message:"message.item_removed",type:o.k.NORMAL},n=this._orderingData.map((function(t){return{id:t.id,display_order:t.display_order}}));this.isBusy=!0,this._reqSvc.doRequest(e,{contentType:o.a.FORM,postData:{data:n}}).subscribe((function(e){if(e.result){if(a.message="message.list_reordered",t._isOrderModified=!1,t.pageType===o.x.MAIN_ITEM_LIST&&(t.moduleType===o.l.TEMPLATE||t.moduleType===o.l.PAGE)){var n=Object.assign({},h.a.url.page.getItemsById);t.moduleType===o.l.TEMPLATE&&(n=Object.assign({},h.a.url.template.getItemsByTemplateId)),n.url=n.url.replace(/(:id)/g,t.parentId),t._reqSvc.doRequest(n).subscribe((function(e){t.isBusy=!1,t._dt.clear(),t._dt.rows.add(e.data).draw(),t._sncBar.open(a)}),(function(){t.isBusy=!1,a.message="message.list_reordering_failed",a.type=o.k.ERROR,t._sncBar.open(a)}))}}else t.isBusy=!1,a.message="message.list_reordering_failed",a.type=o.k.ERROR,t._sncBar.open(a)}),(function(){t.isBusy=!1,a.message="message.list_reordering_failed",a.type=o.k.ERROR,t._sncBar.open(a)}))}},t.prototype.filterByCategory=function(){if(this._dt){var t=this._dt.column("1"),e=$.fn.dataTable.util.escapeRegex(this._currentFilterCategory);t.search(e).draw()}},t.prototype.filterBySite=function(){var t=this,e={},a={};switch(this.moduleType){case o.l.PAGE:e=Object.assign({},h.a.url.sites.getPages),a=Object.assign({},h.a.url.page.getAll);break;case o.l.TEMPLATE:e=Object.assign({},h.a.url.sites.getSiteTemplates),a=Object.assign({},h.a.url.template.getAll);break;case o.l.GLOBAL:e=Object.assign({},h.a.url.sites.getSiteGlobals),a=Object.assign({},h.a.url.globalItem.getAll);break;case o.l.REDIRECT_URL:e=Object.assign({},h.a.url.sites.getSiteRedirectUrl),a=Object.assign({},h.a.url.redirectUrl.getAll);break;case o.l.CONTROL_INHERITANCES:e=Object.assign({},h.a.url.control.getInheritancesByIdAndSiteId),e.url=e.url.replace(/(:id)/g,this.parentId),e.url=e.url.replace(/(:site_id)/g,this._currentFilteredSite),a=Object.assign({},h.a.url.control.getInheritancesById),a.url=a.url.replace(/(:id)/g,this.parentId)}this._currentFilteredSite?this._cmn.setInfo({currentSiteId:this._currentFilteredSite}):e=a,e.hasOwnProperty("url")&&(e.url=e.url.replace(/(:id)/g,this._currentFilteredSite),this.isBusy=!0,this._reqSvc.doRequest(e).subscribe((function(e){if(e.data.length>0){var a=[];e.data.forEach((function(t){t.hasOwnProperty("categories")&&a.push.apply(a,t.categories)})),t._categoryList=$.unique(a),t.hasFilterByCategory=t._categoryList.length>0}else t._categoryList=[],t.hasFilterByCategory=!1;t._dt.clear(),t._dt.rows.add(e.data),t._dt.draw(),t.isBusy=!1,t._currentFilterCategory="",t._isTableEmpty=!1})))},n.b([a.i(r._15)(l.a),n.c("design:type",l.a)],t.prototype,"_diTable",void 0),t})()},420:function(t,e){t.exports='<div class="row" *ngIf="additionalHeaderDescription.length" [innerHTML]="additionalHeaderDescription"></div>\r\n<div class="row" *ngIf="itemOrderable && !_isTableEmpty" [hidden]="isBusy && currentMode === \'LIST\'">\r\n\t<div class="col-12">\r\n\t\t<div class="form-group clearfix">\r\n\t\t\t<button type="button" class="btn btn-secondary" *ngIf="currentMode === \'LIST\'" (click)="switchMode(\'ORDER\')">\r\n\t\t\t\t<i class="material-icons">format_list_numbered</i>\r\n\t\t\t\t<span>{{ \'button.order_mode\' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t\t<button type="button" class="btn btn-secondary" *ngIf="currentMode === \'ORDER\'" (click)="switchMode(\'LIST\')" [disabled]="isBusy">\r\n\t\t\t\t<i class="material-icons">format_list_bulleted</i>\r\n\t\t\t\t<span>{{ \'button.list_mode\' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t\t<button type="button" class="btn btn-primary float-right" *ngIf="currentMode === \'ORDER\' && _isOrderModified" (click)="saveOrdering()"\r\n\t\t\t [disabled]="isBusy">\r\n\t\t\t\t<i class="material-icons">save</i>\r\n\t\t\t\t<span>{{ \'common.save\' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<div class="row" [hidden]="isBusy">\r\n\t<div class="col-12" *ngIf="(hasFilterBySite && _siteList.length > 1) || (hasFilterByCategory && _categoryList.length > 0)">\r\n\t\t<div class="material-bar mgn-bottom-med">\r\n\t\t\t<form novalidate class="form-inline table-top-filter-bar">\r\n\t\t\t\t<div class="form-group" *ngIf="hasFilterBySite" [hidden]="_siteList.length < 2">\r\n\t\t\t\t\t<label for="ddlFilterBySite" class="mgn-right-sml">{{ \'table.filter_by_site\' | translate }}</label>\r\n\t\t\t\t\t<select id="ddlFilterBySite" name="ddlFilterBySite" class="form-control"\r\n\t\t\t\t\t\t[(ngModel)]="_currentFilteredSite" (change)="filterBySite(e)">\r\n\t\t\t\t\t\t<option [value]="\'\'">{{ \'table.all_site_item\' | translate }}</option>\r\n\t\t\t\t\t\t<option *ngFor="let site of _siteList" [value]="site.id">\r\n\t\t\t\t\t\t\t{{ site.domain_name }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n                <div class="form-group" *ngIf="hasFilterByCategory" [hidden]="_categoryList.length < 1">\r\n                    <label for="ddlFilterByCategory" class="mgn-right-sml">{{ \'table.filter_by_category\' | translate }}</label>\r\n                    <select id="ddlFilterByCategory" name="ddlFilterByCategory" class="form-control"\r\n                            [(ngModel)]="_currentFilterCategory" (change)="filterByCategory(e)">\r\n                        <option [value]="\'\'">{{ \'table.all_categories\' | translate }}</option>\r\n                        <option *ngFor="let category of _categoryList" [value]="category">\r\n                            {{ category }}\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="col-12" [hidden]="_isTableEmpty || currentMode !== \'LIST\'">\r\n\t\t<table di-datatable [ngClass]="{ \'property-table\': tableType === \'property\', \'module-table\': tableType === \'module\', \'main-item-list\': pageType === \'main-item-list\' }"\r\n\t\t [attr.data-table-module]="moduleType"></table>\r\n\t</div>\r\n\t<div class="col-12" [hidden]="!_isTableEmpty || currentMode !== \'LIST\'">\r\n\t\t<span class="empty-table-message">{{ (customEmptyTableMessage || \'message.empty_table_item\') | translate: { item_type: (moduleTypeName || moduleType) } }}</span>\r\n\t</div>\r\n</div>\r\n\r\n<div class="item-ordering-area" *ngIf="itemOrderable && currentMode === \'ORDER\'">\r\n\t<div class="page-detail-wrapper ordering-list-wrapper">\r\n\t\t<div class="page-item-list-wrapper">\r\n\t\t\t<div class="page-item" *ngFor="let item of _orderingData; let isLast = last" for-end [isLast]="isLast" (onForEnd)="initSortingFeature($event, idx)"\r\n\t\t\t [attr.data-item-id]="item.id">\r\n\t\t\t\t<h4 class="title">{{ item.name }}</h4>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class="component-busy" [hidden]="!isBusy">\r\n\t<span input-loader [size]="\'32px\'"></span>\r\n</div>'},421:function(t,e,a){"use strict";var n=a(4),i=a(120),r=a(2),o=a(90),l=a(68),s=a(422),c=a(26),d=a(440),p=a(467),m=a(451),u=a(27),g=a(173),h=a(43),A=a(19),_=a(446),f=a(169),b=a(73),v=a(95),y=a(454),I=a(75),O=a(448),T=a(119),C=a(434),E=a(125),S=a(459),x=a(464),L=a(188),k=a(174),w=a(424),D=a(449),j=a(450),N=a(67),M=a(170),R=a(461),F=a(435),P=a(433),U=a(436),B=a(437),z=a(183),V=a(462),G=a(122),H=a(452),q=a(465),K=a(187),W=a(466),J=a(92),Y=a(93),X=a(458),$=a(455),Q=a(423),Z=a(182),tt=a(94),et=a(124),at=a(453),nt=a(177),it=a(432),rt=a(447),ot=a(123),lt=a(176),st=a(168),ct=a(175),dt=a(186),pt=a(460),mt=a(463),ut=a(178);a.d(e,"a",(function(){return bt}));var gt=[o.e,l.b,s.a,c.a,u.a],ht=[d.a,g.a,_.a,i.a,T.a,C.a,E.a,k.a,w.a,N.a,M.a,F.a,P.a,U.a,B.a,J.a,Y.a,Q.a,tt.a,et.a,nt.a,it.a,ot.a,lt.a,st.a,ct.a,ut.a],At=[h.a,A.a,L.a,K.a],_t=[p.a,S.a,x.a,R.a,V.a,q.a,W.a,X.a,dt.a,pt.a,mt.a,K.a],ft=[m.a,f.a,b.a,v.a,y.a,I.a,O.a,D.a,j.a,z.a,G.a,H.a,$.a,Z.a,at.a,rt.a],bt=(function(){function t(){}return t=n.b([a.i(r.z)({declarations:ht.concat(_t,ft),imports:gt.slice(),providers:At.slice(),exports:gt.concat(ht,_t,ft),entryComponents:[k.a]})],t)})()},423:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(91),o=a(73),l=a(75),s=a(9),c=a(174),d=a(67),p=a(92),m=a(16),u=a(1),g=a.n(u),h=a(124),A=a(123),_=a(168),f=a(175),b=a(122),v=a(95);a.d(e,"a",(function(){return y}));var y=(function(t){function e(e){var a=t.call(this,e)||this;a.propList=[],a.siteLanguages=[],a.moduleType="",a.onReady=new i.F,a.onComponentWorking=new i.F,a.onDataSaved=new i.F,a.initialData="",a.currentLang="",a.currentLangName="",a.currentLangMain=!1,a.itemElementOption={textEditorOptions:Object.assign({},s.m.contentTextEditorOptions,{height:400})},a.editModeReady=!1,a._siteId="",a.itemVarName="",a._valueObject=[],a._newLanguage="",a._showDefaultValue=!1,a._showHiddenValue=!1,a._topBarButtonList=[],a._showPasteToDefault=!1,a._pasteToDefaultButton={btnText:"button.copy_to_default",btnIcon:"folder_special",btnClass:"btn-secondary",onClick:function(){a.pasteToDefault()}},a._pasteFromDefaultButton={btnText:"button.copy_from_default",btnIcon:"system_update_alt",btnClass:"btn-secondary",onClick:function(){a.pasteFromDefault()}},a._cmn.getInfo().subscribe((function(t){a._showDefaultValue=[s.c.DEVELOPER].indexOf(t.currentUserLevel)>-1,a._showHiddenValue=[s.c.DEVELOPER].indexOf(t.currentUserLevel)>-1,a._showPasteToDefault=[s.c.DEVELOPER,s.c.ADMINISTRATOR].indexOf(t.currentUserLevel)>-1,a._topBarButtonList=t.topBarButtonList}));var n=a._cmn.getCurrentInfo();if(n.richtextTemplate&&n.richtextTemplate.length>0){var r=n.siteDomain&&n.formToken?n.siteDomain:n.apiDomain;/\/$/g.test(r)&&(r+="/");var o=n.richtextTemplate.map((function(t){if(t.url)return Object.assign({},t,{url:""+r+t.url})}));a.itemElementOption.textEditorOptions=Object.assign({},a.itemElementOption.textEditorOptions,{templates:o})}return a}return n.a(e,t),e.prototype.ngOnInit=function(){var t=["[cmp-directory-selector]","cmp-file-uploader","[cmp-control-list-manager]","[cmp-page-preview]"],e=this._cmn.getComponentFactory(t);this._directorySelectorCmpFactory=e["[cmp-directory-selector]"]||this._resolver.resolveComponentFactory(c.a),this._fileUploaderCmpFactory=e["cmp-file-uploader"]||this._resolver.resolveComponentFactory(d.a),this._ctlListManagerCmpFactory=e["[cmp-control-list-manager]"]||this._resolver.resolveComponentFactory(p.a),this._pagePreviewCmpFactory=e["[cmp-page-preview]"]||this._resolver.resolveComponentFactory(_.a)},e.prototype.initComponent=function(t){this.propList=t.propertyList,this.siteLanguages=t.siteLanguages||[],this.moduleType=t.moduleType,this.itemVarName=t.itemVarName,this.siteLanguages.length>0&&(this.currentLang=this.siteLanguages[0].code,this.currentLangName=this.siteLanguages[0].name,this.currentLangMain=this.siteLanguages[0].main,this.toggleDefaultPasting()),this._valueObject=[],this.processPropValues()},e.prototype.setSiteId=function(t){this._siteId=t},e.prototype.setPageData=function(t){this._pageData=Object.assign({},t)},e.prototype.setPageItemData=function(t){this._pageItemData=Object.assign({},t)},e.prototype.isDataChanged=function(){var t=JSON.stringify(this._valueObject);return this.initialData!==t},e.prototype.initCustomDirectives=function(){var t=this;setTimeout((function(){t.diTextEditor.length>0&&t.diTextEditor.forEach((function(t){t.initPlugin()})),t.siteLanguages[0].code?(t.currentLang=t.siteLanguages[0].code,t.currentLangName=t.siteLanguages[0].name,t.currentLangMain=t.siteLanguages[0].main,t.onReady.emit(!0),t.editModeReady=!0,t.setTopBarButton()):setTimeout((function(){t.currentLang=t.siteLanguages[0].code,t.currentLangName=t.siteLanguages[0].name,t.currentLangMain=t.siteLanguages[0].main,t.onReady.emit(!0),t.editModeReady=!0,t.setTopBarButton()}),2e3)}),0)},e.prototype.saveCurrentTranslations=function(){var t=this;this._valueObject.map((function(e){t.currentLang?e.value[t.currentLang]=e.display_value:t._showDefaultValue&&(e.value.default=e.display_value)}))},e.prototype.changeContentLanguage=function(t){var e=this;this.saveCurrentTranslations(),this.currentLang=t?t.code:"",this.currentLangName=t?t.name:"",this.currentLangMain=!!t&&t.main,this._valueObject.map((function(t,a){var n=e.currentLang?t.value[e.currentLang]:t.value.default;t.element_type===s.p.RICHTEXT_EDITOR&&(n||(n="")),t.element_type===s.p.CHECKBOX&&(n=!!n&&("number"==typeof n?1===n:"string"!=typeof n||["true","1"].indexOf(n.toLowerCase())>-1)),t.display_value=n,(function(t,a){e.revalidateCustomCmpValue(t,a)})(t,a)})),this.toggleDefaultPasting()},e.prototype.saveItemByLanguage=function(t,e){var a=this,n={message:"message.data_saved",type:s.k.SUCCESS},i=!0;if(e===t.length)this._cmn.reCache(this._siteId).subscribe((function(){a.onComponentWorking.emit(!1),a._sncBar.open(n),a.onDataSaved.emit(!0)}));else{var r,o=e>-1?t[e]:null,l=e>-1?t[e].code:"",c=this._valueObject.map((function(t){t.has_error&&(t.has_error=!1);var e={id:t.id,option_type:t.option_type},a=t.name,n=t.is_required;switch(t.element_type){case s.p.TEXTBOX:case s.p.MULTILINE_TEXT:case s.p.RICHTEXT_EDITOR:case s.p.MAP_COORDINATE:case s.p.RADIO_LIST:case s.p.DROPDOWN:case s.p.FILE_UPLOAD:case s.p.CONTROL_LIST:case s.p.DATETIME:a=l?t.value[l]:t.value.default,l||a||!n||(i=!1,r=t);break;case s.p.CHECKBOX:e.option_type="text",a=l?t.value[l]:t.value.default}return l?(n&&!a&&t.element_type!==s.p.CHECKBOX&&(i=!1,r=t),e=Object.assign({},e,{language_code:l,translated_text:a})):e=Object.assign({},e,{option_value:a}),t.element_type===s.p.TEXTBOX&&(/^\{/.test(t.element_value)||(t.element_value="{}"),e=Object.assign({},e,{element_type:t.element_type,element_value:t.element_value})),e}));if(i){var d={};switch(this.moduleType){case s.l.GLOBAL:d=Object.assign({},m.a.url.globalItemOption.multiUpdate);break;case s.l.PAGE:d=Object.assign({},m.a.url.pageItemOption.multiUpdate)}this.onComponentWorking.emit(!0),d.url&&this._req.doRequest(d,{postData:{data:c},contentType:s.a.FORM}).subscribe((function(i){i.result?a.saveItemByLanguage(t,e+1):(a.onComponentWorking.emit(!1),n.message=i.message,n.type=s.k.ERROR,a._sncBar.open(n))}),(function(t){a.onComponentWorking.emit(!1),n.message=t.message,n.type=s.k.ERROR,a._sncBar.open(n)}))}else n.message="message.required_value_missing",n.type=s.k.ERROR,this.onComponentWorking.emit(!1),this._sncBar.open(n),this.changeContentLanguage(o),r&&(r.has_error=!0)}},e.prototype.saveItem=function(){var t=this;this._valueObject.map((function(e){t.currentLang?e.value[t.currentLang]=e.display_value:t._showDefaultValue&&(e.value.default=e.display_value)}));var e=[];this._showDefaultValue&&e.push({code:"",name:""}),this.siteLanguages.map((function(t){e.push({code:t.code,name:t.name})})),this.saveItemByLanguage(e,0)},e.prototype.setTopBarButton=function(){var t=this;this._cmn.setInfo({topBarButtonPosition:"right",topBarButtonList:[{btnText:"button.preview",btnIcon:"visibility",btnClass:"btn-secondary",onClick:function(){t.previewPage()}},{btnText:"common.save",btnIcon:"save",btnClass:"btn-primary",onClick:function(){t.saveItem()}}]}),this.toggleDefaultPasting()},e.prototype.previewPage=function(){var t=this;this.saveCurrentTranslations();var e={},a={},n={};this._pageItemData&&(a[this._pageItemData.variable_name]={}),this.itemVarName&&(n[this.itemVarName]={}),this._valueObject.map((function(e){var i=[],r=e.name;switch(e.element_type){case s.p.TEXTBOX:case s.p.MULTILINE_TEXT:case s.p.RICHTEXT_EDITOR:case s.p.MAP_COORDINATE:r=e.display_value;break;case s.p.CHECKBOX:r=!!e.display_value;break;case s.p.RADIO_LIST:case s.p.DROPDOWN:i=JSON.parse(e.element_value),r=void 0===typeof e.display_value||null===e.display_value?i.length?i[0].value:e.name:e.display_value;break;case s.p.DATETIME:var o=JSON.parse(e.element_value);g()().format("YYYY-MM-DD HH:mm:ss");"DATE_ONLY"===o.selectedDateType&&g()().format("YYYY-MM-DD"),"TIME_ONLY"===o.selectedDateType&&g()().format("HH:mm:ss"),r=e.display_value;break;case s.p.FILE_UPLOAD:r=e.display_value;break;case s.p.CONTROL_LIST:r=/^(\[)/g.test(e.display_value)?JSON.parse(e.display_value):[]}t._pageItemData&&(a[t._pageItemData.variable_name][e.variable_name]=r),t.itemVarName&&(n[t.itemVarName][e.variable_name]=r)})),e.friendly_url=this._pageData?this._pageData.friendly_url:"homepage",this.currentLang&&(e.language_code=this.currentLang),e.preview_data={},e.preview_data.page_data=a,e.preview_data.global_data=n,this._cmn.showAppLoader(),this._cmn.previewPage(this._siteId,e,this._pagePreviewCmpFactory).subscribe((function(){t._cmn.hideAppLoader()}))},e.prototype.revalidateCustomCmpValue=function(t,e){var a=this;t.element_type===s.p.FILE_UPLOAD&&(t.info=null,t.changing=!0,/(.)(jpe?g|png|gif|svg)/gi.test(t.display_value)?(t.type="image",t.display_value=t.display_value.replace(/([.]\/)/g,""),t.info={},this._cmn.getImageInfo(t.display_value).subscribe((function(e){t.changing=!1,e&&(t.info={src:e.src,width:e.width,height:e.height})}),(function(){t.info.notFound=!0,t.changing=!1}))):/(.)(mp4|wmv|webm|avi|mkv)/gi.test(t.display_value)?t.type="video":t.type="file"),t.element_type===s.p.DATETIME&&this.dateElement.length>0&&this.dateElement.map((function(a){a.cmpIndex===e&&a.changeValue(t.display_value)})),t.element_type===s.p.RICHTEXT_EDITOR&&this.diTextEditor.length>0&&this.diTextEditor.forEach((function(a){a.$elem.attr("id")==="item_detail_txteditor_"+e&&a.changeContent(t.display_value)})),t.element_type===s.p.TEXTBOX&&this.textpropElement.length>0&&this.textpropElement.map((function(a){a.$elem.data("name")==="txtbox_elem_"+e&&a.changeValue(t.display_value,t.element_value)})),t.element_type===s.p.MAP_COORDINATE&&this.mapElement.length>0&&this.mapElement.map((function(a){a.cmpIndex===e&&a.changeCoordinate(t.display_value)})),t.element_type===s.p.CONTROL_LIST&&this.ctlListInfoElement.map((function(n){n.elem.attr("id")==="ctlListInfo_"+e&&n.reValidate(t,a.currentLang)})),t.element_type===s.p.CHECKBOX&&this.diToggle.map((function(t){t.reValidateText()}))},e.prototype.transformImageValue=function(t){var e=this.currentLang?t.value[this.currentLang]:t.value.default;if(/(.)(jpe?g|png|gif|svg)/gi.test(e)){var a=e.replace(/([.]\/)/g,"");t.type="image",t.info={},this._cmn.getImageInfo(a).subscribe((function(e){e&&(t.info={src:e.src,width:e.width,height:e.height})}),(function(){t.info.notFound=!0}))}else/(.)(mp4|wmv|webm|avi|mkv)/gi.test(e)?t.type="video":t.type="file"},e.prototype.processPropValues=function(){var t=this;this.propList.sort((function(t,e){return!0===g()(t.created_at).isAfter(e.created_at)?1:-1}));for(var e=0,a=this.propList;e<a.length;e++){var n=a[e];if(!n.hasOwnProperty("is_visible")||n.is_visible||this._showHiddenValue){var i=n.option_value,r=n.element_type,o=null,l={id:n.id,name:n.name,variable_name:n.variable_name,option_type:n.option_type,is_required:n.is_required,element_type:r,element_value:n.element_value,display_value:"",value:{}};r===s.p.CHECKBOX&&(i=!!i&&("number"==typeof i?1===i:"string"!=typeof i||["true","1"].indexOf(i.toLowerCase())>-1)),l.value.default=i;for(var c=this,d=0,p=this.siteLanguages;d<p.length;d++){var m=p[d];(function(t){var e="";if(n.hasOwnProperty("site_translations")){var a=n.site_translations.filter((function(e){return e.language_code===t.code}));a.length?e=a[0].translated_text:(c._newLanguage=t.code,e=i)}if(e)r===s.p.CHECKBOX&&(e=/(true|1)/gi.test(e));else switch(r){case s.p.CONTROL_LIST:e="[]";break;case s.p.CHECKBOX:e=!1}l.value[t.code]=e})(m)}o=this.currentLang?l.value[this.currentLang]:l.value.default,l.display_value=o,this._valueObject.push(Object.assign({},l)),r===s.p.FILE_UPLOAD&&(function(e){t.transformImageValue(e)})(this._valueObject[this._valueObject.length-1])}}},e.prototype.selectAndUpload=function(t,e){var a=this,n={title:{key:"dialog.file_upload"},expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._fileUploaderCmpFactory,dialogData:{selectedItem:e,moduleType:this.moduleType},afterClose:function(t){if(t&&t.selectedFile){var n=t.selectedFile;if(e.value[a.currentLang||"default"]=n,e.display_value=n,/(.)(jpe?g|png|gif|svg)/gi.test(n)){var i=n.replace(/([.]\/)/g,"");e.changing=!0,e.type="image",e.info={},a._cmn.getImageInfo(i).subscribe((function(t){e.changing=!1,e.info={src:t.src,width:t.width,height:t.height}}),(function(){e.info.notFound=!0}))}else/(.)(mp4|wmv|webm|avi|mkv)/gi.test(n)?e.type="video":e.type="file"}}};this._dlg.open(n)},e.prototype.manageControlList=function(t,e,a){var n=this,i=JSON.parse(e.element_value||"{}");if(i.selectedControlId){var r=!0,o={key:"dialog.control_list",param:{language:this.currentLangName?"("+this.currentLangName+")":""}},l=e.display_value||e.option_value||e.translated_text,s=Object.assign([],e.site_translations||[]),c={title:o,noCloseButton:!0,expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._ctlListManagerCmpFactory,dialogData:{moduleType:this.moduleType,controlId:i.selectedControlId,optionValue:l,itemTranslations:s,savedStructure:i.propStructure||null,ctlListCmpFactory:this._ctlListManagerCmpFactory,noSaveAndClose:!0,contentMode:!0,currentLang:{code:this.currentLang,name:this.currentLangName}},afterClose:function(t){t&&t.optionValue&&(e.value[n.currentLang||"default"]=t.optionValue,e.display_value=t.optionValue,i.propStructure=Object.assign([],t.propStructure),e.element_value=JSON.stringify(Object.assign({},i)),n.ctlListInfoElement.map((function(t){t.elem.attr("id")==="ctlListInfo_"+a&&t.reValidate(e,n.currentLang)})),t.saveRoot&&r&&(r=!1,n.saveItem()))}};this._dlg.open(c)}},e.prototype.textValueHandler=function(t,e){if(t&&t.hasOwnProperty("value")&&t.hasOwnProperty("settings")){e.display_value=t.value;var a=JSON.parse(e.element_value||"{}"),n=Object.assign({},a,t.settings);e.element_value=JSON.stringify(n)}},e.prototype.removeFile=function(t,e){e.info=null,e.type=null,e.display_value=""},e.prototype.mapCoordChanged=function(t,e){e.value[this.currentLang||"default"]=t,e.display_value=t},e.prototype.pasteToDefault=function(){var t=this;if(this.currentLangMain&&this._showPasteToDefault){var e={title:{key:"dialog.copy_to_default_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,template:{key:"message.copy_to_default"},buttons:[{text:{key:"common.ok"},cssClass:"btn-primary",materialIcon:"done",closeWhenClick:!0,onClick:function(){setTimeout((function(){t._valueObject.map((function(e){t.currentLang&&(e.value[t.currentLang]=e.display_value,e.value.default=e.display_value)}))}),200)}},{text:{key:"common.cancel"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}]};this._dlg.open(e)}},e.prototype.pasteFromDefault=function(){var t=this;if(this.currentLang){var e={title:{key:"dialog.copy_from_default_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,template:{key:"message.copy_from_default"},buttons:[{text:{key:"common.ok"},cssClass:"btn-primary",materialIcon:"done",closeWhenClick:!0,onClick:function(){setTimeout((function(){t._valueObject.map((function(e){t.currentLang&&(e.value[t.currentLang]=e.value.default,e.display_value=e.value.default)})),t.changeContentLanguage({code:t.currentLang,name:t.currentLangName,main:t.currentLangMain})}),200)}},{text:{key:"common.cancel"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}]};this._dlg.open(e)}},e.prototype.toggleDefaultPasting=function(){var t=this;if(this._topBarButtonList.length>0&&this._showPasteToDefault){var e=this._topBarButtonList.filter((function(e){return e.btnText!==t._pasteToDefaultButton.btnText&&e.btnText!==t._pasteFromDefaultButton.btnText}));this._showPasteToDefault&&this.currentLangMain&&(e=[this._pasteToDefaultButton].concat(e)),this.currentLang&&(e=[this._pasteFromDefaultButton].concat(e)),this._cmn.setInfo({topBarButtonList:e})}},n.b([a.i(i.O)(),n.c("design:type",Array)],e.prototype,"propList",void 0),n.b([a.i(i.O)(),n.c("design:type",Array)],e.prototype,"siteLanguages",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],e.prototype,"moduleType",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],e.prototype,"onReady",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],e.prototype,"onComponentWorking",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],e.prototype,"onDataSaved",void 0),n.b([a.i(i._16)(o.a),n.c("design:type",i._17)],e.prototype,"diTextEditor",void 0),n.b([a.i(i._16)(l.a),n.c("design:type",i._17)],e.prototype,"diTypeahead",void 0),n.b([a.i(i._16)(v.a),n.c("design:type",i._17)],e.prototype,"diToggle",void 0),n.b([a.i(i._16)(h.a),n.c("design:type",i._17)],e.prototype,"textpropElement",void 0),n.b([a.i(i._16)(A.a),n.c("design:type",i._17)],e.prototype,"mapElement",void 0),n.b([a.i(i._16)(f.a),n.c("design:type",i._17)],e.prototype,"ctlListInfoElement",void 0),n.b([a.i(i._16)(b.a),n.c("design:type",i._17)],e.prototype,"dateElement",void 0),e=n.b([a.i(i._14)({selector:"cmp-content-translation-editor",template:a(660)}),n.c("design:paramtypes",[i.h])],e)})(r.a)},424:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(12);a.d(e,"a",(function(){return o}));var o=(function(){function t(t,e){this._cmn=e,this.parent="",this.hideChildren=!0,this._elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){this.parent||(this.hideChildren=!1)},t.prototype.ngAfterViewInit=function(){var t=this;this._elem.children(".dir-wrapper").on("click.dir-selector",(function(e){$(".directory-selector-area .dir-wrapper.active").removeClass("active"),$(e.currentTarget).addClass("active"),t.getParent()}))},t.prototype.getParent=function(){var t=this._elem.parents(".directory-item"),e=[],a="";t.length&&(t.each((function(t,a){var n=$(a).children("cmp-dir-item").children(".dir-wrapper").find(".directory-name").data("name");n&&e.push(n)})),e.reverse(),a=e.join("/")),this._cmn.setDirectoryInfo({uploadTargetPath:a})},t.prototype.toggleChildrenView=function(){this.hideChildren=!this.hideChildren},n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"itemData",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"parent",void 0),t=n.b([a.i(i._14)({selector:"cmp-dir-item",template:a(665)}),n.c("design:paramtypes",[i.M,r.a])],t)})()},426:function(t,e,a){"use strict";var n=a(4),i=a(26),r=a(126),o=a(2),l=a(52),s=a(12),c=a(35),d=a(173),p=a(68),m=a(29),u=a(19),g=a(9),h=a(125),A=a(92),_=a(93),f=a(67),b=a(94),v=a(44),y=a(469);a.d(e,"a",(function(){return I}));var I=(function(){function t(t,e,a,n,r,o,l,s,c){var d=this;this._authSvc=t,this._cmn=e,this._dlg=a,this._resolver=n,this._http=r,this._sncBar=o,this._router=l,this._reqSvc=s,this._sanitizer=c,this._siteList=[],this._rolesList=[],this._isRolesLoaded=!1,this._isLoggedIn=!1,this._userLevel=[],this._appNavList=[],this.isGrayContainer=!1,this._currentTitle="",this._titleTranslateParam={},this._navigating=!1,this._topbarButtonList=[],this._topbarButtonPosition="",this._appInit=!1,this._infoSub=this._cmn.getInfo().subscribe((function(t){d._userLevel=t.userLevel||[],d._isLoggedIn=t.isLoggedIn||!1,d._siteList=t.siteList||[],d._rolesList=t.roleList||[],d._titleTranslateParam=t.pageTitleParam||{},d._topbarButtonList=t.topBarButtonList||[],d._topbarButtonPosition=t.topBarButtonPosition||"",setTimeout((function(){d._appNavList=t.navList||[],d._currentTitle=t.pageTitle||""}),1)})),l.events.subscribe((function(t){if(t instanceof i.e&&($("body > .tooltip").remove(),d._navigating=!0,d._cmn.showAppLoader(),d._cmn.setInfo({navList:[],pageTitle:""})),t instanceof i.f){d._navigating=!1,d._cmn.hideAppLoader();var e=window.sessionStorage.getItem("ignore-navigation-cancel")||"false";if(window.sessionStorage.removeItem("ignore-navigation-cancel"),d._isLoggedIn&&"false"===e){var a={message:"message.not_allowed_route",type:g.k.ERROR,duration:6e3};0===d._siteList.length&&(a.message="message.no_site_warning",a.type=g.k.WARNING),d._sncBar.open(a)}}if(t instanceof i.g&&(d._navigating=!1,d._cmn.hideAppLoader()),t instanceof i.h&&(d._navigating=!1,d._cmn.hideAppLoader(),d._cmn.closeSidebar(),d._isLoggedIn)){var n=new RegExp(/\/(controls|templates|pages|globals|sites|redirect-urls)(\/)*(.+)*/,"g"),r={workMode:g.d.CONTENT};n.test(l.url)&&(r.workMode=g.d.STRUCTURE),d._cmn.setInfo(r)}}))}return t.prototype.ngOnInit=function(){var t=this;this.fullCMSOverrides=document.getElementById("full-cms-overrides"),this.fullCMSOverrides&&(this.fullCMSOverrides.innerHTML=y.a),this._dlg.dialogContainer=this.dialogContainer,this._dlg.dialogComponentFactory=this._resolver.resolveComponentFactory(d.a),this._sncBar.sncBarContainer=this.sncBarContainer,this._sncBar.sncBarCmpFactory=this._resolver.resolveComponentFactory(r.a),this._dlg.addCmpFactory([this._resolver.resolveComponentFactory(A.a),this._resolver.resolveComponentFactory(_.a),this._sncBar.sncBarCmpFactory,this._dlg.dialogComponentFactory,this._resolver.resolveComponentFactory(f.a),this._resolver.resolveComponentFactory(b.a)]);var e=this._cmn.getCurrentInfo();this._cmn.loadMappingConfig(),e.configLoaded?this.loadGoogleMapApi():this._cmn.loadConfig().subscribe((function(e){e?(t._cmn.setAppInfo(e),t.loadGoogleMapApi()):t.loadGoogleMapApi()}))},t.prototype.ngOnDestroy=function(){this._infoSub.unsubscribe()},t.prototype.ngAfterViewInit=function(){this._appInit=!0},t.prototype.getUserLevel=function(){return Object.assign([],this._userLevel)},t.prototype.getRoleList=function(){return Object.assign([],this._rolesList)},t.prototype.closeSidebar=function(){this._cmn.closeSidebar()},t.prototype.topbarButtonHandler=function(t,e){e&&e.hasOwnProperty("onClick")&&"function"==typeof e.onClick&&e.onClick(t)},t.prototype.loadGoogleMapApi=function(){var t=g.e.GOOGLE_API_MAP_KEY;$("body").append('<script async defer\n\t\t\t\tsrc="https://maps.googleapis.com/maps/api/js?key='+t+'&libraries=places">\n\t\t\t\t<\/script>')},n.b([a.i(o._15)("dialogContainer",{read:o.R}),n.c("design:type",o.R)],t.prototype,"dialogContainer",void 0),n.b([a.i(o._15)("snackBarContainer",{read:o.R}),n.c("design:type",o.R)],t.prototype,"sncBarContainer",void 0),t=n.b([a.i(o._14)({selector:"app",encapsulation:o.o.None,template:a(657),entryComponents:[d.a,r.a,f.a,h.a,A.a,_.a,b.a]}),n.c("design:paramtypes",[l.a,s.a,c.a,o.Q,p.a,m.a,i.c,u.a,v.d])],t)})()},427:function(t,e,a){"use strict";var n=a(4),i=a(180),r=a(44),o=a(68),l=a(2),s=a(167),c=(a.n(s),a(26)),d=a(27),p=a(166),m=a(429),u=a(426),g=a(428),h=a(430),A=a(421),_=a(172),f=a(442),b=a(456),v=a(468),y=a(439),I=a(444),O=a(29),T=a(35),C=a(181);a.d(e,"a",(function(){return S}));var E=g.a.concat([h.a,O.a,T.a]),S=(function(){function t(t,e,a){this.appRef=t,this.appState=e,this._translate=a;var n=window.sessionStorage.getItem("cms_app_lang");n||(n="en"),a.setDefaultLang(n),a.use(n)}return t.prototype.hmrOnInit=function(t){if(t&&t.state){if(console.log("HMR store",JSON.stringify(t,null,2)),this.appState._state=t.state,"restoreInputValues"in t){var e=t.restoreInputValues;setTimeout(e)}this.appRef.tick(),delete t.state,delete t.restoreInputValues}},t.prototype.hmrOnDestroy=function(t){var e=this.appRef.components.map((function(t){return t.location.nativeElement})),n=this.appState._state;t.state=n,t.disposeOldHosts=a.i(s.createNewHosts)(e),t.restoreInputValues=a.i(s.createInputTransfer)(),a.i(s.removeNgStyles)()},t.prototype.hmrAfterDestroy=function(t){t.disposeOldHosts(),delete t.disposeOldHosts},t=n.b([a.i(l.z)({bootstrap:[u.a],declarations:[u.a,i.a,f.a,y.a,I.a,_.a,C.a],imports:[r.b,A.a,c.a.forRoot(m.a,{useHash:!0,preloadingStrategy:c.b}),d.a.forRoot({provide:d.b,useFactory:function(t){return new d.c(t,"assets/i18n",".json")},deps:[o.a]})],providers:[p.b,E].concat(v.a,b.a)}),n.c("design:paramtypes",[l.j,h.a,d.d])],t)})()},428:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(0),o=(a.n(r),a(156));a.n(o);a.d(e,"a",(function(){return s}));var l=(function(){function t(){}return t.prototype.resolve=function(t,e){return r.Observable.of({res:"I am data"})},t=n.b([a.i(i.c)()],t)})(),s=[l]},429:function(t,e,a){"use strict";var n=a(179),i=a(180),r=a(184),o=a(185),l=a(172),s=a(181);a.d(e,"a",(function(){return c}));var c=[{path:"",component:l.a,canActivate:[r.a]},{path:"login",component:n.a,canActivate:[o.a]},{path:"controls",loadChildren:function(){return a.e(6).then(a.bind(null,943)).then((function(t){return t.ControlsModule}))},canActivate:[r.a]},{path:"templates",loadChildren:function(){return a.e(0).then(a.bind(null,949)).then((function(t){return t.TemplatesModule}))},canActivate:[r.a]},{path:"pages",loadChildren:function(){return a.e(5).then(a.bind(null,946)).then((function(t){return t.PagesModule}))},canActivate:[r.a]},{path:"globals",loadChildren:function(){return a.e(7).then(a.bind(null,944)).then((function(t){return t.GlobalsModule}))},canActivate:[r.a]},{path:"sites",loadChildren:function(){return a.e(9).then(a.bind(null,948)).then((function(t){return t.SitesModule}))},canActivate:[r.a]},{path:"redirect-urls",loadChildren:function(){return a.e(4).then(a.bind(null,947)).then((function(t){return t.RedirectUrlsModule}))},canActivate:[r.a]},{path:"users",loadChildren:function(){return a.e(3).then(a.bind(null,950)).then((function(t){return t.UsersModule}))},canActivate:[r.a]},{path:"page-content",loadChildren:function(){return a.e(2).then(a.bind(null,942)).then((function(t){return t.PagesContentModule}))},canActivate:[r.a]},{path:"global-content",loadChildren:function(){return a.e(8).then(a.bind(null,941)).then((function(t){return t.GlobalsContentModule}))},canActivate:[r.a]},{path:"languages",loadChildren:function(){return a.e(1).then(a.bind(null,945)).then((function(t){return t.LanguagesModule}))},canActivate:[r.a]},{path:"submission",component:s.a,canActivate:[r.a]},{path:"**",component:i.a}]},43:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.set=function(t,e){window.sessionStorage.setItem(t,e)},t.prototype.get=function(t){return window.sessionStorage.getItem(t)},t.prototype.remove=function(t){window.sessionStorage.removeItem(t)},t=n.b([a.i(i.c)()],t)})()},430:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){this._state={}}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state=this._clone(this._state)},set:function(t){throw new Error("do not mutate the `.state` directly")},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=this.state;return e.hasOwnProperty(t)?e[t]:e},t.prototype.set=function(t,e){return this._state[t]=e},t.prototype._clone=function(t){return JSON.parse(JSON.stringify(t))},t=n.b([a.i(i.c)()],t)})()},431:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(91),o=a(16),l=a(1),s=a.n(l),c=a(9),d=a(26);a.d(e,"a",(function(){return p}));var p=(function(t){function e(e,a,n){var i=t.call(this,n)||this;return i._router=e,i._acRoute=a,i._currentSiteId="",i.isBusy=!0,i._currentUserId="",i._currentUserLevel="",i._elem.addClass("component-wrapper full-expand"),i._infoSubscription=i._cmn.getInfo().subscribe((function(t){i._currentUserId=t.username,i._currentUserLevel=t.currentUserLevel,t.currentSiteId!==i._currentSiteId?(i._currentSiteId=t.currentSiteId,i.dashboardItem=[],i.isBusy=!0,i.getDashboardData()):i.isBusy=!1})),i._cmn.setInfo({trigger:!0}),i}return n.a(e,t),e.prototype.ngOnDestroy=function(){this._infoSubscription.unsubscribe()},e.prototype.getDashboardData=function(){var t=this,e=Object.assign({},o.a.url.dashboard.getData);e.url=e.url.replace(/(:id)/g,this._currentSiteId),this._req.doRequest(e).subscribe((function(e){var a=e.data;t.isBusy=!1,t.dashboardItem.push({type:"number",width:1,height:1,title:"dashboard.total_users",value:a.users,styles:{backgroundColor:"#1E88E5",color:"#fff"},onRender:function(){}}),t.dashboardItem.push({type:"number",width:1,height:1,title:"dashboard.total_pages",value:a.pages,styles:{backgroundColor:"#1976D2",color:"#fff"}}),t.dashboardItem.push({type:"number",width:1,height:1,title:"dashboard.total_templates",value:a.templates,styles:{backgroundColor:"#1565C0",color:"#fff"}}),t.dashboardItem.push({type:"number",width:1,height:1,title:"dashboard.total_languages",value:a.languages,styles:{backgroundColor:"#0D47A1",color:"#fff"}}),t.dashboardItem.push({type:"number",width:1,height:1,title:"dashboard.logs_size",value:a.logs_size.size,styles:{backgroundColor:"#0b3d89",color:"#fff"}}),t.dashboardItem.push({type:"number",width:1,height:1,title:"dashboard.number_of_submissions",value:a.number_of_submissions,styles:{backgroundColor:"#07285a",color:"#fff"}});var n=[];a.recent_activities.data&&(t._currentUserLevel===c.c.EDITORIAL?a.recent_activities.data.length>0&&(n=a.recent_activities.data.filter((function(e){if(e.permissions){var a=[];try{a=JSON.parse(e.permissions)}catch(t){a=[]}if(a.length>0)return a.indexOf(t._currentUserId)>-1}return!0}))):n=a.recent_activities.data),t.dashboardItem.push({type:"recent_activities",width:1,height:2.5,title:"dashboard.recent_activities",subTitle:a.recent_activities.time_difference?"("+a.recent_activities.time_difference+")":"",value:n,styles:{backgroundColor:"#1582e3",color:"#fff"}}),t.loginStatChart(a.server_time,a.login_stat)}),(function(){t.isBusy=!1}))},e.prototype.goToActivityItem=function(t,e){t.preventDefault();var a=e.item_type,n=e.item_id;if(n&&a){var i=this._acRoute._routerState.snapshot.url;switch(a){case c.A.PAGE:this._router.navigate(["/page-content/"+n]);break;case c.A.GLOBAL:window.sessionStorage.setItem("tmp-selected-id",n),"/global-content"===i?this._cmn.setInfo({customTrigger:"GLOBAL_ITEM"}):this._router.navigate(["/global-content"])}}},e.prototype.loginStatChart=function(t,e){var a,n=s()(t,"YYYY-MM-DD"),i=n.clone().subtract(10,"days"),r={},o=[];o.push(i.format("DD MMM")),r[i.format("YYYY-MM-DD")]=0;for(var l=1;l<=10;l+=1)a=i.clone().add(l,"days"),o.push(a.format("DD MMM")),r[a.format("YYYY-MM-DD")]=0;e.map((function(t){var e=s()(t.updated_at,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD");r.hasOwnProperty(e)&&(r[e]+=1)}));var c=Object.keys(r).map((function(t){return Object.assign({},{date:s()(t,"YYYY-MM-DD").format("MMM DD, YYYY"),value:r[t],fullDate:s()(t,"YYYY-MM-DD").format()})})),d={dataByTopic:[{topic:-1,topicName:"Login count",dates:c}]};this.dashboardItem.push({type:"chart",chartType:"line",width:2,height:2.5,title:"dashboard.usage_statistics",cssClass:"login-stat-chart",chartSelector:".login-stat-chart",labelKey:"fullDate",chartData:d})},e=n.b([a.i(i._14)({selector:"[cmp-dashboard]",template:a(662)}),n.c("design:paramtypes",[d.c,d.d,i.h])],e)})(r.a)},432:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t=n.b([a.i(i._14)({selector:"broken-image",template:'<div class="broken-image" bs-plugin [pluginList]="\'tooltip\'" \n\t\t\t[attr.title]="\'message.broken_image\' | translate" data-placement="right">\n\t\t\t<i class="material-icons">broken_image</i>\n\t\t</div>'})],t)})()},433:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){this.dropdownSettings="",this.ddlName="prop_elem_ddl",this.onChange=new i.F,this.ddlList=[]}return t.prototype.ngOnInit=function(){this.dropdownSettings&&(this.ddlList=JSON.parse(this.dropdownSettings))},t.prototype.onRdoChange=function(){this.onChange.emit(this.valueModel)},n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"dropdownSettings",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"valueModel",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"ddlName",void 0),n.b([a.i(i._5)(),n.c("design:type",i.F)],t.prototype,"onChange",void 0),t=n.b([a.i(i._14)({selector:"[cmp-dropdown]",template:'<select class="form-control" [name]="ddlName" \n\t\t\t\t\t[(ngModel)]="valueModel" (change)="onRdoChange()">\n\t\t\t\t\t<option *ngFor="let item of ddlList" [ngValue]="item.value">\n\t\t\t\t\t\t{{ item.text }}\n\t\t\t\t\t</option>\n\t\t\t\t</select>'})],t)})()},434:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(44);a.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.sanitize=t,this.size="48px",this.loadingText="",this.fixToTop=!1}return t.prototype.ngOnInit=function(){this.wrapperStyle=this.sanitize.bypassSecurityTrustStyle("height: "+this.size+";")},n.b([a.i(i.O)("size"),n.c("design:type",String)],t.prototype,"size",void 0),n.b([a.i(i.O)("loadingText"),n.c("design:type",String)],t.prototype,"loadingText",void 0),n.b([a.i(i.O)(),n.c("design:type",Boolean)],t.prototype,"fixToTop",void 0),t=n.b([a.i(i._14)({selector:"[input-loader]",template:'<div class="spinner" [ngClass]="{ \'fix-to-top\': fixToTop }" [ngStyle]="wrapperStyle">\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n\t\t\t\t\tversion="1" [attr.width]="size" [attr.height]="size" viewBox="0 0 28 28">\n\t\t\t\t\t\x3c!-- 28= RADIUS*2 + STROKEWIDTH --\x3e\n\n\t\t\t\t\t\x3c!-- 3= STROKEWIDTH --\x3e\n\t\t\t\t\t\x3c!-- 14= RADIUS + STROKEWIDTH/2 --\x3e\n\t\t\t\t\t\x3c!-- 12.5= RADIUS --\x3e\n\t\t\t\t\t\x3c!-- 1.5=  STROKEWIDTH/2 --\x3e\n\t\t\t\t\t\x3c!-- ARCSIZE would affect the 1.5,14 part of this... 1.5,14 is specific to 270 degress --\x3e\n\t\t\t\t\t\t<g class="qp-circular-loader">\n\t\t\t\t\t\t\t<path class="qp-circular-loader-path" fill="none" d="M 14,1.5 A 12.5,12.5 0 1 1 1.5,14" \n\t\t\t\t\t\t\tstroke-linecap="round" />\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</svg>\n\t\t\t\t<span class="loading-text" *ngIf="loadingText">{{ loadingText }}</span>\n\t\t\t</div>'}),n.c("design:paramtypes",[r.d])],t)})()},435:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){this.radioGroupSettings="",this.rdoName="prop_elem_items",this.inlineList=!1,this.onChange=new i.F,this.radioGroup=[]}return t.prototype.ngOnInit=function(){this.radioGroupSettings&&(this.radioGroup="string"==typeof this.radioGroupSettings?JSON.parse(this.radioGroupSettings):this.radioGroupSettings)},t.prototype.onRdoChange=function(){this.onChange.emit(this.valueModel)},n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"radioGroupSettings",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"valueModel",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"rdoName",void 0),n.b([a.i(i.O)(),n.c("design:type",Boolean)],t.prototype,"inlineList",void 0),n.b([a.i(i._5)(),n.c("design:type",i.F)],t.prototype,"onChange",void 0),t=n.b([a.i(i._14)({selector:"[cmp-radio-group]",template:'<div class="mgn-top-sm radio-group-wrapper"\n\t\t\t\t[ngClass]="{ \'inline-radio-group\': inlineList }" *ngIf="radioGroup.length > 0">\n\t\t\t\t\t<div [ngClass]="{ \'inline-radio-block\': inlineList }" *ngFor="let rdo of radioGroup; let idx = index">\n\t\t\t\t\t\t<input type="radio" [name]="rdoName" [(ngModel)]="valueModel"\n\t\t\t\t\t\t[id]="\'rdoPropElem_\' + idx" [value]="rdo.value" (change)="onRdoChange()"\n\t\t\t\t\t\tmd-switch [labelText]="rdo.label" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>'})],t)})()},436:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(t){this.itemText="",this.itemValue="",this.onItemRemoved=new i.F,$(t.nativeElement).addClass("tag-container")}return t.prototype.removeTag=function(t){var e=this;if(this.itemValue){var a=Object.assign([],this.itemList);a=a.filter((function(a){return a[e.itemValue]!==t[e.itemValue]})),this.itemList=Object.assign([],a),this.onItemRemoved.emit(this.itemList)}},n.b([a.i(i.O)(),n.c("design:type",Array)],t.prototype,"itemList",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"itemText",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"itemValue",void 0),n.b([a.i(i._5)(),n.c("design:type",i.F)],t.prototype,"onItemRemoved",void 0),t=n.b([a.i(i._14)({selector:"[tag-container]",template:'<ol><li *ngFor="let tag of itemList"><span class="tag"><span class="tag-label">{{ tag[itemText] }}</span><i class="material-icons" role="remove" (click)="removeTag(tag)">clear</i></span></li></ol>'}),n.c("design:paramtypes",[i.M])],t)})()},437:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(27);a.d(e,"a",(function(){return o}));var o=(function(){function t(t,e,a){this.zone=e,this._translate=a,this.itemModel=null,this.placeholderText="",this.name="",this.rows=7,this.itemSettings={},this.onChange=new i.F,this.settings={},this.isScriptStyle=!1,this.elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){var t=this;this.itemSettings&&(this.itemSettings="string"==typeof this.itemSettings?Object.assign({},JSON.parse(this.itemSettings)):this.itemSettings,this.isScriptStyle=this.itemSettings.scriptFormat,this.itemSettings.maxLength&&this.elem.next("small").length&&this._translate.get("element.multiline_text.maxlength_cap",{maxlength:this.itemSettings.maxLength}).subscribe((function(e){$('<small class="text-muted">'+e+"</small>").insertAfter(t.elem)}))),this.elem.on("change.cmp",(function(){t.onChange.emit(t.itemModel)}))},n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"itemModel",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"placeholderText",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"name",void 0),n.b([a.i(i.O)(),n.c("design:type",Number)],t.prototype,"rows",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"itemSettings",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onChange",void 0),t=n.b([a.i(i._14)({selector:"cmp-textarea",template:'<textarea [attr.name]="name" class="form-control"[(ngModel)]="itemModel" [rows]="rows" [attr.placeholder]="placeholderText"[ngClass]="{ \'scripts-style\' : isScriptStyle }"></textarea>'}),n.c("design:paramtypes",[i.M,i.k,r.d])],t)})()},438:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(52),o=a(26),l=a(35),s=a(29),c=a(9),d=a(12),p=a(43),m=a(16),u=a(19);a.d(e,"a",(function(){return g}));var g=(function(){function t(t,e,a,n,i,r,o,l,s){var d=this;this._router=t,this._acRoute=e,this._authSvc=a,this._dlgSvc=n,this._sncBar=i,this._cmn=r,this._storageSvc=o,this._req=l,this._zone=s,this._userFullname="",this._siteList=[],this._currentSite="",this._currentSiteId="",this._currentWorkingMode="",this._appContentMode=c.d.CONTENT,this._workModeInit=!1,this._selfChange=!1,this.brandLogoImage=c.e.BRAND_LOGO,this.brandName=c.e.BRAND_NAME,this.searchKey="",this.isSearching=!1,this.searchResultList=[],this.isSearched=!1,this._currentSiteInitSet=!1,this._showClearCache=!1,this._showClearLogs=!1,this._showClearSubmissions=!1,this._formToken="",this._siteDomain="",this._infoSub=this._cmn.getInfo().subscribe((function(t){if(d._userFullname=t.fullname||"",d._currentWorkingMode=t.workMode||c.d.CONTENT,d.brandName=t.brandName||"",d.brandLogoImage=t.brandLogo||"",d._selfChange)d._selfChange=!1;else if(d._siteList=t.siteList||[],d._siteList.length>0)if(d._workModeInit=!0,d._storageSvc.get(c.b.rememberedSiteId)){var e=d._siteList.filter((function(t){return t.id===d._storageSvc.get(c.b.rememberedSiteId)}));e.length>0?(d._currentSite=e[0].domain_name,d._currentSiteId=e[0].id):(d._currentSite=d._siteList[0].domain_name,d._currentSiteId=d._siteList[0].id,d._storageSvc.set(c.b.rememberedSiteId,d._currentSiteId))}else d._currentSite=d._siteList[0].domain_name,d._currentSiteId=d._siteList[0].id,d._storageSvc.set(c.b.rememberedSiteId,d._currentSiteId);d._showClearCache=[c.c.DEVELOPER,c.c.ADMINISTRATOR].indexOf(t.currentUserLevel)>-1,d._showClearLogs=[c.c.DEVELOPER,c.c.ADMINISTRATOR].indexOf(t.currentUserLevel)>-1,d._showClearSubmissions=[c.c.DEVELOPER,c.c.ADMINISTRATOR].indexOf(t.currentUserLevel)>-1,d._formToken=t.formToken,d._siteDomain=t.siteDomain,d._siteDomain&&(/^(https?:\/\/)/g.test(d._siteDomain)||(d._siteDomain="http://"+d._siteDomain),/(\/)$/g.test(d._siteDomain)||(d._siteDomain+="/"))}))}return t.prototype.ngOnInit=function(){this._cmn.setInfo({trigger:!0})},t.prototype.ngAfterViewInit=function(){var t=this;$("#appSearch").on("shown.bs.dropdown",(function(){$("#txtAppSearch").focus()})),$("#appSearch").on("hidden.bs.dropdown",(function(){t._zone.run((function(){t.searchKey="",t.searchResultList=[],t.isSearched=!1}))}))},t.prototype.ngOnDestroy=function(){this._infoSub.unsubscribe()},t.prototype.selectSite=function(t){this._currentSiteId!==t.id&&(this._selfChange=!0,this._currentSiteId=t.id,this._currentSite=t.domain_name,this._storageSvc.set(c.b.rememberedSiteId,t.id),this._cmn.setInfo({currentSiteId:t.id}))},t.prototype.openSidebar=function(){$(".sidenav").addClass("opened")},t.prototype.searchHandler=function(t){var e=this,a=t.which||t.keyCode,n=$(t.currentTarget);if(13===a){if(this._currentSiteId){this.isSearching=!0;var i=Object.assign({},m.a.url.dashboard.searchOption),r={site_id:this._currentSiteId,search_key:this.searchKey};this._req.doRequest(i,{postData:r,contentType:c.a.FORM}).subscribe((function(t){e.isSearching=!1,e.searchResultList=Object.assign([],t.data.search_result),e.isSearched=!0}),(function(){e.searchResultList=[],e.isSearching=!1,e.isSearched=!0,$("#txtAppSearch").focus()}))}}else 27===a&&n.closest(".dropdown").removeClass("show")},t.prototype.navigateSearchItem=function(t){var e=this._acRoute._routerState.snapshot.url;if(this._currentWorkingMode===c.d.CONTENT)switch(t.item_type){case"GLOBAL_ITEM_OPTION":window.sessionStorage.setItem("tmp-selected-id",t.parent_id),"/global-content"===e?this._cmn.setInfo({customTrigger:"GLOBAL_ITEM"}):this._router.navigate(["/global-content"]);break;case"GLOBAL_ITEM":window.sessionStorage.setItem("tmp-selected-id",t.id),"/global-content"===e?this._cmn.setInfo({customTrigger:"GLOBAL_ITEM"}):this._router.navigate(["/global-content"]);break;case"PAGE":this._router.navigate(["/page-content/"+t.id]);break;case"PAGE_ITEM":window.sessionStorage.setItem("tmp-selected-id",t.id),this._router.navigate(["/page-content/"+t.page_id]);break;case"PAGE_ITEM_OPTION":window.sessionStorage.setItem("tmp-selected-id",t.parent_id),this._router.navigate(["/page-content/"+t.page_id]);break;case"TEMPLATE":this._router.navigate(["/templates/"+t.id])}else switch(t.item_type){case"GLOBAL_ITEM_OPTION":this._router.navigate(["/globals/"+t.parent_id]);break;case"GLOBAL_ITEM":this._router.navigate(["/globals/"+t.id]);break;case"PAGE":this._router.navigate(["/pages/"+t.id]);break;case"PAGE_ITEM":this._router.navigate(["/pages/"+t.page_id]);break;case"PAGE_ITEM_OPTION":this._router.navigate(["/pages/"+t.page_id+"/item/"+t.parent_id]);break;case"TEMPLATE":this._router.navigate(["/templates/"+t.id])}},t.prototype.clearCache=function(t){var e=this;t.preventDefault();var a={title:{key:"dialog.cache_clear_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,template:{key:"message.site_cache_clear_confirm"},buttons:[{text:{key:"common.clear_cache_btn_confirm"},cssClass:"btn-primary",materialIcon:"cached",closeWhenClick:!0,onClick:function(){setTimeout((function(){e._cmn.showAppLoader();var t={message:"message.website_cache_cleared",type:c.k.SUCCESS},a=Object.assign({},m.a.url.clearCache),n=!1,i={};e._formToken&&(i["X-CMS-Form-Token"]=e._formToken,e._siteDomain&&(a.url=e._siteDomain+"client-api"+a.url,n=!0)),e._req.doRequest(a,{customHeaders:i},n).flatMap((function(){return e._cmn.reCache()})).subscribe((function(a){e._cmn.hideAppLoader(),a&&e._sncBar.open(t)}),(function(a){e._cmn.hideAppLoader(),t.message=a.message,t.type=c.k.ERROR,e._sncBar.open(t)}))}),200)}},{text:{key:"common.cancel"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}]};this._dlgSvc.open(a)},t.prototype.clearSubmissions=function(t){var e=this;t.preventDefault();var a={title:{key:"dialog.clear_submissions_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,template:{key:"message.clear_submissions_confirm"},buttons:[{text:{key:"common.clear_submissions_confirm"},cssClass:"btn-primary",materialIcon:"delete_forever",closeWhenClick:!0,onClick:function(){setTimeout((function(){e._cmn.showAppLoader();var t={message:"message.submissions_cleared",type:c.k.SUCCESS},a=Object.assign({},m.a.url.log.deleteSubmissions),n=e._cmn.getCurrentInfo();n.currentSiteId&&(a.url=a.url.replace(/(:id)/g,n.currentSiteId),e._req.doRequest(a,{},!1).subscribe((function(a){e._cmn.hideAppLoader(),a&&e._sncBar.open(t)}),(function(a){e._cmn.hideAppLoader(),t.message=a.message,t.type=c.k.ERROR,e._sncBar.open(t)})))}),200)}},{text:{key:"common.cancel"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}]};this._dlgSvc.open(a)},t.prototype.clearLogs=function(t){var e=this;t.preventDefault();var a={title:{key:"dialog.clear_logs_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,template:{key:"message.clear_logs_confirm"},buttons:[{text:{key:"common.clear_logs_btn_confirm"},cssClass:"btn-primary",materialIcon:"delete_forever",closeWhenClick:!0,onClick:function(){setTimeout((function(){e._cmn.showAppLoader();var t={message:"message.logs_cleared",type:c.k.SUCCESS},a=Object.assign({},m.a.url.log.deleteLogs);e._req.doRequest(a,{},!1).subscribe((function(a){e._cmn.hideAppLoader(),a&&e._sncBar.open(t)}),(function(a){e._cmn.hideAppLoader(),t.message=a.message,t.type=c.k.ERROR,e._sncBar.open(t)}))}),200)}},{text:{key:"common.cancel"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}]};this._dlgSvc.open(a)},t.prototype.logout=function(t){var e=this;t.preventDefault();var a={title:{key:"dialog.logout_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,template:{key:"message.logout"},buttons:[{text:{key:"common.logout"},cssClass:"btn-danger",materialIcon:"power_settings_new",closeWhenClick:!0,onClick:function(){setTimeout((function(){e._cmn.showAppLoader(),e._authSvc.logout().subscribe((function(t){if(e._cmn.hideAppLoader(),t.result)e._router.navigate(["/login"]);else{var a={message:t.message,type:c.k.ERROR};e._sncBar.open(a)}}))}),200)}},{text:{key:"common.cancel"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}]};this._dlgSvc.open(a)},t=n.b([a.i(i._14)({selector:"[cmp-header]",template:a(670)}),n.c("design:paramtypes",[o.c,o.d,r.a,l.a,s.a,d.a,p.a,u.a,i.k])],t)})()},439:function(t,e,a){"use strict";var n=a(438);a.d(e,"a",(function(){return n.a}))},440:function(t,e,a){"use strict";var n=a(441);a.d(e,"a",(function(){return n.a}))},441:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t=n.b([a.i(i._14)({selector:"app-loader",template:a(671)})],t)})()},442:function(t,e,a){"use strict";var n=a(179);a.d(e,"a",(function(){return n.a}))},443:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(52),o=a(12);a.d(e,"a",(function(){return l}));var l=(function(){function t(t,e){this._authSvc=t,this._cmn=e,this.pageReady=!1}return t.prototype.ngOnInit=function(){var t=this;this._authSvc.isLoggedIn().subscribe((function(e){t.pageReady=!0,e&&t._cmn.setInfo({isLoggedIn:!0})}))},t=n.b([a.i(i._14)({selector:"no-content",template:'\n\t<div class="app-error-wrapper" *ngIf="pageReady">\n\t\t<span class="error-message"><i class="material-icons">info_outline</i>\n\t\t {{ \'error.404\' | translate }}</span>\n\t</div>\n\t'}),n.c("design:paramtypes",[r.a,o.a])],t)})()},444:function(t,e,a){"use strict";var n=a(445);a.d(e,"a",(function(){return n.a}))},445:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(9),o=a(12),l=a(26);a.d(e,"a",(function(){return s}));var s=(function(){function t(t,e){var a=this;this._cmn=t,this._router=e,this.mainMenu=r.B,this._userLevel=[],this._currentWorkingMode="",this._workMode={content:r.d.CONTENT,structure:r.d.STRUCTURE},this._siteList=[],this.cmsLogoImage=r.e.CMS_LOGO,this.searchKey="",this.searchFormDisplayed=!1,this._infoSub=this._cmn.getInfo().subscribe((function(t){a._currentWorkingMode=t.workMode||a._workMode.content,a._userLevel=t.userLevel||[],a._siteList=t.siteList||[]}))}return t.prototype.ngOnInit=function(){this._cmn.setInfo({trigger:!0})},t.prototype.ngOnDestroy=function(){this._infoSub.unsubscribe()},t.prototype.toggleMenu=function(t){var e=$(t.target);e.toggleClass("expanded"),e.hasClass("expanded")?e.next("ul").css("height",e.next("ul").data("height")):e.next("ul").css("height",0)},t.prototype.menuRenderHandler=function(t,e){if(t){var a=$(t).parent().prop("scrollHeight");$(t).parent().data("height",a),$(t).parent().css("height",a),setTimeout((function(){$('.parent-menu-item[data-menu-index="'+e+'"]').addClass("ready")}),1)}},t.prototype.switchMode=function(){this._currentWorkingMode===r.d.CONTENT?(this._cmn.setInfo({workMode:r.d.STRUCTURE}),this._router.navigate(["/controls"])):(this._cmn.setInfo({workMode:r.d.CONTENT}),this._router.navigate(["/"]))},t.prototype.onSearchSubmit=function(){this.searchFormDisplayed||(this.searchFormDisplayed=!0,setTimeout((function(){$('.sidenav [name="search_key"]').focus()}),1))},t.prototype.closeSearch=function(){this.searchFormDisplayed=!1,this.searchKey=""},t=n.b([a.i(i._14)({selector:"[cmp-sidenav]",template:a(676)}),n.c("design:paramtypes",[o.a,l.c])],t)})()},446:function(t,e,a){"use strict";var n=a(126);a.d(e,"a",(function(){return n.a}))},447:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(27);a.d(e,"a",(function(){return o}));var o=(function(){function t(t,e){this._translate=e,this.size="small",this.elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){var t=this;"IMG"===this.elem.get(0).tagName&&(this.elem.get(0).onerror=function(){t.elem.replaceWith('<div class="broken-image '+(t.size||"small")+'" data-placement="top">\n\t\t\t\t\t<i class="material-icons">broken_image</i></div>'),t._translate.get("message.broken_image").subscribe((function(t){$(".broken-image:not([data-original-title])").attr("title",t),$(".broken-image:not([data-original-title])").tooltip({html:!0,animation:!1})}))})},n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"size",void 0),t=n.b([a.i(i.J)({selector:"[broken-image]"}),n.c("design:paramtypes",[i.M,r.d])],t)})()},448:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(27);a.d(e,"a",(function(){return o}));var o=(function(){function t(t,e){this.translate=e,this.pluginName="",this.elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){var t=this;this.pluginList&&("string"!=typeof this.pluginList?this.pluginList.forEach((function(e){t.applyPlugin(e.name)})):(this.pluginName=this.pluginList,this.applyPlugin(this.pluginList)))},t.prototype.ngOnDestroy=function(){"tooltip"===this.pluginName&&this.elem.tooltip("dispose")},t.prototype.applyTooltip=function(){var t=this;setTimeout((function(){t.translateTitle?t.translate.get(t.translateTitle).subscribe((function(e){t.elem.attr("title",e),t.proceedCreateTooltip()})):t.proceedCreateTooltip()}),10)},t.prototype.applyPlugin=function(t){"tooltip"===t&&this.applyTooltip()},t.prototype.updateTooltipContent=function(){this.elem.tooltip("dispose"),!this.elem.attr("title")&&this.elem.attr("data-original-title")&&this.elem.attr("title",this.elem.attr("data-original-title")),this.applyTooltip()},t.prototype.initTooltip=function(t){var e=this;this.elem.closest(".md-dialog-box").length>0&&(t=$.extend({},t,{container:".md-dialog-box"})),this.elem.tooltip(t),this.elem.data("tooltip-type")&&this.elem.on("shown.bs.tooltip",(function(){$(".tooltip").addClass("custom-tooltip-"+e.elem.data("tooltip-type"))}))},t.prototype.proceedCreateTooltip=function(){var t=this;if(this.elem.attr("title")){var e=this.elem.attr("title"),a={html:!0,animation:!1};if(this.elem.attr({"data-toggle":"tooltip","data-placement":this.elem.attr("data-placement")||"right"}),e.indexOf("<img")>-1){var n=$(e),i=n.find("img").length,r=0,o=[];n.find("img").each((function(e,n){var l=$(n).attr("src");o[e]=new Image,o[e].onload=function(){(r+=1)===i&&t.initTooltip(a)},o[e].src=l}))}else this.initTooltip(a)}},n.b([a.i(i.O)("pluginList"),n.c("design:type",Object)],t.prototype,"pluginList",void 0),n.b([a.i(i.O)("translateTitle"),n.c("design:type",Object)],t.prototype,"translateTitle",void 0),t=n.b([a.i(i.J)({selector:"[bs-plugin]"}),n.c("design:paramtypes",[i.M,r.d])],t)})()},449:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(621),o=a(474),l=a.n(o),s=a(473),c=a.n(s),d=a(475),p=a.n(d);a.d(e,"a",(function(){return m}));var m=(function(){function t(t){this.options={},this.chartSelector="",this.labelKey="key",this.chartType="line",this.elemId="",this.elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){var t=this;setTimeout((function(){if(t.chartData){if(t.container=a.i(r.a)(t.chartSelector),t.containerNode=t.container.node(),t.containerNode){var e=t.containerNode.getBoundingClientRect();t.containerWidth=e.width,t.containerHeight=e.height}if(t.containerWidth&&t.containerHeight)switch(t.chartType){case"line":t.renderLineChart();break;case"sparkline":t.renderSparkLineChart()}$(window).off("resizestop.chart").on("resizestop.chart",100,(function(){a.i(r.b)(".line-chart").remove();var e=t.containerNode.getBoundingClientRect();if(t.containerWidth=e.width,t.containerHeight=e.height,t.containerWidth&&t.containerHeight)switch(t.chartType){case"line":t.renderLineChart();break;case"sparkline":t.renderSparkLineChart()}}))}}),100)},t.prototype.renderSparkLineChart=function(){var t=l()();t.dateLabel(this.labelKey).isAnimated(!0).duration(1400).height(this.containerHeight).width(this.containerWidth),this.container.datum(this.chartData).call(t)},t.prototype.renderLineChart=function(){var t,e=c()(),n=p()();e.isAnimated(!0).grid("horizontal").tooltipThreshold(600).width(this.containerWidth).height(this.containerHeight).dateLabel(this.labelKey).on("customMouseOver",(function(){n.show()})).on("customMouseMove",(function(t,e,a){n.update(t,e,a)})).on("customMouseOut",(function(){n.hide()})),this.container.datum(this.chartData).call(e),n.valueLabel("value").title("Login Total"),t=a.i(r.a)(this.chartSelector+" .metadata-group .hover-marker"),t.node()&&t.datum([]).call(n)},n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"options",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"chartSelector",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"chartData",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"labelKey",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"chartType",void 0),t=n.b([a.i(i.J)({selector:"[custom-chart]"}),n.c("design:paramtypes",[i.M])],t)})()},450:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(t){this.stylesAttr={},this.elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){var t=this;setTimeout((function(){t.stylesAttr&&t.elem.css(t.stylesAttr)}),10)},n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"stylesAttr",void 0),t=n.b([a.i(i.J)({selector:"[cond-style]"}),n.c("design:paramtypes",[i.M])],t)})()},451:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(t){this.onForEnd=new i.F,this.onInit=new i.F,this._targetElem=t.nativeElement}return t.prototype.ngOnInit=function(){this.onInit.emit(this._targetElem),this.isLast&&this.onForEnd.emit(this._targetElem)},n.b([a.i(i._5)(),n.c("design:type",i.F)],t.prototype,"onForEnd",void 0),n.b([a.i(i._5)(),n.c("design:type",i.F)],t.prototype,"onInit",void 0),n.b([a.i(i.O)(),n.c("design:type",Boolean)],t.prototype,"isLast",void 0),t=n.b([a.i(i.J)({selector:"[for-end]"}),n.c("design:paramtypes",[i.M])],t)})()},452:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(t){this.el=t,$(t.nativeElement).contextmenu((function(){return!1}))}return t=n.b([a.i(i.J)({selector:"[no-context]"}),n.c("design:paramtypes",[i.M])],t)})()},453:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(t,e){this._zone=e,this.onNumberOnlyInvalid=new i.F,this._elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){"INPUT"!==this._elem.get(0).tagName||/(radio|checkbox)/g.test(this._elem.attr("type"))||this._elem.on("keydown.number-only",(function(t){-1!==$.inArray(t.keyCode,[46,8,9,27,13,110,190])||65===t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||67===t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||88===t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}))},n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onNumberOnlyInvalid",void 0),t=n.b([a.i(i.J)({selector:"[number-only]"}),n.c("design:paramtypes",[i.M,i.k])],t)})()},454:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(t){var e=this;this._elem=$(t.nativeElement),this._elem.on("click.ripple",(function(t){var a=e._elem,n=a.attr("ripple-static");0===a.find(".ink").length&&a.prepend('<span class="ink"></span>');var i=a.find(".ink");if(a.hasClass("ripple-light")&&i.addClass("ink-light"),i.removeClass("animate"),!i.height()&&!i.width()){var r=Math.max(a.outerWidth(),a.outerHeight());i.css({height:r,width:r})}if(n)i.css({top:"50%",left:"50%","margin-left":i.width()/2*-1,"margin-top":i.height()/2*-1}).addClass("animate");else{var o=t.pageX-a.offset().left-i.width()/2,l=t.pageY-a.offset().top-i.height()/2;i.css({top:l+"px",left:o+"px"}).addClass("animate")}}))}return t=n.b([a.i(i.J)({selector:"[ripple]"}),n.c("design:paramtypes",[i.M])],t)})()},455:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(27);a.d(e,"a",(function(){return o}));var o=(function(){function t(t,e){this.el=t,this._translate=e,this.labelPosition="right",this.$elem=$(t.nativeElement)}return t.prototype.ngOnInit=function(){"INPUT"===this.$elem.get(0).tagName&&("checkbox"===this.$elem.attr("type")?this.elementBuilder("checkbox"):this.elementBuilder("radio"),this.elementEventHandler())},t.prototype.elementEventHandler=function(){var t=this;this.$elem.on("click.md-switch",(function(){var e=t._container.find(".color-effect span");0===e.find(".chkbox-ink").length&&e.prepend('<span class="chkbox-ink"></span>');var a=e.find(".chkbox-ink");if(e.hasClass("ripple-light")&&a.addClass("light"),a.removeClass("animate"),!a.height()&&!a.width()){var n=Math.max(e.outerWidth(),e.outerHeight());a.css({height:n,width:n})}a.css({"margin-left":a.width()/2*-1,"margin-top":a.height()/2*-1}).addClass("animate"),t.$elem.is(":checked")?t.$elem.data("checked-label")&&t._container.find(".switch-element-label").text(t.$elem.data("checked-label")):t.$elem.data("unchecked-label")&&t._container.find(".switch-element-label").text(t.$elem.data("unchecked-label"))}))},t.prototype.elementBuilder=function(t){var e='<div class="md-'+t+'-wrapper"></div>';if(this.$elem.addClass("md-switch-element"),this.$elem.wrap(e),this._container=this.$elem.parent(),this._container.append('<div class="effect-wrapper"></div>'),"left"===this.labelPosition.toLocaleLowerCase()&&this._container.addClass("label-left"),this.labelText&&"left"===this.labelPosition.toLocaleLowerCase()&&this._container.find(".effect-wrapper").append('<label class="switch-element-label">'+this.labelText+"</label>"),this._container.find(".effect-wrapper").append('<div class="box-style-wrapper"></div>'),this._container.find(".box-style-wrapper").append('<div class="svg-wrapper"></div>'),this._container.find(".box-style-wrapper").append('<div class="color-effect"></div>'),this._container.find(".box-style-wrapper").append('<div class="style-helper"></div>'),this._container.find(".color-effect").append("<span></span>"),"checkbox"===t?(this._container.find(".svg-wrapper").append('<svg viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></svg>'),this._container.find(".svg-wrapper").append('<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></svg>')):(this._container.find(".svg-wrapper").append('<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>'),this._container.find(".svg-wrapper").append('<svg viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>')),this.labelText||this.checkedLabelText||this.uncheckedLabelText){var a="";this.labelText?a=this.labelText:this.checkedLabelText&&this.uncheckedLabelText&&(a=this.initModel?this.checkedLabelText:this.uncheckedLabelText,this.$elem.data("checked-label",this.checkedLabelText),this.$elem.data("unchecked-label",this.uncheckedLabelText)),a&&("left"===this.labelPosition.toLocaleLowerCase()?this._container.find(".effect-wrapper").prepend('<label class="switch-element-label">'+a+"</label>"):this._container.find(".effect-wrapper").append('<label class="toggle-element-label">'+a+"</label>"))}},n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"labelText",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"checkedLabelText",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"uncheckedLabelText",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"labelPosition",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"initModel",void 0),t=n.b([a.i(i.J)({selector:"[md-switch]"}),n.c("design:paramtypes",[i.M,r.d])],t)})()},456:function(t,e,a){"use strict";var n=a(185),i=a(184),r=a(457);a.d(e,"a",(function(){return o}));var o=[i.a,n.a,r.a]},457:function(t,e,a){"use strict";var n=a(4),i=a(26),r=a(2),o=a(52),l=a(43);a.d(e,"a",(function(){return s}));var s=(function(){function t(t,e,a,n){this.router=t,this.acRoute=e,this._authSvc=a,this._storage=n}return t.prototype.canActivate=function(t,e){return!0},t=n.b([a.i(r.c)(),n.c("design:paramtypes",[i.c,i.d,o.a,l.a])],t)})()},458:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.transform=function(t){return/^\{.?\}$/.test(t)||(t="[]"),(t?JSON.parse(t||"[]"):[]).length},t=n.b([a.i(i.Y)({name:"myControlListCountFilter",pure:!1})],t)})()},459:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.transform=function(t,e,a){return t.filter((function(t){var n=!1;if(e.length>0)for(var i=0,r=e;i<r.length;i++){var o=r[i];n=t[o].toLowerCase().indexOf(a.toLowerCase())>-1}return n}))},t=n.b([a.i(i.Y)({name:"myCustomFilter",pure:!1})],t)})()},460:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.transform=function(t){var e=[];return 1.5===t.width&&e.push("width-half"),2===t.width&&e.push("width-double"),3===t.width&&e.push("width-triple"),1.5===t.height&&e.push("height-one-half"),2===t.height&&e.push("height-double"),2.5===t.height&&e.push("height-dbl-half"),3===t.height&&e.push("height-triple"),e.join(" ")},t=n.b([a.i(i.Y)({name:"myDashboardSizeFilter",pure:!1})],t)})()},461:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.transform=function(t,e){var a=Object.assign({},JSON.parse(t||"{}"));return a.hasOwnProperty(e)?a[e]:""},t=n.b([a.i(i.Y)({name:"myElementSettingFilter"})],t)})()},462:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.transform=function(t,e,a,n){return t.filter((function(t){var i=!1;if(e.length>0)for(var r=0,o=e;r<o.length;r++){var l=o[r];i=t[l].toLowerCase().indexOf(a)>-1}if(n&&n.length>0&&t.categories&&t.categories.length>0){var s=n.map((function(t){return t.name.toLowerCase()}));t.categories.map((function(t){s.indexOf(t.toLowerCase())>-1&&(i=!0)}))}return i}))},t=n.b([a.i(i.Y)({name:"myGlobalItemFilter",pure:!1})],t)})()},463:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(12);a.d(e,"a",(function(){return o}));var o=(function(){function t(t){this._cmn=t}return t.prototype.transform=function(t){return this._cmn.getImageSource(t)},t=n.b([a.i(i.Y)({name:"myImageSrcFilter",pure:!1}),n.c("design:paramtypes",[r.a])],t)})()},464:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.transform=function(t,e){return t.filter((function(t){return 0===e.filter((function(e){return e.code===t.code})).length}))},t=n.b([a.i(i.Y)({name:"myLanguageFilter",pure:!1})],t)})()},465:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(12);a.d(e,"a",(function(){return o}));var o=(function(){function t(t){this._cmn=t}return t.prototype.transform=function(t){var e="assets/img/flag-icons/",a=""+e+t.toUpperCase()+".png",n=this._cmn.getMapping(),i=n?n.flag_icon:{};if(i)a=i[t]?""+e+i[t]:""+e+t.toUpperCase()+".png";else switch(t){case"en":a=e+"GB.png";break;case"zh":a=e+"CN.png";break;case"ja":a=e+"JP.png";break;case"ko":a=e+"KR.png";break;case"cs":a=e+"CZ.png";break;case"lo":a=e+"LA.png";break;case"sq":a=e+"AL.png";break;case"hi":a=e+"IN.png";break;case"ar":a=e+"SA.png";break;case"vi":a=e+"VN.png";break;case"ms":a=e+"MY.png"}return a},t=n.b([a.i(i.Y)({name:"myLangFlagFilter",pure:!1}),n.c("design:paramtypes",[r.a])],t)})()},466:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.transform=function(t,e,a,n){return t.filter((function(t){var i=[],r=!e||t.name.toLowerCase().indexOf(e.toLowerCase())>-1||t.template.name.toLowerCase().indexOf(e.toLowerCase())>-1,o=!a||t.categories.indexOf(a)>-1;return n?!!(t.parents&&t.parents.length&&r&&o)&&(i=t.parents.filter((function(t){return t.id===n})),i.length>0&&r&&o):r&&o}))},t=n.b([a.i(i.Y)({name:"myPageListFilter",pure:!1})],t)})()},467:function(t,e,a){"use strict";var n=a(4),i=a(2);a.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.transform=function(t,e,a,n){return t.filter((function(t){var i=t.menu_allowed_level||[""],r=!0;return n||(r=t.visible_mode.indexOf(a)>-1||!1),(""===i[0]||e.indexOf(i[0])>-1)&&r}))},t=n.b([a.i(i.Y)({name:"mySidebarMenuFilter",pure:!1})],t)})()},468:function(t,e,a){"use strict";var n=a(52),i=a(12),r=a(35),o=a(19);a.d(e,"a",(function(){return l}));var l=[n.a,i.a,r.a,o.a]},469:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var n="\n    .colorpicker {\n        background: url(assets/img/colorpicker/colorpicker_background.png) !important;\n    }\n    .colorpicker_color div {\n        background: url(assets/img/colorpicker/colorpicker_overlay.png) !important;\n    }\n    .colorpicker_color div div {\n        background: url(assets/img/colorpicker/colorpicker_select.gif) !important;\n    }\n    .colorpicker_hue div {\n        background: url(assets/img/colorpicker/colorpicker_indic.gif) left top !important;\n    }\n    .colorpicker_hue {\n        background-image: url(assets/img/colorpicker/hue_bar.jpg) !important;\n    }\n    .colorpicker_hex {\n        background: url(assets/img/colorpicker/colorpicker_hex.png) top !important;\n    }\n    .colorpicker_rgb_r {\n        background-image: url(assets/img/colorpicker/colorpicker_rgb_r.png) !important;\n    }\n    .colorpicker_rgb_g {\n        background-image: url(assets/img/colorpicker/colorpicker_rgb_g.png) !important;\n    }\n    .colorpicker_rgb_b {\n        background-image: url(assets/img/colorpicker/colorpicker_rgb_b.png) !important;\n    }\n    .colorpicker_hsb_h {\n        background-image: url(assets/img/colorpicker/colorpicker_hsb_h.png) !important;\n    }\n    .colorpicker_hsb_s {\n        background-image: url(assets/img/colorpicker/colorpicker_hsb_s.png) !important;\n    }\n    .colorpicker_hsb_b {\n        background-image: url(assets/img/colorpicker/colorpicker_hsb_b.png) !important;\n    }\n    .colorpicker_submit {\n        background: url(assets/img/colorpicker/colorpicker_submit.png) top !important;\n    }\n"},470:function(t,e,a){"use strict";function n(){return a.i(i.a)().bootstrapModule(l.a).then(r.a).catch((function(t){return console.error(t)}))}Object.defineProperty(e,"__esModule",{value:!0});var i=a(398),r=a(166),o=a(167),l=(a.n(o),a(399));e.main=n,a.i(o.bootloader)(n)},52:function(t,e,a){"use strict";var n=a(4),i=a(74),r=(a.n(i),a(2)),o=a(0),l=(a.n(o),a(43)),s=a(9),c=a(19),d=a(16),p=a(12);a.d(e,"a",(function(){return m}));var m=(function(){function t(t,e,a){this._storage=t,this._reqSvc=e,this._cmn=a,this._authSrc=new i.BehaviorSubject({username:"",fullname:"",userLevel:[],isLoggedIn:!1}),this.authInfo=this._authSrc.asObservable(),this.mockUser={username:"developers@cms.com",firstname:"QUO",lastname:"Developers",password:"1234",token:"abcdef",allowedRoles:["STRUCTURE","CONTENT","USER"],ttl:86400}}return t.prototype.login=function(t,e,a){var n=this;return o.Observable.create((function(a){var i={};i={email:t,password:e},n._reqSvc.doRequest(d.a.url.user.login,{postData:i,contentType:s.a.FORM,secure:!1,crossDomain:!0}).subscribe((function(t){var e=t.data||t;if(e.hasOwnProperty("token")){n._storage.set(s.b.storageToken,e.token),n._storage.set(s.b.storageUsername,e.email),n._storage.set(s.b.storageUserFullname,e.fullname);var i=[],r={};e.role&&(e.role.is_developer&&(i.push("DEVELOPER"),r.currentUserLevel=s.c.DEVELOPER),e.role.allow_structure&&i.push("STRUCTURE"),e.role.allow_content&&i.push("CONTENT"),e.role.allow_user&&(i.push("USER"),e.role.is_developer||(r.currentUserLevel=s.c.ADMINISTRATOR))),r.currentUserLevel||(r.currentUserLevel=s.c.EDITORIAL),r.userLevel=i,i.indexOf("STRUCTURE")>-1?r.workMode=s.d.STRUCTURE:r.workMode=s.d.CONTENT,r.translatedTextLimit=e.translated_text_limit||1/0,n._cmn.setInfo(r),a.next({result:!0,message:"",data:{fullname:e.fullname}}),a.complete()}else a.next("user.login.invalid_login")}),(function(t){n.clearAuthInfo(),a.next({result:!1,message:t.message,data:null}),a.complete()}))}))},t.prototype.isLoggedIn=function(){var t=this;return o.Observable.create((function(e){t._cmn.getCurrentInfo().configLoaded?t.checkLoginStatus().subscribe((function(t){e.next(t),e.complete()}),(function(t){e.next(t),e.complete()})):t._cmn.loadConfig().subscribe((function(a){a?(t._cmn.setAppInfo(a),t.checkLoginStatus().subscribe((function(t){e.next(t),e.complete()}),(function(t){e.next(!1),e.complete()}))):(e.next(!1),e.complete())}),(function(t){e.next(!1),e.complete()}))}))},t.prototype.logout=function(){var t=this;return o.Observable.create((function(e){var a={};a.email=t._storage.get(s.b.storageUsername),t._reqSvc.doRequest(d.a.url.user.logout,{postData:a,contentType:s.a.FORM}).subscribe((function(a){a.result?(t.clearAuthInfo(),e.next({result:!0,message:"",data:null})):e.next({result:!1,message:"message.logout_failed",data:null}),e.complete()}),(function(t){e.next({result:!1,message:"message.logout_failed",data:null}),e.complete()}))}))},t.prototype.clearAuthInfo=function(){this._storage.remove(s.b.storageToken),this._storage.remove(s.b.storageUsername),this._storage.remove(s.b.storageUserFullname),this._cmn.setInfo({username:"",fullname:"",userLevel:[],isLoggedIn:!1})},t.prototype.checkLoginStatus=function(){var t=this;return o.Observable.create((function(e){var a={};a.email=t._storage.get(s.b.storageUsername),t._reqSvc.doRequest(d.a.url.user.authCheck,{postData:a,contentType:s.a.FORM}).subscribe((function(a){if(a.data){var n=[],i={};if(a.data.role&&(a.data.role.is_developer&&(n.push("DEVELOPER"),i.currentUserLevel=s.c.DEVELOPER),a.data.role.allow_structure&&n.push("STRUCTURE"),a.data.role.allow_content&&n.push("CONTENT"),a.data.role.allow_user&&(n.push("USER"),a.data.role.is_developer||(i.currentUserLevel=s.c.ADMINISTRATOR))),i.currentUserLevel||(i.currentUserLevel=s.c.EDITORIAL),t._storage.set(s.b.storageUsername,a.data.email),t._storage.set(s.b.storageUserFullname,a.data.fullname),i.userLevel=n,i.username=a.data.email,i.fullname=a.data.fullname,a.data.all_roles){var r=a.data.all_roles.map((function(t){return{id:t.id,name:t.name}}));i.roleList=r}if(a.data.all_sites){var o=[];a.data.all_sites.length>0&&(o=a.data.all_sites.map((function(t){return{id:t.id,domain_name:t.domain_name,description:t.description}}))),i.siteList=o}t._cmn.setInfo(i),e.next(!0)}else t.clearAuthInfo(),e.next(!1);e.complete()}),(function(a){t.clearAuthInfo(),e.next(!1),e.complete()}))}))},t=n.b([a.i(r.c)(),n.c("design:paramtypes",[l.a,c.a,p.a])],t)})()},656:function(t,e,a){function n(t){return a(i(t))}function i(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./af":230,"./af.js":230,"./ar":237,"./ar-dz":231,"./ar-dz.js":231,"./ar-kw":232,"./ar-kw.js":232,"./ar-ly":233,"./ar-ly.js":233,"./ar-ma":234,"./ar-ma.js":234,"./ar-sa":235,"./ar-sa.js":235,"./ar-tn":236,"./ar-tn.js":236,"./ar.js":237,"./az":238,"./az.js":238,"./be":239,"./be.js":239,"./bg":240,"./bg.js":240,"./bm":241,"./bm.js":241,"./bn":242,"./bn.js":242,"./bo":243,"./bo.js":243,"./br":244,"./br.js":244,"./bs":245,"./bs.js":245,"./ca":246,"./ca.js":246,"./cs":247,"./cs.js":247,"./cv":248,"./cv.js":248,"./cy":249,"./cy.js":249,"./da":250,"./da.js":250,"./de":253,"./de-at":251,"./de-at.js":251,"./de-ch":252,"./de-ch.js":252,"./de.js":253,"./dv":254,"./dv.js":254,"./el":255,"./el.js":255,"./en-au":256,"./en-au.js":256,"./en-ca":257,"./en-ca.js":257,"./en-gb":258,"./en-gb.js":258,"./en-ie":259,"./en-ie.js":259,"./en-il":260,"./en-il.js":260,"./en-nz":261,"./en-nz.js":261,"./eo":262,"./eo.js":262,"./es":265,"./es-do":263,"./es-do.js":263,"./es-us":264,"./es-us.js":264,"./es.js":265,"./et":266,"./et.js":266,"./eu":267,"./eu.js":267,"./fa":268,"./fa.js":268,"./fi":269,"./fi.js":269,"./fo":270,"./fo.js":270,"./fr":273,"./fr-ca":271,"./fr-ca.js":271,"./fr-ch":272,"./fr-ch.js":272,"./fr.js":273,"./fy":274,"./fy.js":274,"./gd":275,"./gd.js":275,"./gl":276,"./gl.js":276,"./gom-latn":277,"./gom-latn.js":277,"./gu":278,"./gu.js":278,"./he":279,"./he.js":279,"./hi":280,"./hi.js":280,"./hr":281,"./hr.js":281,"./hu":282,"./hu.js":282,"./hy-am":283,"./hy-am.js":283,"./id":284,"./id.js":284,"./is":285,"./is.js":285,"./it":286,"./it.js":286,"./ja":287,"./ja.js":287,"./jv":288,"./jv.js":288,"./ka":289,"./ka.js":289,"./kk":290,"./kk.js":290,"./km":291,"./km.js":291,"./kn":292,"./kn.js":292,"./ko":293,"./ko.js":293,"./ky":294,"./ky.js":294,"./lb":295,"./lb.js":295,"./lo":296,"./lo.js":296,"./lt":297,"./lt.js":297,"./lv":298,"./lv.js":298,"./me":299,"./me.js":299,"./mi":300,"./mi.js":300,"./mk":301,"./mk.js":301,"./ml":302,"./ml.js":302,"./mn":303,"./mn.js":303,"./mr":304,"./mr.js":304,"./ms":306,"./ms-my":305,"./ms-my.js":305,"./ms.js":306,"./mt":307,"./mt.js":307,"./my":308,"./my.js":308,"./nb":309,"./nb.js":309,"./ne":310,"./ne.js":310,"./nl":312,"./nl-be":311,"./nl-be.js":311,"./nl.js":312,"./nn":313,"./nn.js":313,"./pa-in":314,"./pa-in.js":314,"./pl":315,"./pl.js":315,"./pt":317,"./pt-br":316,"./pt-br.js":316,"./pt.js":317,"./ro":318,"./ro.js":318,"./ru":319,"./ru.js":319,"./sd":320,"./sd.js":320,"./se":321,"./se.js":321,"./si":322,"./si.js":322,"./sk":323,"./sk.js":323,"./sl":324,"./sl.js":324,"./sq":325,"./sq.js":325,"./sr":327,"./sr-cyrl":326,"./sr-cyrl.js":326,"./sr.js":327,"./ss":328,"./ss.js":328,"./sv":329,"./sv.js":329,"./sw":330,"./sw.js":330,"./ta":331,"./ta.js":331,"./te":332,"./te.js":332,"./tet":333,"./tet.js":333,"./tg":334,"./tg.js":334,"./th":335,"./th.js":335,"./tl-ph":336,"./tl-ph.js":336,"./tlh":337,"./tlh.js":337,"./tr":338,"./tr.js":338,"./tzl":339,"./tzl.js":339,"./tzm":341,"./tzm-latn":340,"./tzm-latn.js":340,"./tzm.js":341,"./ug-cn":342,"./ug-cn.js":342,"./uk":343,"./uk.js":343,"./ur":344,"./ur.js":344,"./uz":346,"./uz-latn":345,"./uz-latn.js":345,"./uz.js":346,"./vi":347,"./vi.js":347,"./x-pseudo":348,"./x-pseudo.js":348,"./yo":349,"./yo.js":349,"./zh-cn":350,"./zh-cn.js":350,"./zh-hk":351,"./zh-hk.js":351,"./zh-tw":352,"./zh-tw.js":352};n.keys=function(){return Object.keys(r)},n.resolve=i,t.exports=n,n.id=656},657:function(t,e){t.exports='<header cmp-header *ngIf="_isLoggedIn"></header>\r\n<nav cmp-sidenav class="sidenav" *ngIf="_isLoggedIn"></nav>\r\n<div class="sidenav-overlay" *ngIf="_isLoggedIn" (click)="closeSidebar()"></div>\r\n\r\n<div class="app-top-bar" *ngIf="_isLoggedIn">\r\n    <h1 class="page-title" *ngIf="_currentTitle">\r\n        {{ _currentTitle | translate: _titleTranslateParam }}\r\n    </h1>\r\n    <span class="top-bar-button-wrapper float-right" *ngIf="_currentTitle && _topbarButtonList.length > 0">\r\n        <button type="button" *ngFor="let btn of _topbarButtonList" class="btn {{ btn.btnClass }}" (click)="topbarButtonHandler($event, btn)" ripple [disabled]="btn.disabled">\r\n            <i *ngIf="btn.btnIcon" class="material-icons">{{ btn.btnIcon }}</i>\r\n            <span>{{ btn.btnText | translate }}</span>\r\n        </button>\r\n    </span>\r\n    <div class="app-nav-wrapper" *ngIf="_appNavList.length > 1">\r\n        <ol class="breadcrumb">\r\n            <li class="breadcrumb-item" *ngFor="let link of _appNavList" [ngClass]="{ \'active\': link.active, \'link-nav\': !link.active }">\r\n                <a href="#" [routerLink]="[link.nav_link]" *ngIf="!link.active" [innerHTML]="link.nav_text | translate: (link.translateParam || {})"></a>\r\n                <span *ngIf="link.active" [innerHTML]="link.nav_text | translate: (link.translateParam || {})"></span>\r\n            </li>\r\n        </ol>\r\n    </div>\r\n</div>\r\n\r\n<main class="router-wrapper" [ngClass]="{\r\n    \'page-wrapper grayed\': _isLoggedIn,\r\n    \'loading-page\': loadingPage,\r\n    \'has-nav after-breadcrumb\': _appNavList.length > 1,\r\n    \'after-top-bar\': _currentTitle,\r\n    \'navigating\': _navigating }">\r\n    <router-outlet></router-outlet>\r\n</main>\r\n\r\n<app-loader></app-loader>\r\n\r\n<div #dialogContainer></div>\r\n<div #snackBarContainer></div>'},658:function(t,e){t.exports='<div class="form-wrapper">\r\n\t<form #modulePropertyForm="ngForm" novalidate id="fmModuleProperty" (keydown.enter)="$event.preventDefault()">\r\n\t\t<input type="hidden" name="id" value="{{ _propertyObj.id }}" />\r\n\t\t<input type="hidden" name="parent_id" value="{{ dialogData.parentId }}" />\r\n\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': itemName.errors && (itemName.dirty || itemName.touched) }">\r\n\t\t\t\t\t<label for="txtItemName" class="required">{{ (dialogData.translation ? dialogData.translation.name : \'form.item.name\') | translate }}</label>\r\n\t\t\t\t\t<input type="text" [(ngModel)]="_propertyObj.name" class="form-control" id="txtItemName" placeholder="{{ (dialogData.translation ? dialogData.translation.name : \'form.item.name\') | translate }}" (blur)="autoGenRelatedValues()"\r\n\t\t\t\t\t\tname="name" #itemName="ngModel" required autofocus minlength="3" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12 col-md-8" *ngIf="!dialogData.noVariableName">\r\n\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': variableName.errors && (variableName.dirty || variableName.touched) }">\r\n\t\t\t\t\t<label for="txtVariableName" class="required">{{ \'common.variable_name\' | translate }}</label>\r\n\t\t\t\t\t<input type="text" [(ngModel)]="_propertyObj.variable_name"\r\n\t\t\t\t\t\tclass="form-control" id="txtVariableName"\r\n\t\t\t\t\t\tplaceholder="{{ \'common.variable_name\' | translate }}"\r\n\t\t\t\t\t\tname="variable_name" #variableName="ngModel" required minlength="3" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Site URL --\x3e\r\n\t\t\t<div class="col-12 col-md-8" *ngIf="dialogData.hasSiteURL">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="txtSiteURL">Site URL</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype="text"\r\n\t\t\t\t\t\t[(ngModel)]="_propertyObj.site_url"\r\n\t\t\t\t\t\tclass="form-control" id="txtSiteURL"\r\n\t\t\t\t\t\tname="site_url" #variableName="ngModel"\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Category --\x3e\r\n\t\t\t<div class="col-12" *ngIf="dialogData.hasCategorySelector">\r\n\t\t\t\t<div class="form-group clearfix">\r\n\t\t\t\t\t<label for="txtCategorySelector">{{ \'form.item.category\' | translate }}</label>\r\n\t\t\t\t\t<span input-loader [size]="\'24px\'" *ngIf="_preparingCategory"></span>\r\n\t\t\t\t\t<div [hidden]="_preparingCategory">\r\n\t\t\t\t\t\t<input #typeaheadElem type="text" class="form-control" id="txtCategorySelector"\r\n\t\t\t\t\t\t\tplaceholder="{{ \'form.item.select_category\' | translate }}" autofocus\r\n\t\t\t\t\t\t\ttypeahead ([dataSource])="categoryList"\r\n\t\t\t\t\t\t\t[itemValue]="\'id\'" [itemText]="\'name\'"\r\n\t\t\t\t\t\t\t[ddlPosition]="\'bottom\'" [allowAddNew]="true"\r\n\t\t\t\t\t\t\t[formatNewItem]="\'UPPERCASE_VAR\'"\r\n\t\t\t\t\t\t\t[showAllOnEmpty]="true"\r\n\t\t\t\t\t\t\t(onItemSelect)="categorySelected($event)" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div tag-container class="mgn-top-med"\r\n\t\t\t\t\t\t[itemList]="_propertyObj.categories"\r\n\t\t\t\t\t\t[itemText]="\'name\'" [itemValue]="\'id\'"\r\n\t\t\t\t\t\t(onItemRemoved)="_propertyObj.categories = $event;"\r\n\t\t\t\t\t\t[hidden]="_propertyObj.categories.length === 0"></div>\r\n\t\t\t\t\t<small class="muted-text">{{ \'message.category_tip\' | translate }}</small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="col-12 col-md-8" *ngIf="dialogData.hasUrl">\r\n\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': _urlErr || (friendlyUrl.errors && (friendlyUrl.dirty || friendlyUrl.touched)) }">\r\n\t\t\t\t\t<label for="txtFriendlyUrl" class="required">{{ \'common.friendly_url\' | translate }}</label>\r\n\t\t\t\t\t<input type="text" id="txtFriendlyUrl" class="form-control" name="friendly_url"\r\n\t\t\t\t\t\t[(ngModel)]="_propertyObj.friendly_url" #friendlyUrl="ngModel" required minlength="3"\r\n\t\t\t\t\t\tplaceholder="{{ \'common.friendly_url\' | translate }}" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Select Site --\x3e\r\n\t\t\t<div class="col-12 col-md-6" *ngIf="dialogData.hasSiteSelection">\r\n\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': ownerSite.errors && (ownerSite.dirty || ownerSite.touched) }">\r\n\t\t\t\t\t<label for="ddlSite" class="required">{{ \'form.item.belong_to_site\' | translate }}</label>\r\n\t\t\t\t\t<select id="ddlSite" class="form-control" name="site" [(ngModel)]="_propertyObj.site_id" required #ownerSite="ngModel">\r\n\t\t\t\t\t\t<option *ngFor="let item of _sitesList" [ngValue]="item.id">{{ item.domain_name }}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Page --\x3e\r\n\t\t\t<div class="col-12" *ngIf="dialogData.hasParentPageSelector">\r\n\t\t\t\t<div class="form-group clearfix">\r\n\t\t\t\t\t<label for="txtParentPageSelector">{{ \'form.item.parent_pages\' | translate }}</label>\r\n\t\t\t\t\t<span input-loader [size]="\'24px\'" *ngIf="_preparingParentPages"></span>\r\n\t\t\t\t\t<div [hidden]="_preparingParentPages">\r\n\t\t\t\t\t\t<input #typeaheadElem type="text" class="form-control" id="txtParentPageSelector"\r\n\t\t\t\t\t\t\tplaceholder="{{ \'form.item.select_parent_page\' | translate }}" autofocus\r\n\t\t\t\t\t\t\ttypeahead ([dataSource])="sitePagesList"\r\n\t\t\t\t\t\t\t[itemValue]="\'id\'" [itemText]="\'name\'"\r\n\t\t\t\t\t\t\t[ddlPosition]="\'bottom\'"\r\n\t\t\t\t\t\t\t[showAllOnEmpty]="true"\r\n\t\t\t\t\t\t\t(onItemSelect)="parentPageSelected($event)" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div tag-container class="mgn-top-med"\r\n\t\t\t\t\t\t[itemList]="_propertyObj.parent_ids"\r\n\t\t\t\t\t\t[itemText]="\'name\'" [itemValue]="\'id\'"\r\n\t\t\t\t\t\t(onItemRemoved)="_propertyObj.parent_ids = $event;"\r\n\t\t\t\t\t\t[hidden]="_propertyObj.parent_ids.length === 0"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Template selection : for page --\x3e\r\n\t\t\t<div class="col-12" *ngIf="dialogData.hasTemplateSelection && !isUpdateMode">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="ddlSite">{{ \'form.item.select_site\' | translate }}</label>\r\n\t\t\t\t\t<select id="ddlSite" class="form-control" name="site" [(ngModel)]="_propertyObj.site_id" (change)="selectedSiteChange()">\r\n\t\t\t\t\t\t<option *ngFor="let item of _sitesList" [ngValue]="item.id">{{ item.domain_name }}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<small class="muted-text">{{ \'form.item.select_site_tip\' | translate }}</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="form-group clearfix">\r\n\t\t\t\t\t<label for="txtTemplate" class="required">{{ \'form.item.select_template\' | translate }}</label>\r\n\t\t\t\t\t<div [hidden]="_templateObj.template_id">\r\n\t\t\t\t\t\t<input #typeaheadElem type="text" class="form-control" id="txtTemplate"\r\n\t\t\t\t\t\t\tplaceholder="{{ \'form.item.select_template_ta\' | translate }}" autofocus\r\n\t\t\t\t\t\t\ttypeahead ([dataSource])="templateList"\r\n\t\t\t\t\t\t\t[itemValue]="\'id\'" [itemText]="\'name\'"\r\n\t\t\t\t\t\t\t[ddlPosition]="\'top\'"\r\n\t\t\t\t\t\t\t[showAllOnEmpty]="true"\r\n\t\t\t\t\t\t\t(onItemSelect)="selectTemplate($event)" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="item-group float-left" [hidden]="!_templateObj.template_id">\r\n\t\t\t\t\t\t<span class="text-block">{{ _templateObj.template_name }}</span>\r\n\t\t\t\t\t\t<span class="icon-block" (click)="removeSelectedTemplate($event)" role="delete">\r\n\t\t\t\t\t\t\t<i class="material-icons">delete</i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\x3c!-- Page permission --\x3e\r\n\t\t\t<div class="col-12" *ngIf="_hasItemPermission">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label>{{ \'form.permissions.label\' | translate }}</label>\r\n\t\t\t\t\t<input #typeaheadElem type="text" class="form-control" id="txtItemPermission"\r\n\t\t\t\t\t\tplaceholder="{{ \'form.permissions.placeholder\' | translate }}" autofocus\r\n\t\t\t\t\t\ttypeahead ([dataSource])="_userList"\r\n\t\t\t\t\t\t[itemValue]="\'id\'" [itemText]="\'email\'"\r\n\t\t\t\t\t\t[ddlPosition]="\'top\'" [allowAddNew]="false"\r\n\t\t\t\t\t\t[showAllOnEmpty]="true"\r\n\t\t\t\t\t\t(onItemSelect)="onAllowedUserSelected($event)" />\r\n\t\t\t\t\t<small class="muted-text">{{ \'form.permissions.tip_1\' | translate }}</small>\r\n\t\t\t\t\t<div tag-container class="mgn-top-med"\r\n\t\t\t\t\t\t[itemList]="_selectedAllowedUsers"\r\n\t\t\t\t\t\t[itemText]="\'email\'" [itemValue]="\'email\'"\r\n\t\t\t\t\t\t(onItemRemoved)="_selectedAllowedUsers = $event;"\r\n\t\t\t\t\t\t[hidden]="_selectedAllowedUsers.length === 0"></div>\r\n\t\t\t\t\t<small class="muted-text" [hidden]="_selectedAllowedUsers.length === 0">{{ \'form.permissions.tip_2\' | translate }}</small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="col-12">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="txaDescription">{{ \'form.property.description\' | translate }}</label>\r\n\t\t\t\t\t<textarea id="txaDescription" text-editor\r\n\t\t\t\t\t\tname="description" #txDesc="ngModel"\r\n\t\t\t\t\t\t[(ngModel)]="_propertyObj.description"\r\n\t\t\t\t\t\t(onEditorKeyup)="_propertyObj.description = $event;"\r\n\t\t\t\t\t\t(onEditorInit)="dialogSizeHandler()"\r\n\t\t\t\t\t\t[manualInit]="true"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12" *ngIf="dialogData.hasRequireOption" [ngClass]="{ \'col-md-4\': _hasVisibility, \'col-md-6\': !_hasVisibility }">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="chkRequired">{{ \'form.item.required\' | translate }}</label>\r\n\t\t\t\t\t<input type="checkbox" id="chkRequired" name="required"\r\n\t\t\t\t\t\tclass="inline-block"\r\n\t\t\t\t\t\tmd-toggle [(ngModel)]="_propertyObj.is_required"\r\n\t\t\t\t\t\t[initModel]="_propertyObj.is_required"\r\n\t\t\t\t\t\t[checkedLabelText]="\'common.required\'"\r\n\t\t\t\t\t\t[uncheckedLabelText]="\'common.not_required\'"\r\n\t\t\t\t\t\t[labelPosition]="\'right\'" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12" *ngIf="!dialogData.hasNoActive" [ngClass]="{ \'col-md-4\': _hasVisibility, \'col-md-6\': !_hasVisibility }">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="chkActive">{{ \'form.property.active_status\' | translate }}</label>\r\n\t\t\t\t\t<input type="checkbox" id="chkActive" name="active"\r\n\t\t\t\t\t\tclass="inline-block"\r\n\t\t\t\t\t\tmd-toggle [(ngModel)]="_propertyObj.is_active"\r\n\t\t\t\t\t\t[initModel]="_propertyObj.is_active"\r\n\t\t\t\t\t\t[checkedLabelText]="\'common.active\'"\r\n\t\t\t\t\t\t[uncheckedLabelText]="\'common.inactive\'"\r\n\t\t\t\t\t\t[labelPosition]="\'right\'" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\x3c!-- Published Date --\x3e\r\n\t\t\t<div class="col-12" *ngIf="dialogData.hasPublishedDate">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="">Published Date</label>\r\n\t\t\t\t\t<div custom-datetimepicker \r\n\t\t\t\t\t[initDatetimeValue]="_propertyObj.published_at"\r\n\t\t\t\t\t[datetimeSettings]=\'{"selectedDateType": "DATE_ONLY"}\'\r\n\t\t\t\t\t(datetimeChanged)="_propertyObj.published_at = $event"\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div> \r\n\t\t\t</div>\r\n            <div class="col-12 col-md-4" *ngIf="_hasVisibility">\r\n                <div class="form-group">\r\n                    <label for="chkVisibility">{{ \'form.property.visible_status\' | translate }}</label>\r\n                    <input type="checkbox" id="chkVisibility" name="visible" class="inline-block" md-toggle [(ngModel)]="_propertyObj.is_visible"\r\n                           [initModel]="_propertyObj.is_visible" [checkedLabelText]="\'common.visible\'" [uncheckedLabelText]="\'common.hidden\'"\r\n                           [labelPosition]="\'right\'" />\r\n                </div>\r\n            </div>\r\n\t\t\t<div class="col-12" *ngIf="dialogData.hasCtrlInheritOption">\r\n\t\t\t\t<div class="form-group clearfix" *ngIf="!_propertyObj.id">\r\n\t\t\t\t\t<label for="txtInheritCtrl">{{ \'form.item.use_control\' | translate }}</label>\r\n\t\t\t\t\t<div [hidden]="_selectedInheritCtrl">\r\n\t\t\t\t\t\t<input #typeaheadElem type="text" class="form-control" id="txtInheritCtrl"\r\n\t\t\t\t\t\t\tplaceholder="{{ \'form.item.select_control\' | translate }}"\r\n\t\t\t\t\t\t\ttypeahead ([dataSource])="componentList"\r\n\t\t\t\t\t\t\t[itemValue]="\'id\'" [itemText]="\'name\'"\r\n\t\t\t\t\t\t\t[ddlPosition]="\'top\'"\r\n\t\t\t\t\t\t\t[showAllOnEmpty]="true"\r\n\t\t\t\t\t\t\t(onItemSelect)="selectInheritControl($event)" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="item-group float-left" [hidden]="!_selectedInheritCtrl">\r\n\t\t\t\t\t\t<span class="text-block">{{ _selectedInheritCtrl }}</span>\r\n\t\t\t\t\t\t<span class="icon-block" (click)="removeSelectedCtrl($event)" role="delete">\r\n\t\t\t\t\t\t\t<i class="material-icons">delete</i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div class="col-12" *ngIf="dialogData.hasGlobalItemSelector">\r\n                <div class="form-group clearfix">\r\n                    <label for="textGlobalItemCtrl">{{ \'form.item.use_global_item\' | translate }}</label>\r\n                    <div [hidden]="_globalItemObj.global_item_id">\r\n                        <input #typeaheadElem type="text" class="form-control" id="textGlobalItemCtrl"\r\n                               placeholder="{{ \'form.item.select_global_item\' | translate }}"\r\n                               typeahead ([dataSource])="siteGlobalItemsList"\r\n                               [itemValue]="\'id\'" [itemText]="\'name\'"\r\n                               [ddlPosition]="\'top\'"\r\n                               [showAllOnEmpty]="true"\r\n                               (onItemSelect)="selectGlobalItem($event)" />\r\n                    </div>\r\n                    <div class="item-group float-left" [hidden]="!_globalItemObj.global_item_id">\r\n                        <span class="text-block">{{ _globalItemObj.global_item_name }}</span>\r\n                        <span class="icon-block" (click)="removeSelectedGlobalItem($event)" role="delete">\r\n\t\t\t\t\t\t\t<i class="material-icons">delete</i>\r\n\t\t\t\t\t\t</span>\r\n                    </div>\r\n                </div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="button-panel clearfix">\r\n\t\t\t<button type="button" class="btn btn-secondary" ripple (click)="cancelProcess(modulePropertyForm)" [disabled]="_submitting">\r\n\t\t\t\t<i class="material-icons">clear</i><span>{{ \'common.cancel\' | translate }}</span>\r\n\t\t\t</button>\r\n\r\n\t\t\t<button type="submit" class="btn btn-primary" ripple [disabled]="!modulePropertyForm.form.valid || _submitting || (dialogData.hasTemplateSelection && !_templateObj.template_id)" (click)="onSubmit()">\r\n\t\t\t\t<i class="material-icons">save</i><span>{{ \'common.save\' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</form>\r\n\r\n\t<div class="form-busy-layer" [ngClass]="{ \'working\': _submitting }" >\r\n\t\t<span input-loader [size]="\'32px\'" [fixToTop]="true"></span>\r\n\t</div>\r\n</div>\r\n\r\n'},659:function(t,e){t.exports='<div class="form-wrapper">\r\n\t<form #propertyForm="ngForm" novalidate (keydown.enter)="$event.preventDefault()">\r\n\t\t<input type="hidden" name="property_id" value="" value="{{ dialogData.propertyId }}" />\r\n\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': propertyName.errors && (propertyName.dirty || propertyName.touched) }">\r\n\t\t\t\t\t<label for="txtPropertyName" class="required">{{ \'form.property.name\' | translate }}</label>\r\n\t\t\t\t\t<input type="text" [(ngModel)]="_propertyObj.name" class="form-control" id="txtPropertyName" placeholder="{{ \'form.property.name\' | translate }}"\r\n\t\t\t\t\t name="name" #propertyName="ngModel" required autofocus minlength="3" (blur)="generateVariableName()" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': variableName.errors && (variableName.dirty || variableName.touched) }">\r\n\t\t\t\t\t<label for="txtVariableName" class="required">{{ \'common.variable_name\' | translate }}</label>\r\n\t\t\t\t\t<input type="text" [(ngModel)]="_propertyObj.variable_name" class="form-control" id="txtVariableName" placeholder="{{ \'common.variable_name\' | translate }}"\r\n\t\t\t\t\t name="variable_name" #variableName="ngModel" required minlength="3" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12" [ngClass]="{ \'col-md-8\': [\'TEXTBOX\', \'MULTILINE_TEXT\', \'RICHTEXT_EDITOR\', \'FILE_UPLOAD\', \'DATETIME\', \'CONTROL_LIST\', \'MAP_COORDINATE\'].indexOf(_propertyElemObj.type) < 0 }">\r\n\t\t\t\t<div class="form-group" *ngIf="!_propertyElemObj.type">\r\n\t\t\t\t\t<label>{{ \'property_type.no_element_selected\' | translate }}</label>\r\n\t\t\t\t\t<button type="button" class="btn btn-secondary" ripple (click)="openElementSelector()">\r\n\t\t\t\t\t\t<i class="material-icons">create</i>\r\n\t\t\t\t\t\t<span>{{ \'property_type.select_element_btn\' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div *ngIf="_propertyElemObj.type">\r\n\t\t\t\t\t\x3c!-- Textbox --\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" [hidden]="_propertyElemObj.type !== elementKey.TEXTBOX">\r\n\t\t\t\t\t\t<label>{{ \'form.property.value\' | translate }}</label>\r\n\t\t\t\t\t\t<div #textboxElement text-prop\r\n\t\t\t\t\t\t\t[initValue]="_propElemValue.textbox.value"\r\n\t\t\t\t\t\t\t[propSetting]="_propElemValue.textbox.settings"\r\n\t\t\t\t\t\t\t(onValueChanged)="textValueHandler($event)"></div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Datetime --\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" [hidden]="_propertyElemObj.type !== elementKey.DATETIME">\r\n\t\t\t\t\t\t<label>{{ \'form.property.value\' | translate }}</label>\r\n\t\t\t\t\t\t<div custom-datetimepicker #datetimePicker [elemAttrs]="{ id: \'txtPropDateValue\', name: \'txtPropDateValue\' }" [initDatetimeValue]="_propertyObj.option_value"\r\n\t\t\t\t\t\t [datetimeSettings]="_propElemValue.datetime.settings" (datetimeChanged)="_propertyObj.option_value = $event || \'\'" (datetimeSelected)="_propertyObj.option_value = $event"></div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Checkbox --\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" *ngIf="_propertyElemObj.type === elementKey.CHECKBOX">\r\n\t\t\t\t\t\t<label>{{ \'form.property.value\' | translate }}</label>\r\n\t\t\t\t\t\t<input type="checkbox" id="propElemCheckbox" name="propElemCheckbox" class="inline-block" md-toggle [(ngModel)]="_propElemValue.checkbox.value"\r\n\t\t\t\t\t\t [initModel]="_propElemValue.checkbox.value" [checkedLabelText]="_propElemValue.checkbox.settings.checkedText" [uncheckedLabelText]="_propElemValue.checkbox.settings.uncheckedText"\r\n\t\t\t\t\t\t [labelPosition]="\'right\'" />\r\n\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Radio --\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" *ngIf="_propertyElemObj.type === elementKey.RADIO_LIST">\r\n\t\t\t\t\t\t<label>{{ \'form.property.value\' | translate }}</label>\r\n\t\t\t\t\t\t<div class="mgn-top-sm" *ngIf="_propElemValue.radio.settings.length > 0">\r\n\t\t\t\t\t\t\t<div *ngFor="let rdo of _propElemValue.radio.settings; let idx = index">\r\n\t\t\t\t\t\t\t\t<input type="radio" name="prop_elem_items" [(ngModel)]="_propElemValue.radio.value" [id]="\'rdoPropElem_\' + idx" [value]="rdo.value"\r\n\t\t\t\t\t\t\t\t md-switch [labelText]="rdo.label" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Dropdown --\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" *ngIf="_propertyElemObj.type === elementKey.DROPDOWN">\r\n\t\t\t\t\t\t<label>{{ \'property_type.placeholder_dropdown\' | translate }}</label>\r\n\t\t\t\t\t\t<select class="form-control" name="propElemDropdown" [(ngModel)]="_propElemValue.dropdown.value" *ngIf="_propElemValue.dropdown.settings.length > 0">\r\n\t\t\t\t\t\t\t<option *ngFor="let item of _propElemValue.dropdown.settings" [ngValue]="item.value">\r\n\t\t\t\t\t\t\t\t{{ item.text }}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Multiline Text --\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" [hidden]="_propertyElemObj.type !== elementKey.MULTILINE_TEXT">\r\n\t\t\t\t\t\t<label>{{ \'form.property.value\' | translate }}</label>\r\n\t\t\t\t\t\t<textarea class="form-control" name="propElemMultilineText" [rows]="_propElemValue.multilineText.settings && _propElemValue.multilineText.settings.scriptFormat ? 10 : 4"\r\n\t\t\t\t\t\t placeholder="{{ \'property_type.multiline_desc\' | translate }}" [ngClass]="{ \'scripts-style\': _propElemValue.multilineText.settings && _propElemValue.multilineText.settings.scriptFormat }"\r\n\t\t\t\t\t\t [(ngModel)]="_propElemValue.multilineText.value"\r\n\t\t\t\t\t\t [attr.maxlength]="_propElemValue.multilineText.settings ? (_propElemValue.multilineText.settings.maxLength || \'\') : \'\'"\r\n\t\t\t\t\t\t ></textarea>\r\n\t\t\t\t\t\t <small class="text-muted" *ngIf="_propElemValue.multilineText.settings && _propElemValue.multilineText.settings.maxLength">{{ \'element.multiline_text.maxlength_cap\' | translate: { maxlength: _propElemValue.multilineText.settings.maxLength } }}</small>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Richtext --\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" [hidden]="_propertyElemObj.type !== elementKey.RICHTEXT_EDITOR">\r\n\t\t\t\t\t\t<label>{{ \'form.property.value\' | translate }}</label>\r\n\t\t\t\t\t\t<textarea id="txaPropElemEditor" text-editor\r\n\t\t\t\t\t\t\t[customOptions]="propElemRichtextOptions"\r\n\t\t\t\t\t\t\t[initMaxLength]="_propElemValue.richText.settings"\r\n\t\t\t\t\t\t\t(onEditorKeyup)="_propElemValue.richText.value = $event;"\r\n\t\t\t\t\t\t \t(onEditorInit)="dialogSizeHandler()"></textarea>\r\n\t\t\t\t\t\t<small class="text-muted" *ngIf="_propElemValue.richText.settings && _propElemValue.richText.settings.maxLength">{{ \'element.richtext.maxlength_cap\' | translate: { maxlength: _propElemValue.richText.settings.maxLength } }}</small>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Fileupload --\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" [hidden]="_propertyElemObj.type !== elementKey.FILE_UPLOAD">\r\n\t\t\t\t\t\t<label>{{ \'form.property.value\' | translate }}</label>\r\n\r\n\t\t\t\t\t\t\x3c!-- Image File Preview --\x3e\r\n\t\t\t\t\t\t<div class="image-item-preview mgn-bottom-sm" *ngIf="fileObject && fileObject.type === \'image\' && !fileObject.changed && fileObject.info" [ngClass]="{ \'changing\': fileObject.changing }">\r\n\t\t\t\t\t\t\t<div class="image-panel" *ngIf="!fileObject.info.notFound">\r\n\t\t\t\t\t\t\t\t<span><img [src]="fileObject.info.src" /></span>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<label>{{ \'image.size_info\' | translate }}</label>\r\n\t\t\t\t\t\t\t\t\t<h4>{{ fileObject.info.width + \' x \' + fileObject.info.height }}</h4>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="image-block-busy" [hidden]="!fileObject.changing">\r\n\t\t\t\t\t\t\t\t<span input-loader [size]="\'32px\'"></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<broken-image *ngIf="fileObject.info.notFound"></broken-image>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\x3c!-- Other File --\x3e\r\n\t\t\t\t\t\t<div class="file-item-preview" *ngIf="fileObject.type && fileObject.type !== \'image\'">\r\n\t\t\t\t\t\t\t<i class="material-icons" *ngIf="fileObject.type === \'video\'">movie</i>\r\n\t\t\t\t\t\t\t<i class="material-icons" *ngIf="fileObject.type === \'file\'">insert_drive_file</i>\r\n\t\t\t\t\t\t\t<span class="filename">{{ _propertyObj.option_value }}</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button type="button" class="btn" (click)="selectAndUpload($event)">\r\n\t\t\t\t\t\t\t<i class="material-icons">file_upload</i>\r\n\t\t\t\t\t\t\t<span>{{ \'button.browse_and_select\' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button type="button" class="btn btn-danger"\r\n\t\t\t\t\t\t\t*ngIf="_propertyObj.option_value"\r\n\t\t\t\t\t\t\t(click)="removeFile($event)">\r\n\t\t\t\t\t\t\t<i class="material-icons">delete</i>\r\n\t\t\t\t\t\t\t<span>{{ \'element.file_upload.remove_file\' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<div #imageSizeInfo image-size-info [imageObjectOption]="_propElemValue.fileUpload.settings"></div>\r\n\r\n\t\t\t\t\t\t<div class="file-upload-changed-label" *ngIf="fileObject.changed">\r\n\t\t\t\t\t\t\t<i class="material-icons">info_outline</i> {{ \'message.file_value_changed\' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Control List --\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" [hidden]="_propertyElemObj.type !== elementKey.CONTROL_LIST">\r\n\t\t\t\t\t\t<label>{{ \'form.item.manage_control_list_desc\' | translate }}</label>\r\n\t\t\t\t\t\t<button type="button" class="btn btn-info" ripple (click)="manageControlList($event)">\r\n\t\t\t\t\t\t\t<i class="material-icons">format_list_bulleted</i>\r\n\t\t\t\t\t\t\t<span>{{ \'form.item.manage_control_list\' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<small [hidden]="controlListCount === 0" class="padd-left-med">{{ \'form.item.control_item_count\' | translate: { itemNumber: controlListCount } }}</small>\r\n\t\t\t\t\t\t<small class="block muted-text mgn-top-med">\r\n\t\t\t\t\t\t\t<i class="material-icons middle-icon">info_outline</i> {{ \'form.item.control_list_tip\' | translate }}\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Map Coordinate--\x3e\r\n\t\t\t\t\t<div class="form-group no-mgn-bottom" *ngIf="_propertyElemObj.type === elementKey.MAP_COORDINATE">\r\n\t\t\t\t\t\t<label>{{ \'form.property.select_coord\' | translate }}</label>\r\n\t\t\t\t\t\t<map-coordinate-selector\r\n\t\t\t\t\t\t\t[initValue]="_propertyObj.option_value"\r\n\t\t\t\t\t\t\t(onCoordChanged)="_propertyObj.option_value = $event;"\r\n\t\t\t\t\t\t\t></map-coordinate-selector>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class="clearfix"></div>\r\n\t\t\t\t\t<span class="link-item small-text mgn-top-sm mgn-bottom-med" (click)="selectAnotherElement($event)">{{ \'form.property.choose_another_element\' | translate }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12">\r\n\t\t\t\t<div class="form-group mgn-top-xmed">\r\n\t\t\t\t\t<label for="txaDescription">{{ \'form.property.description\' | translate }}</label>\r\n\t\t\t\t\t<textarea id="txaDescription" text-editor (onEditorKeyup)="_propertyObj.description = $event;" (onEditorInit)="dialogSizeHandler()"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="col-12" [ngClass]="{ \'col-md-4\': _hasVisibility, \'col-md-6\': !_hasVisibility }">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="chkActive">{{ \'form.property.active_status\' | translate }}</label>\r\n\t\t\t\t\t<input type="checkbox" id="chkActive" name="active" class="inline-block" md-toggle [(ngModel)]="_propertyObj.is_active" [initModel]="_propertyObj.is_active"\r\n\t\t\t\t\t [checkedLabelText]="\'common.active\'" [uncheckedLabelText]="\'common.inactive\'" [labelPosition]="\'right\'" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n            <div class="col-12" [ngClass]="{ \'col-md-4\': _hasVisibility, \'col-md-6\': !_hasVisibility }">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="chkRequire">{{ \'form.item.required\' | translate }}</label>\r\n\t\t\t\t\t<input type="checkbox" id="chkRequire" name="required" class="inline-block" md-toggle [(ngModel)]="_propertyObj.is_required"\r\n\t\t\t\t\t [initModel]="_propertyObj.is_required" [checkedLabelText]="\'common.required\'" [uncheckedLabelText]="\'common.not_required\'"\r\n\t\t\t\t\t [labelPosition]="\'right\'" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n            <div class="col-12 col-md-4" *ngIf="_hasVisibility">\r\n                <div class="form-group">\r\n                    <label for="chkVisibility">{{ \'form.property.visible_status\' | translate }}</label>\r\n                    <input type="checkbox" id="chkVisibility" name="visible" class="inline-block" md-toggle [(ngModel)]="_propertyObj.is_visible"\r\n                           [initModel]="_propertyObj.is_visible" [checkedLabelText]="\'common.visible\'" [uncheckedLabelText]="\'common.hidden\'"\r\n                           [labelPosition]="\'right\'" />\r\n                </div>\r\n            </div>\r\n\t\t</div>\r\n\r\n\t\t<div class="button-panel clearfix">\r\n\t\t\t<button type="button" class="btn btn-secondary" ripple (click)="cancelProcess(propertyForm)" [disabled]="_submitting">\r\n\t\t\t\t<i class="material-icons">clear</i><span>{{ \'common.cancel\' | translate }}</span>\r\n\t\t\t</button>\r\n\r\n\t\t\t<button type="submit" class="btn btn-primary" ripple (click)="onSubmit($event)"\r\n\t\t\t\t[disabled]="!propertyForm.form.valid || !_propertyElemObj.type || _submitting">\r\n\t\t\t\t<i class="material-icons">save</i><span>{{ \'common.save\' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</form>\r\n\r\n\t<div class="form-busy-layer" [ngClass]="{ \'working\': _submitting }">\r\n\t\t<span input-loader [size]="\'32px\'" [loadingText]="\'message.saving_text\' | translate" [fixToTop]="true"></span>\r\n\t</div>\r\n</div>\r\n'},660:function(t,e){t.exports='<div class="sidenav-lang-list edit-mode">\r\n\t<ul>\r\n\t\t<li *ngIf="_showDefaultValue">\r\n\t\t\t<a class="lang-item" no-context [ngClass]="{ \'active\': !currentLang }" (click)="changeContentLanguage(\'\')" bs-plugin [pluginList]="\'tooltip\'"\r\n\t\t\t [attr.title]="\'misc.default_value\' | translate">\r\n\t\t\t<i class="material-icons">insert_drive_file</i>\r\n\t\t</a>\r\n\t\t</li>\r\n\t\t<li *ngFor="let lang of siteLanguages; let idx = index;">\r\n\t\t\t<a class="lang-item" no-context [ngClass]="{ \'active\': lang.code === currentLang }" (click)="changeContentLanguage(lang)"\r\n\t\t\t bs-plugin [pluginList]="\'tooltip\'" [attr.title]="lang.name">\r\n\t\t\t<img [src]="lang.code | myLangFlagFilter" [alt]="lang.code" />\r\n\t\t</a>\r\n\t\t</li>\r\n\t</ul>\r\n</div>\r\n<div class="inner-scroll-area" [ngClass]="{ \'ready\': editModeReady }">\r\n\t<div class="inner-wrapper">\r\n\t\t<small class="block mgn-bottom-sml text-muted">{{ \'message.translation_tip\' | translate }}</small>\r\n\t\t<div class="row" *ngFor="let item of _valueObject | myOrderBy : [\'name\']; let idx = index; let isLast = last" for-end [isLast]="isLast" (onForEnd)="initCustomDirectives($event)">\r\n\r\n\t\t\t\x3c!-- Dropdownlist --\x3e\r\n\t\t\t<div class="col-12 col-md-8 col-lg-5" *ngIf="item.element_type === \'DROPDOWN\' && item.element_value">\r\n\t\t\t\t<div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n\t\t\t\t\t<label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\t\t\t\t\t<div class="mgn-top-sm" cmp-dropdown\r\n\t\t\t\t\t\t[dropdownSettings]="item.element_value"\r\n\t\t\t\t\t\t[valueModel]="item.display_value"\r\n\t\t\t\t\t\t[ddlName]="\'ddl_item_\' + idx"\r\n\t\t\t\t\t\t(onChange)="item.display_value = $event;"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Radiobutton --\x3e\r\n\t\t\t<div class="col-12 col-lg-10" *ngIf="item.element_type === \'RADIO_LIST\' && item.element_value">\r\n\t\t\t\t<div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n\t\t\t\t\t<label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\t\t\t\t\t<div class="mgn-top-med" cmp-radio-group\r\n\t\t\t\t\t\t[radioGroupSettings]="item.element_value"\r\n\t\t\t\t\t\t[valueModel]="item.display_value"\r\n\t\t\t\t\t\t[rdoName]="\'rdo_group_\' + idx"\r\n\t\t\t\t\t\t(onChange)="item.display_value = $event;"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Checkbox --\x3e\r\n\t\t\t<div class="col-12 col-lg-10" *ngIf="item.element_type === \'CHECKBOX\'">\r\n\t\t\t\t<div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n\t\t\t\t\t<label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\t\t\t\t\t<input type="checkbox" [id]="\'chkbox_elem_\' + idx" name="\'chkbox_elem_\' + idx" class="inline-block"\r\n\t\t\t\t\t\tmd-toggle\r\n\t\t\t\t\t\t[(ngModel)]="item.display_value"\r\n\t\t\t\t\t \t[initModel]="item.display_value"\r\n\t\t\t\t\t\t[checkedLabelText]="item.element_value | myElementSettingFilter: \'checkedText\'"\r\n\t\t\t\t\t\t[uncheckedLabelText]="item.element_value | myElementSettingFilter: \'uncheckedText\'"\r\n\t\t\t\t\t\t[labelPosition]="\'right\'" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Textbox --\x3e\r\n\t\t\t<div class="col-12 col-lg-10" *ngIf="item.element_type === \'TEXTBOX\'">\r\n\t\t\t\t<div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n\t\t\t\t\t<label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\t\t\t\t\t<div text-prop\r\n\t\t\t\t\t\t[attr.data-name]="\'txtbox_elem_\' + idx"\r\n\t\t\t\t\t\t[txtboxName]="\'txtbox_elem_\' + idx"\r\n\t\t\t\t\t\t[cmpIndex]="idx"\r\n\t\t\t\t\t\t[placeholderText]="item.name"\r\n\t\t\t\t\t\t[initValue]="item.display_value"\r\n\t\t\t\t\t\t[propSetting]="item.element_value"\r\n\t\t\t\t\t\t(onValueChanged)="textValueHandler($event, item)">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Multiline Text --\x3e\r\n\t\t\t<div class="col-12 col-lg-10 col-xl-8" *ngIf="item.element_type === \'MULTILINE_TEXT\'">\r\n\t\t\t\t<div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n\t\t\t\t\t<label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\t\t\t\t\t<cmp-textarea\r\n\t\t\t\t\t\t[name]="\'item_detail_val_\' + idx"\r\n\t\t\t\t\t\t[itemModel]="item.display_value"\r\n\t\t\t\t\t\t[rows]="7"\r\n\t\t\t\t\t\t[placeholderText]="item.name"\r\n\t\t\t\t\t\t[itemSettings]="item.element_value"\r\n\t\t\t\t\t\t(onChange)="item.display_value = $event;"></cmp-textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Richtext Editor --\x3e\r\n\t\t\t<div class="col-12" *ngIf="item.element_type === \'RICHTEXT_EDITOR\'">\r\n\t\t\t\t<div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n\t\t\t\t\t<label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t[attr.id]="\'item_detail_txteditor_\' + idx"\r\n\t\t\t\t\t\t[(ngModel)]="item.display_value"\r\n\t\t\t\t\t\ttext-editor\r\n                        [itemSettings]="item.element_value"\r\n\t\t\t\t\t\t[customOptions]="itemElementOption.textEditorOptions"\r\n\t\t\t\t\t\t(onEditorKeyup)="item.display_value = $event;"\r\n\t\t\t\t\t\t[manualInit]="true"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- File Upload --\x3e\r\n\t\t\t<div class="col-12 col-lg-10 col-xl-8" *ngIf="item.element_type === \'FILE_UPLOAD\'">\r\n\t\t\t\t<div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n\t\t\t\t\t<label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\r\n\t\t\t\t\t\x3c!-- Image --\x3e\r\n\t\t\t\t\t<div class="image-item-preview mgn-bottom-sm" *ngIf="item.type === \'image\' && !item.changed && item.info" [ngClass]="{ \'changing\': item.changing }">\r\n\t\t\t\t\t\t<div class="image-panel" *ngIf="!item.info.notFound">\r\n\t\t\t\t\t\t\t<span><img [src]="item.info.src" /></span>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<label>{{ \'image.size_info\' | translate }}</label>\r\n\t\t\t\t\t\t\t<h4>{{ item.info.width + \' x \' + item.info.height }}</h4>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="image-block-busy" [hidden]="!item.changing">\r\n\t\t\t\t\t\t\t<span input-loader [size]="\'32px\'"></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<broken-image *ngIf="item.info.notFound"></broken-image>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\x3c!-- Other File --\x3e\r\n\t\t\t\t\t<div class="file-item-preview" *ngIf="item.display_value && item.type && item.type !== \'image\'">\r\n\t\t\t\t\t\t<i class="material-icons" *ngIf="item.type === \'video\'">movie</i>\r\n\t\t\t\t\t\t<i class="material-icons" *ngIf="item.type === \'file\'">insert_drive_file</i>\r\n\t\t\t\t\t\t<span class="filename">{{ item.display_value }}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type="button" class="btn" (click)="selectAndUpload($event, item)">\r\n\t\t\t\t\t\t<i class="material-icons">file_upload</i>\r\n\t\t\t\t\t\t<span>{{ \'button.browse_and_select\' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type="button" class="btn btn-danger"\r\n\t\t\t\t\t\t*ngIf="item.display_value"\r\n\t\t\t\t\t\t(click)="removeFile($event, item)">\r\n\t\t\t\t\t\t<i class="material-icons">delete</i>\r\n\t\t\t\t\t\t<span>{{ \'element.file_upload.remove_file\' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div image-size-info [imageObjectOption]="item.element_value"></div>\r\n\r\n\t\t\t\t\t<div class="file-upload-changed-label" *ngIf="item.changed">\r\n\t\t\t\t\t\t<i class="material-icons">info_outline</i> {{ \'message.file_value_changed\' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Datetime --\x3e\r\n\t\t\t<div class="col-12 col-md-10 col-lg-8" *ngIf="item.element_type === \'DATETIME\' && item.element_value">\r\n\t\t\t\t<div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n\t\t\t\t\t<label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\t\t\t\t\t<div custom-datetimepicker #datetimePicker\r\n\t\t\t\t\t\t[elemAttrs]="{ id: \'txtPropDateValue_\' + idx, name: \'txtPropDateValue_\' + idx }"\r\n\t\t\t\t\t\t[initDatetimeValue]="item.display_value"\r\n\t\t\t\t\t\t[datetimeSettings]="item.element_value"\r\n\t\t\t\t\t\t[cmpIndex]="idx"\r\n                        (datetimeChanged)="item.display_value = $event || \'\'"\r\n\t\t\t\t\t\t(datetimeSelected)="item.display_value = $event"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Control List --\x3e\r\n\t\t\t<div class="col-12" *ngIf="item.element_type === \'CONTROL_LIST\'">\r\n\t\t\t\t<div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n\t\t\t\t\t<label [ngClass]="{ \'required\': item.is_required }">\r\n\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<button type="button" class="btn btn-info" ripple (click)="manageControlList($event, item, idx)"\r\n\t\t\t\t\t\tbs-plugin\r\n\t\t\t\t\t\t[pluginList]="\'tooltip\'"\r\n\t\t\t\t\t\t[attr.title]="\'element.control_list.ctrl_list_tip\' | translate">\r\n\t\t\t\t\t\t<i class="material-icons">format_list_bulleted</i>\r\n\t\t\t\t\t\t<span>{{ \'form.item.manage_control_list\' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<small [attr.id]="\'ctlListInfo_\' + idx" control-list-info [item]="item" [valueLang]="currentLang"></small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!-- Map Coordinate--\x3e\r\n            <div class="col-12" *ngIf="item.element_type === \'MAP_COORDINATE\'">\r\n                <div class="form-group" [attr.data-var-name]="item.variable_name" [ngClass]="{\'has-danger\': item.has_error}">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\t\t\t\t\t<map-coordinate-selector\r\n                        [initValue]="item.display_value"\r\n\t\t\t\t\t\t[cmpIndex]="idx"\r\n                        (onCoordChanged)="mapCoordChanged($event, item)"\r\n                        ></map-coordinate-selector>\r\n                </div>\r\n            </div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n'},661:function(t,e){t.exports='<div class="row" *ngIf="pageReady">\r\n\t<div class="col-12">\r\n\t\t<h4 class="no-data" [hidden]="valueList.length > 0">{{ \'message.no_ctrl_list_data\' | translate }}</h4>\r\n\t\t<div class="control-list-container">\r\n            <ul class="ctrl-value-list">\r\n                <li class="ctrl-value-item" *ngFor="let valueItem of valueList; let idx = index; let isLast = last" for-end [isLast]="isLast" (onForEnd)="initSortingFeature($event)" [attr.data-item-id]="valueItem.id">\r\n                    <div class="order-no">\r\n                        {{ valueItem.order }}\r\n                    </div>\r\n                    <div class="item-content">\r\n                        <div *ngIf="valueItem.global_item_id" class="item-label using-global">\r\n                            <span class="using-global-icon" *ngIf="valueItem.global_item_id"\r\n                                  bs-plugin [pluginList]="\'tooltip\'" [attr.title]="\'tooltip.using_data_from_global\' | translate"\r\n                                  data-placement="bottom">\r\n                                <i class="material-icons">public</i>\r\n                            </span>\r\n                            <span>{{ \'common.linked_up_with\' | translate }} {{ valueItem.global_item_name }}</span>\r\n                        </div>\r\n                        <div *ngIf="valueItem.represent_item === \'IMAGE\' && !valueItem.global_item_id" class="item-image">\r\n                            <img [src]="valueItem.represent_value | myImageSrcFilter" no-context *ngIf="!valueItem.imageNotFound" />\r\n                            <img broken-image *ngIf="valueItem.imageNotFound" />\r\n                        </div>\r\n                        <div *ngIf="valueItem.represent_item === \'TEXT\' && !valueItem.global_item_id" class="item-label">\r\n                            {{ valueItem.represent_value }}\r\n                        </div>\r\n                        <div *ngIf="valueItem.represent_item === \'MAP\' && !valueItem.global_item_id" class="item-label">\r\n                            <i class="material-icons map-represent-icon">map</i>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="op-block-">\r\n                        <div>\r\n                            <div class="op-btn" (click)="openUsingDataFromGlobalItemDialog(valueItem)" aria-type="config" *ngIf="canUseGlobalItemData">\r\n                                <i class="material-icons">public</i>\r\n                            </div>\r\n                            <div class="op-btn" (click)="openEditorDialog(valueItem)" aria-type="edit">\r\n                                <i class="material-icons">edit</i>\r\n                            </div>\r\n                            <div class="op-btn" (click)="removeItem(idx)" aria-type="delete">\r\n                                <i class="material-icons">delete</i>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <input type="checkbox" class="inline-block" md-toggle \r\n                                [initModel]="valueItem.active"\r\n                                [(ngModel)]="valueItem.active"   \r\n                                [checkedLabelText]="\'common.active\' | translate"\r\n                                [uncheckedLabelText]="\'common.inactive\' | translate" \r\n                                [labelPosition]="\'right\'" \r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<div class="block padd-left-xmed padd-right-xmed" *ngIf="!pageReady">\r\n    <span input-loader [size]="\'32px\'" class="block mgn-center"></span>\r\n</div>\r\n<div class="alert-panel clearfix alert alert-danger" *ngIf="!canAdd">\r\n    <span>{{ \'alert.exceed_translate_text_limit\' | translate: { available: translatedTextAvailableLength, average: translatedTextAverageLength } }}</span>\r\n</div>\r\n<div class="button-panel clearfix">\r\n\t<button type="button" class="btn btn-secondary float-left" ripple (click)="addNewItem()"\r\n        *ngIf="pageReady" [disabled]="!canAdd">\r\n        <i class="material-icons">add</i><span>{{ \'common.add\' | translate }}</span>\r\n    </button>\r\n    <button type="button" class="btn btn-secondary float-left" ripple (click)="addNewItemUsingDataFromGlobalItem()"\r\n            *ngIf="pageReady && canUseGlobalItemData" [disabled]="!canAdd">\r\n        <i class="material-icons">public</i><span>{{ \'common.add_using_data_from_global\' | translate }}</span>\r\n    </button>\r\n\r\n    <button type="button" class="btn btn-secondary" ripple (click)="confirmClose()">\r\n        <i class="material-icons">clear</i><span>{{ \'common.cancel\' | translate }}</span>\r\n    </button>\r\n    <button type="submit" class="btn btn-info" ripple (click)="saveAndClose()" [disabled]="!isDataChanged" *ngIf="!dialogData.noSaveAndClose">\r\n        <i class="material-icons">save</i><span>{{ \'common.save_close\' | translate }}</span>\r\n    </button>\r\n    <button type="submit" class="btn btn-primary" ripple (click)="saveValue()" [disabled]="!isDataChanged">\r\n        <i class="material-icons">save</i><span>{{ \'common.save\' | translate }}</span>\r\n    </button>\r\n</div>'},662:function(t,e){t.exports='<div class="dashboard-wrapper" *ngIf="dashboardItem && dashboardItem.length > 0">\r\n\t<div class="container-fluid">\r\n\t\t<div class="dashboard-list">\r\n\t\t\t<span *ngFor="let item of dashboardItem; let idx = index;" \r\n\t\t\t\tclass="item {{ item | myDashboardSizeFilter }}">\r\n\t\t\t\t<div class="inner-block no-select" cond-style [stylesAttr]="item.styles || {}" no-context>\r\n\t\t\t\t\t<h6 class="dashboard-title">{{ item.title | translate }} {{ item.subTitle }}</h6>\r\n\t\t\t\t\t<span [attr.id]="\'dashboard_item_\' + idx" class="dashboard-number-value" *ngIf="item.type === \'number\'">{{ item.value }}</span>\r\n\t\t\t\t\t<div *ngIf="item.type === \'chart\'"\r\n\t\t\t\t\t\tclass="chart-area {{ item.cssClass }}"\r\n\t\t\t\t\t\tcustom-chart\r\n\t\t\t\t\t\t[chartType]="item.chartType"\r\n\t\t\t\t\t\t[labelKey]="item.labelKey"\r\n\t\t\t\t\t\t[chartSelector]="item.chartSelector"\r\n\t\t\t\t\t\t[chartData]="item.chartData"></div>\t\t\t\r\n\t\t\t\t\t<div class="empty-data" *ngIf="item.type === \'recent_activities\' && item.value.length <= 0">NO DATA</div>\t\r\n\t\t\t\t\t<ul class="recent-activities" *ngIf="item.type === \'recent_activities\' && item.value.length > 0">\r\n\t\t\t\t\t\t<li *ngFor="let activity of item.value">\r\n\t\t\t\t\t\t\t<span class="status-title" *ngIf="activity.link">\r\n\t\t\t\t\t\t\t\t<a (click)="goToActivityItem($event, activity)" href="#" bs-plugin [pluginList]="\'tooltip\'" [translateTitle]="\'dashboard.recent_activity_link\'">\r\n\t\t\t\t\t\t\t\t\t{{ activity.title }}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span class="status-title" *ngIf="!activity.link">{{ activity.title }}</span>\r\n\t\t\t\t\t\t\t<div class="status-description">\r\n\t\t\t\t\t\t\t\t<small>{{ \'dashboard.updated_by\' | translate }}: {{ activity.updated_by }}</small>\r\n\t\t\t\t\t\t\t\t<small>{{ \'dashboard.updated_at\' | translate }}: {{ activity.created_at }}</small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class="component-busy" [hidden]="!isBusy" >\r\n\t<span input-loader [size]="\'32px\'"></span>\r\n</div>\r\n\r\n<div class="no-dashboard-info" *ngIf="!dashboardItem">\r\n\t<i class="material-icons msg-icon">help_outline</i>\r\n\t<span class="message">{{ \'dashboard.no_dashboard_items\' | translate }}</span>\r\n</div>\r\n<div class="no-dashboard-info" *ngIf="dashboardItem && dashboardItem.length === 0">\r\n\t<i class="material-icons msg-icon">access_time</i>\r\n\t<span class="message">{{ \'dashboard.loading_dashboard\' | translate }}</span>\r\n</div>'},663:function(t,e){t.exports='<div class="md-dialog-box" [ngClass]="{\'no-buttons\': _useCustomButton, \'warning-box\': _dialogType === \'WARNING\', \'full-expanded\': dialogExpanded }">\r\n    <div class="md-dialog-title" [ngClass]="{ \'has-close-btn\': !_dialogSettings.noCloseButton }">\r\n        <span *ngIf="_dialogType" class="inline-block valign-text-top">\r\n            <i *ngIf="_dialogType === \'WARNING\'" class="material-icons dlg-type-icon" [ngClass]="{ \'after-maximize\': !_dialogSettings.noMaximize }">warning</i>\r\n        </span>\r\n        <span class="title-text" [ngClass]="{ \'padd-left\': !_dialogSettings.noMaximize }">{{ (_dialogSettings.title || "dialog.no_title") | translate }}</span>\r\n\r\n        <span *ngIf="!_dialogSettings.noMaximize" class="dialog-size-btn" [ngClass]="{ \'align-right\': _dialogSettings.noCloseButton, \'maximized\': dialogExpanded, \'minimized\': !dialogExpanded }" (click)="toggleDialogMode()">\r\n            <i class="material-icons icon-btn maximize-btn" bs-plugin [pluginList]="\'tooltip\'" [attr.title]="\'dialog.maximize\' | translate" data-placement="bottom">zoom_out_map</i>\r\n            <i class="material-icons icon-btn minimize-btn" bs-plugin [pluginList]="\'tooltip\'" [attr.title]="\'dialog.minimize\' | translate" data-placement="bottom">crop_landscape</i>\r\n        </span>\r\n        <span *ngIf="!_dialogSettings.noCloseButton" class="dialog-close-btn clearfix" (click)="dialogCloseBtnClick()">\r\n            <i class="material-icons">clear</i>\r\n        </span>\r\n    </div>\r\n    <div class="md-dialog-content" [ngClass]="{ \'has-top-panel\': _dialogSettings.hasTopPanel }">\r\n        <div *ngIf="_contentHtml" [innerHTML]="_contentHtml"></div>\r\n        <div #dialogContentContainer></div>\r\n    </div>\r\n    <div class="md-dialog-buttons" *ngIf="!_useCustomButton">\r\n        <button type="button" *ngFor="let btn of _dialogSettings.buttons" class="btn dialog-btn ripple-elem {{ btn.cssClass }}" ripple \r\n            (click)="customButtonClickhandler(btn)" [ngClass]="{ \'btn-with-micon\': btn.materialIcon }">\r\n            <i class="material-icons" *ngIf="btn.materialIcon">{{ btn.materialIcon }}</i>\r\n            <span>{{ (btn.text.key || btn.text) | translate }}</span>\r\n        </button>\r\n\r\n        <button *ngIf="!_dialogSettings.buttons" type="button" class="btn btn-secondary dialog-btn ripple-elem" ripple (click)="closeModal(true)">\r\n            <span>{{ "common.ok" | translate }}</span>\r\n        </button>\r\n    </div>\r\n    \r\n</div>'},664:function(t,e){t.exports='<label>{{ \'message.directory_tip\' | translate }}</label>\r\n<div class="directory-selector-area">\r\n\t<ol>\r\n\t\t<li *ngFor="let dirItem of directoryData | myCustomFilter: [\'type\']: \'directory\'" class="directory-item">\r\n\t\t\t<cmp-dir-item [itemData]="dirItem" [parent]="\'\'"></cmp-dir-item>\r\n\t\t</li>\r\n\t</ol>\r\n</div>\r\n<div class="row">\r\n\t<div class="col-12 file-path-tip">\r\n\t\t<div *ngIf="selectedDirectory">\r\n\t\t\t<small [innerHTML]="\'message.upload_target_info\' | translate: { target_path: selectedDirectory }"></small>\r\n\t\t\t<form novalidate class="form-inline" (ngSubmit)="addNewDirectory()">\r\n\t\t\t\t<input type="text" class="form-control" name="new_dir_name" [(ngModel)]="newDirectoryName" placeholder="{{ \'form.directory_selector.new_directory\' | translate }}" required minlength="1" />\r\n\t\t\t\t<button type="submit" class="btn btn-secondary" ripple [disabled]="!newDirectoryName">\r\n\t\t\t\t\t<i class="material-icons">create_new_folder</i>\r\n\t\t\t\t\t<span>{{ \'button.create_new_dir\' | translate }}</span>\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n\r\n<div class="button-panel clearfix">\r\n\t<button type="button" id="" class="btn btn-primary" ripple [disabled]="!selectedDirectory" (click)="chooseDirectory()">\r\n\t\t<i class="material-icons">save</i><span>{{ \'button.choose_this_dir\' | translate }}</span>\r\n\t</button>\r\n</div>'},665:function(t,e){t.exports='<span class="dir-wrapper" (click)="toggleChildrenView()">\r\n\t<span *ngIf="itemData.items && (itemData.items | myCustomFilter: [\'type\']: \'directory\').length > 0">\r\n\t\t<i class="material-icons idc-icon" [hidden]="!hideChildren">keyboard_arrow_right</i>\r\n\t\t<i class="material-icons idc-icon" [hidden]="hideChildren">keyboard_arrow_down</i>\r\n\t</span>\r\n\t<i class="material-icons item-type"\r\n\t\t[ngClass]="{ \'item-type-dir\': itemData.type === \'directory\', \'item-type-file\': itemData.type === \'file\', \'item-dir-open\': !hideChildren && itemData.items && (itemData.items | myCustomFilter: [\'type\']: \'directory\').length > 0 }"></i>\r\n\t<span class="directory-name" [attr.data-name]="itemData.name">{{ itemData.name }}</span>\r\n</span>\r\n\r\n<ol *ngIf="itemData.items && itemData.items.length > 0" [hidden]="hideChildren">\r\n\t<li *ngFor="let dirItem of itemData.items | myCustomFilter: [\'type\']: \'directory\'" class="directory-item">\r\n\t\t<cmp-dir-item [itemData]="dirItem" [parent]="itemData.name"></cmp-dir-item>\r\n\t</li>\r\n</ol>'},666:function(t,e){t.exports='<div class="form-wrapper cropper-form">\r\n\t<img id="imgWorkingImage" alt="Picture" />\r\n\r\n\t<div class="button-panel clearfix">\r\n\t\t<button class="btn btn-info f-left">\r\n\t\t\t<i class="material-icons">info</i>\r\n\t\t\t<span>Image Info</span>\r\n\t\t</button>\r\n\t\t<button type="button" class="btn btn-secondary" ripple (click)="snapToMaxSize()">\r\n\t\t\t<i class="material-icons">crop_original</i>\r\n\t\t\t<span>{{ \'button.snap_to_max_size\' | translate }}</span>\r\n\t\t</button>\r\n\t\t<button type="button" class="btn btn-secondary" ripple\r\n\t\t\t(click)="previewCroppedArea()">\r\n\t\t\t<i class="material-icons" *ngIf="!_showPreview">visibility</i>\r\n\t\t\t<i class="material-icons" *ngIf="_showPreview">visibility_off</i>\r\n\t\t\t<span *ngIf="!_showPreview">\r\n\t\t\t\t{{ \'button.preview\' | translate }}\r\n\t\t\t</span>\r\n\t\t\t<span *ngIf="_showPreview">\r\n\t\t\t\t{{ \'button.close_preview\' | translate }}\r\n\t\t\t</span>\r\n\t\t</button>\r\n\t\t<button type="submit" class="btn btn-primary" ripple\r\n\t\t\t(click)="getCanvasData()" [disabled]="!_sizeValid">\r\n\t\t\t<i class="material-icons">save</i><span>{{ \'button.get_cropped_image\' | translate }}</span>\r\n\t\t</button>\r\n\t</div>\t\r\n</div>\r\n<div class="cropped-image-preview dragscroll" [ngClass]="{ \'displayed\': _showPreview }"></div>'},667:function(t,e){t.exports='<i class="material-icons item-type" \r\n\t[ngClass]="{ \'item-type-dir\': itemType === \'directory\', \'item-type-file\': itemType === \'file\', \'item-video\': fileType === \'VIDEO\' }"\r\n \t*ngIf="fileType !== \'IMAGE\'"></i>\r\n<span class="thumbnail-wrapper" *ngIf="fileType === \'IMAGE\'" [ngClass]="{ \'selected\': itemSelected }">\r\n\t<img class="lazy" [attr.data-src]="thumbnailPath" [alt]="itemData.name" *ngIf="imagePath" />\r\n\t<span input-loader [size]="\'24px\'" *ngIf="!thumbnailPath"></span>\r\n</span>\r\n<span class="file-edit-mode-panel" *ngIf="editMode && itemType === \'file\'">\r\n\t<i class="material-icons file-edit-icon selected" *ngIf="itemSelected">check</i>\r\n\t<i class="material-icons file-edit-icon" role="rename-button">edit</i>\r\n</span>\r\n<span class="directory-name" [attr.data-name]="itemData.name" [ngClass]="{ \'selected\': itemSelected }">{{ itemData.name }}</span>'},668:function(t,e){t.exports='<div class="form-wrapper">\r\n\t<div class="row">\r\n\t\t<div class="col-12">\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label>{{ \'file_upload.current_filename\' | translate }}</label>\r\n\t\t\t\t<h5>{{ currentFilename }}</h5>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="col-12">\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label>{{ \'file_upload.new_filename\' | translate }}</label>\r\n\t\t\t\t<input type="text"\r\n\t\t\t\t\tclass="form-control"\r\n\t\t\t\t\tname="txtNewFilename"\r\n\t\t\t\t\t[(ngModel)]="newFilename"\r\n\t\t\t\t\tplaceholder="{{ \'file_upload.new_filename\' | translate }}"\r\n\t\t\t\t\t(keyup)="validateNewFilename()"\r\n\t\t\t\t\trequired />\r\n\t\t\t</div>\t\t\t\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<div class="button-panel clearfix">\r\n\t<button type="button" class="btn btn-primary" ripple [disabled]="!newFilenameValid || saving"\r\n\t\t(click)="onSave()">\r\n\t\t<i class="material-icons">check</i>\r\n\t\t<span>Rename</span>\r\n\t</button>\r\n</div>'},669:function(t,e){t.exports='<div class="form-wrapper">\r\n\t<div class="directory-info-bar" *ngIf="!disableUploadFeature && !isEditMode">\r\n\t\t<label class="btn btn-upload browse-file" for="fileUpload">\r\n\t\t\t<i class="material-icons">attachment</i>\r\n\t\t\t<span>select file</span>\r\n\t\t\t<input type="file" id="fileUpload" name="file" class="form-control" [accept]="acceptedFormat || \'\'" \r\n\t\t\t\t(change)="fileUploadChange($event)" multiple />\r\n\t\t</label>\r\n\t\t&nbsp;\r\n\t\t<button type="button" class="btn btn-primary" ripple [disabled]="!selectedBrowsedFile && !multipleFilesSelected" (click)="startUpload()">\r\n\t\t\t<i class="material-icons">file_upload</i>\r\n\t\t\t<span>{{ \'button.upload\' | translate }}</span>\r\n\t\t</button>\r\n\t\t<div class="selected-file-label" *ngIf="selectedBrowsedFile || multipleFileList.length > 1">{{ selectedBrowsedFile || (\'image.multiple_files_selected\' | translate: { file_count: multipleFileList.length }) }}</div>\r\n\t</div>\r\n\t<small [hidden]="!multipleFilesSelected" class="text-warning">{{ \'image.multiple_files_warning\' | translate }}</small>\r\n\t<small class="block muted-text" *ngIf="!disableUploadFeature && !isEditMode && imageSizeInfoSetting && imageSizeInfoSetting.size">\r\n\t\t{{ \'element.file_upload.file_size_tip\' | translate: { size: imageSizeInfoSetting.size } }}\r\n\t</small>\r\n\t<hr class="no-mgn-bottom" *ngIf="!disableUploadFeature && !isEditMode" />\r\n\t<small class="block">{{ \'element.file_upload.current_folder\' | translate }}</small>\r\n\t<div class="directory-info-bar">\r\n\t\t<div class="directory-label">\r\n\t\t\t<ol class="dir-nav" *ngIf="dirNav.length > 0">\r\n\t\t\t\t<li *ngFor="let item of dirNav; let idx = index; let isLast = last;">\r\n\t\t\t\t\t<span class="nav-item" [ngClass]="{ \'active\': idx === dirNav.length - 1 }" (click)="goToNav($event, idx, isLast)">{{ item.name }}</span>\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="directory-info-bar" *ngIf="!disableUploadFeature && isEditMode">\r\n\t\t<div class="directory-label padd-top-med">\r\n\t\t\t<span class="mgn-left-med" *ngIf="deleteItemList.length === 0">Select at least one file you want to delete. Please note that only file is selectable.</span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="directory-info-bar" *ngIf="imageSizeInfoSetting && (imageSizeInfoSetting.width || imageSizeInfoSetting.height)">\r\n\t\t<div class="directory-label">\r\n\t\t\t<div image-size-info [imageObjectOption]="selectedItem.element_value" [customCssClass]="\'tip-size-normal\'"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div id="dvDirListArea" class="directory-list-area">\r\n\t\t<div class="inner-wrapper">\r\n\t\t\t<ol *ngIf="dirNav.length > 0 && isReady">\r\n\t\t\t\t<li class="directory-item" *ngIf="!disableUploadFeature">\r\n\t\t\t\t\t<div class="dir-wrapper new-dir" (click)="startCreatingNewFolder()" [ngClass]="{ \'adding\': folderAdding }">\r\n\t\t\t\t\t\t<i class="material-icons item-type">create_new_folder</i>\r\n\t\t\t\t\t\t<span class="directory-name" [hidden]="folderAdding">{{ \'misc.add_new_directory\' | translate }}</span>\r\n\t\t\t\t\t\t<input type="text" id="txtNewFolderName" class="new-folder-control" (keyup)="onNewFolderKeyup($event)"\r\n\t\t\t\t\t\t\t(blur)="closeAddMode()" *ngIf="folderAdding" name="new_folder" [(ngModel)]="newFolderName" />\r\n\t\t\t\t\t</div>\t\t\t\t\r\n\t\t\t\t</li>\r\n\t\t\t\t<li *ngFor="let dirItem of currentDirItems | myFileExtensionFilter: acceptedFormat"\r\n\t\t\t\t\tclass="directory-item">\r\n\t\t\t\t\t<div class="dir-wrapper" \r\n\t\t\t\t\t\t[ngClass]="{ \'edit-mode\': isEditMode }"\r\n\t\t\t\t\t\tfile-dir-item \r\n\t\t\t\t\t\t[itemData]="dirItem" \r\n\t\t\t\t\t\t[currentPath]="dirNav"\r\n\t\t\t\t\t\t[domainName]="currentSiteDomain"\r\n\t\t\t\t\t\t[remoteHost]="siteDomainUrl"\r\n\t\t\t\t\t\t[attr.data-item-type]="dirItem.type" \r\n\t\t\t\t\t\t[imageSizeSetting]="imageSizeInfoSetting"\r\n\t\t\t\t\t\t[uploadRoot]="uploadRoot"\r\n\t\t\t\t\t\t(onItemRendered)="onItemRendered($event, dirItem)"\r\n\t\t\t\t\t\t(onDeleteFileSelected)="deleteFileToggled($event)"\r\n\t\t\t\t\t\t(onDirectoryOpened)="onDirectoryChanged()"\r\n\t\t\t\t\t\t(onItemRenameTriggered)="onItemRenameTriggered($event, dirItem)"></div>\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t</div>\t\t\r\n\t</div>\r\n\t<div class="form-busy-layer" [ngClass]="{ \'working\': working }" >\r\n\t\t<span input-loader [size]="\'32px\'"></span>\r\n\t</div>\r\n</div>\r\n\r\n<div class="button-panel clearfix">\r\n\t<span *ngIf="!disableUploadFeature">\r\n\t\t<button type="button" class="btn btn-danger" ripple\r\n\t\t\t*ngIf="deleteItemList.length > 0 && isEditMode"\r\n\t\t\t(click)="deleteSelectedItem()">\r\n\t\t\t<i class="material-icons">delete</i>\r\n\t\t\t<span>Delete {{ deleteItemList.length }} selected item{{ deleteItemList.length > 0 ? \'s\' : \'\' }}</span>\r\n\t\t</button>\r\n\t\t<button type="button" class="btn btn-default" \r\n\t\t\tripple *ngIf="isEditMode"\r\n\t\t\t(click)="closeEditMode()">\r\n\t\t\t<i class="material-icons">clear</i>\r\n\t\t\t<span>Close edit mode</span>\r\n\t\t</button>\r\n\t\t<button type="button" class="btn btn-default"\r\n\t\t\tripple *ngIf="!isEditMode"\r\n\t\t\t(click)="openEditMode()">\r\n\t\t\t<i class="material-icons">edit</i>\r\n\t\t\t<span>Open Edit Mode</span>\r\n\t\t</button>\r\n\t</span>\t\r\n\t<button type="button" class="btn btn-primary" ripple \r\n\t\t[disabled]="!selectedFile || !fileFormatValid || !isImageSizeValid || !imageRatioValid || isEditMode" (click)="selectFile()">\r\n\t\t<i class="material-icons">check</i>\r\n\t\t<span>{{ \'button.select_file\' | translate }}</span>\r\n\t</button>\r\n</div>'},67:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(36),o=a(9),l=a(19),s=a(16),c=a(12),d=a(29),p=a(27),m=a(176),u=a(186),g=a(170),h=a(178);a.d(e,"a",(function(){return A}));var A=(function(t){function e(e,a,n,i,r,l,c,d){var p=t.call(this,e)||this;p._reqSvc=a,p._cmn=n,p._snc=i,p._translate=r,p._resolver=l,p._zone=c,p.fileExtFilter=d,p.newFolderName=o.m.defaultNewFolderName,p.baseDirectoryData=[],p.acceptedFormat="",p.selectedFile="",p.imageSizeInfoSetting={},p.dirNav=[],p.currentDirItems=[],p.isReady=!1,p.working=!0,p.folderAdding=!1,p.selectedBrowsedFile="",p.selectedImageInfo={},p.isImageSizeValid=!0,p.imageRatio="",p.imageRatioValid=!0,p.currentImageCount=0,p.imageTooltipMessage=[],p.disableUploadFeature=!1,p.matchedExtItems=[],p.loadingDirectory=!1,p.fileFormatValid=!1,p.uploadRoot="",p.formToken="",p.siteDomainUrl="",p.publicUploadPath="",p.currentSiteDomain="",p.isEditMode=!1,p.deleteItemList=[],p.multipleFilesSelected=!1,p.multipleFileList=[];var u=p._cmn.getCurrentInfo(),g=u.siteList.filter((function(t){return t.id===u.currentSiteId}));g.length?p.currentSiteDomain=g[0].domain_name:p.currentSiteDomain=u.siteList[0].domain_name,p.formToken=u.formToken||"",p.siteDomainUrl=u.siteDomain||"",p.publicUploadPath=u.publicUploadPath||"";var A=["[file-renamer]"],_=p._cmn.getComponentFactory(A);_["[file-renamer]"]?p._fileRenamerCmpFactory=_["[file-renamer]"]:(p._fileRenamerCmpFactory=p._resolver.resolveComponentFactory(h.a),p._dlg.addCmpFactory(p._fileRenamerCmpFactory)),p.siteDomainUrl&&(/^(https?:\/\/)/g.test(p.siteDomainUrl)||(p.siteDomainUrl="http://"+p.siteDomainUrl),/(\/)$/g.test(p.siteDomainUrl)||(p.siteDomainUrl+="/"));var f=Object.assign({},s.a.url.getUploadDir);p.baseDirectoryData.push({name:"uploads",type:o.n.DIRECTORY,items:[]}),p._translate.get(["image.size_exceed_limit","image.crop_image","image.ratio_incorrect","image.size_info_tooltip"]).subscribe((function(t){if(p.imageTooltipMessage=t,p.siteDomainUrl&&p.formToken){var e=u.altAppName||p.currentSiteDomain,a={url:p.siteDomainUrl+"client-api/upload-dir?dn="+e,method:"GET",headers:{"X-CMS-Form-Token":p.formToken}};p._reqSvc.customRequest(a).subscribe((function(t){if(t.data)p.dirNav.push({name:"uploads",type:o.n.DIRECTORY,items:t.data.structure}),p.uploadRoot=t.data.root||"",p.applyLastVisitedDirNav(),p.currentDirItems=p.dirNav[p.dirNav.length-1].items,p.currentDirItems.length>0&&(p.matchedExtItems=p.fileExtFilter.transform(p.currentDirItems,p.acceptedFormat)),p.isReady=!0,p.adjustNavList();else{var e={message:"file_upload.get_error",type:o.k.ERROR};p._snc.open(e)}p.working=!1}),(function(){p.working=!1,p.loadDirErrorHandler()}))}else p._reqSvc.doRequest(f).subscribe((function(t){p.working=!1,t.result&&(p.baseDirectoryData[0].items=t.data.structure||t.data,p.dirNav.push(p.baseDirectoryData[0]),p.uploadRoot=t.data.root||"",p.applyLastVisitedDirNav(),p.currentDirItems=p.dirNav[p.dirNav.length-1].items,p.currentDirItems.length>0&&(p.matchedExtItems=p.fileExtFilter.transform(p.currentDirItems,p.acceptedFormat)),p.isReady=!0,p.adjustNavList())}),(function(t){p.working=!1,p.loadDirErrorHandler()}))})),p.dirSubcription=p._cmn.getDirInfo().subscribe((function(t){if(t.navigateInto&&!t.fileSelected&&(p.dirNav.push(t.navigateInto),p.currentDirItems=p.dirNav[p.dirNav.length-1].items,p.newFolderName=o.m.defaultNewFolderName,p.onDirectoryChanged()),p.adjustNavList(),p.checkImageLength(),p.selectedFile=t.selectedFile||"",p.selectedImageInfo=t.selectedImageInfo||{},p.selectedFile)if(p.acceptedFormat){var e=p.acceptedFormat.split(","),a=e.map((function(t){return t=t.replace(/[."]/g,"")})),n=new RegExp(".("+a.join("|")+")$","g");p.fileFormatValid=n.test(p.selectedFile)}else p.fileFormatValid=!0;else p.fileFormatValid=!1}));var b=p._dlg.getCmpFactory()||[],v=b.filter((function(t){return"[cmp-image-cropper]"===t.selector}));return v.length?p._imgCropperCmpFactory=v[0]:(p._imgCropperCmpFactory=p._resolver.resolveComponentFactory(m.a),p._dlg.addCmpFactory(p._imgCropperCmpFactory)),p._cmn.setInfo({trigger:!0}),p}return n.a(e,t),e.prototype.ngOnInit=function(){if(this.dialogData){if(this.dialogData.selectedItem){this.selectedItem=Object.assign({},this.dialogData.selectedItem);var t=this.selectedItem.element_value;"string"==typeof t&&0===t.indexOf("{")?(t=JSON.parse(this.selectedItem.element_value),this.acceptedFormat=t.targetFileExtensions,this.imageSizeInfoSetting=t.imageSizeOption):"object"==typeof t?(this.acceptedFormat=this.selectedItem.element_value.targetFileExtensions,this.imageSizeInfoSetting=this.selectedItem.element_value.imageSizeOption):(this.acceptedFormat=this.selectedItem.element_value.targetFileExtensions||"",this.imageSizeInfoSetting={})}this.dialogData.acceptedFormat&&(this.acceptedFormat=this.dialogData.acceptedFormat),this.dialogData.noUploadFeature?this.disableUploadFeature=!0:this.disableUploadFeature=!1,this.checkImageLength()}},e.prototype.ngOnDestroy=function(){this.dirSubcription.unsubscribe()},e.prototype.onNewFolderKeyup=function(t){var e=this,a=t.which||t.keyCode;if(13===a){this.dirNav[this.dirNav.length-1].hasOwnProperty("items")||(this.dirNav[this.dirNav.length-1].items=[],this.currentDirItems=[]),this.newFolderName=this.newFolderName.replace(/[\s]/g,"_"),this.newFolderName=this.newFolderName.replace(/[\\\/?%*^&:|\"<>]/g,"");var n={name:this.newFolderName,type:o.n.DIRECTORY,items:[]},i=!0,r={message:"message.duplicate_dir_name",type:o.k.ERROR};if(this.currentDirItems.length>0){this.currentDirItems.filter((function(t){return t.type.toUpperCase()===o.n.DIRECTORY&&t.name.toLowerCase()===e.newFolderName.toLowerCase()})).length>0&&(i=!1)}i?this._zone.run((function(){var t=e.currentDirItems.filter((function(t){return t.type===o.n.DIRECTORY}));t.push(n),t.sort((function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()?1:-1}));for(var a=0,i=0,r=t;i<r.length;i++){if(r[i].name===e.newFolderName)break;a+=1}e.currentDirItems.splice(a,0,n),e.closeAddMode()})):this._snc.open(r)}else[27].indexOf(a)>-1&&this.closeAddMode()},e.prototype.loadDirErrorHandler=function(){var t={message:"Could not retrieve file directory info",type:o.k.ERROR};this._snc.open(t),this.closeDialog()},e.prototype.checkImageDimensionValid=function(){this.selectedImageInfo&&this.imageSizeInfoSetting&&(this.selectedImageInfo.width&&this.imageSizeInfoSetting.width&&this.selectedImageInfo.width>this.imageSizeInfoSetting.width||this.selectedImageInfo.height&&this.imageSizeInfoSetting.height&&this.selectedImageInfo.height>this.imageSizeInfoSetting.height)?this.isImageSizeValid=!1:this.isImageSizeValid=!0},e.prototype.checkImageRatio=function(){this.selectedImageInfo.width&&this.selectedImageInfo.height&&this.imageSizeInfoSetting&&(this.imageRatioValid=this._cmn.checkImageRatio(this.selectedImageInfo.width,this.selectedImageInfo.height,this.imageSizeInfoSetting.ratio))},e.prototype.clearFileInput=function(){var t=$("#fileUpload");t.wrap("<form>").closest("form").get(0).reset(),t.unwrap(),this.selectedBrowsedFile=""},e.prototype.openImageCropper=function(t,e){var a=this,n={title:{key:"dialog.image_editor"},expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,alwaysMaxHeight:!0,alwaysMaxWidth:!0,componentFactory:this._imgCropperCmpFactory,dialogData:{imageUrl:t,filename:e,imageSettings:this.imageSizeInfoSetting},afterClose:function(t){if(t){var n=t.processedImage;n&&a.startUploadBase64Image(n,e)}}};this._dlg.open(n)},e.prototype.processImageConfirm=function(t,e){var a=this,n={key:"image.image_appearance_warning",param:{}},i={title:{key:"dialog.invalid_image"},expandableDialog:!0,dialogCssClass:"size-lg",useCustomButtons:!1,noMaximize:!0,template:n,buttons:[{text:{key:"image.continue_processing"},cssClass:"btn-info",materialIcon:"crop",closeWhenClick:!0,onClick:function(){setTimeout((function(){a.openImageCropper(t,e)}),200)}},{text:{key:"image.choose_another"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}]};this._dlg.open(i)},e.prototype.fileUploadChange=function(t){var e=this;if(this.multipleFilesSelected=!1,this.multipleFileList=[],$(t.currentTarget).val()){var a=t.target.files.length;if(this.multipleFilesSelected=a>1,this.multipleFileList=t.target.files,1===a){var n=$(t.currentTarget).val().split("\\"),i=n[n.length-1];if(window.File&&window.FileReader&&window.FileList&&window.Blob&&/.(jpe?g|png|gif)/gi.test(i)){for(var r=t.target.files,l=!1,s=0,c=this.imageSizeInfoSetting,d={message:"",type:o.k.ERROR,duration:8e3},p=0,m=void 0;m=r[p];p+=1){if(c.size&&m.size>1024*c.size){l=!0,s=m.size;break}if(m.type.match("image.*")){var u=new FileReader;u.onload=(function(t){return function(t){var a=t.target.result;e._cmn.getImageInfo(a,!0).subscribe((function(t){c&&(c.width||c.height)?c.width<t.width||c.height<t.height?setTimeout((function(){e.processImageConfirm(a,i)}),50):c.src&&!e._cmn.checkImageRatio(t.width,t.height,c.ratio)?setTimeout((function(){e.processImageConfirm(a,i)}),50):e.selectedBrowsedFile=n[n.length-1]:e.selectedBrowsedFile=i}))}})(),u.readAsDataURL(m)}}if(l){var g=this.imageSizeInfoSetting.size+" KB or ~"+this.imageSizeInfoSetting.size/1024+" MB",h=s+" B";s>1048576?h=(s/1048576).toFixed(2)+" MB":s>1024&&(h=(s/1024).toFixed(2)+" KB"),this._translate.get("message.image_size_exceed",{targetFileSize:h,maxFileSize:g}).subscribe((function(t){d.message=t,e._snc.open(d),e.clearFileInput()}))}}else this.selectedBrowsedFile=i}}},e.prototype.getUploadPath=function(){var t=[];return this.dirNav.map((function(e){t.push(e.name)})),t.push(this.selectedBrowsedFile),t.join("/")},e.prototype.startUpload=function(){var t=this,e=this.multipleFilesSelected?Object.assign({},s.a.url.multiUpload):Object.assign({},s.a.url.quickUpload);if(e){var a={message:"message.upload_failed",type:o.k.ERROR},n=this.getUploadPath(),i={path:n,max_file_size:this.imageSizeInfoSetting.size},r=$("#fileUpload").clone(!0),l=[],c=this._reqSvc.getUrl(e.url);if(this.siteDomainUrl&&this.formToken&&(c=this.siteDomainUrl+"client-api"+e.url,i=Object.assign({},i,{_remote_form_token:this.formToken,domain:this.currentSiteDomain})),this.multipleFilesSelected){r.attr({name:"files[]",id:"multiFileUpload"});for(var d=[],p=0,m=this.multipleFileList;p<m.length;p++){var u=m[p];d.push({path:""+n+u.name,max_file_size:this.imageSizeInfoSetting.size,name:u.name})}i.files_meta=d,delete i.path,delete i.max_file_size,delete i.domain}l.push(r),this.working=!0,this._reqSvc.ajaxFormRequest(c,i,l).subscribe((function(e){if(t.working=!1,e){if(t.multipleFilesSelected)for(var n=$.unique(e.data),i=0,r=n;i<r.length;i++){var l=r[i],s=l.split("/"),c=s[s.length-1];t.currentDirItems.push({name:c,type:o.n.FILE})}else{var s=e.data.split("/"),c=s[s.length-1];t.selectedFile=c,t.currentDirItems.push({name:c,type:o.n.FILE})}t.matchedExtItems=t.fileExtFilter.transform(t.currentDirItems,t.acceptedFormat),t.selectedBrowsedFile="",a.message="message.upload_completed",a.type=o.k.NORMAL,t._snc.open(a),t.multipleFilesSelected||t.selectFile(),t.multipleFilesSelected=!1,t.multipleFileList=[],setTimeout((function(){$("#dvDirListArea .inner-wrapper").scrollTop($("#dvDirListArea .inner-wrapper").prop("scrollHeight"))}),10),t.adjustNavList(),t.newFolderName=o.m.defaultNewFolderName,t.onDirectoryChanged()}}),(function(e){t.working=!1,a.message=e?e.message:"Could not upload file, please try again later",t._snc.open(a)}))}},e.prototype.startUploadBase64Image=function(t,e){var a=this,n=Object.assign({},s.a.url.quickUpload);if(n){var i={message:"message.upload_failed",type:o.k.ERROR},r=this.getUploadPath(),l={path:r,max_file_size:this.imageSizeInfoSetting.size,image_base64_content:t,image_filename:e};if(this.working=!0,this.siteDomainUrl&&this.formToken){n.url=this.siteDomainUrl+"client-api/quick-upload",l=Object.assign({},l,{domain:this.currentSiteDomain});var c={url:this.siteDomainUrl+"client-api/quick-upload",method:"POST",data:l,headers:{"X-CMS-Form-Token":this.formToken}};this._reqSvc.customRequest(c).subscribe((function(t){a.working=!1,t.result&&(a.selectedFile=t.data.split("/").pop(),a.currentDirItems.push({name:a.selectedFile,type:o.n.FILE}),a.matchedExtItems=a.fileExtFilter.transform(a.currentDirItems,a.acceptedFormat),i.message="message.upload_completed",i.type=o.k.NORMAL,a._snc.open(i),a.selectFile())}),(function(t){a.working=!1,i.message=t?t.message:"Could not upload file, please try again later",a._snc.open(i)}))}else this._reqSvc.doRequest(n,{contentType:o.a.FORM,postData:l}).subscribe((function(t){a.working=!1,t.result&&(a.currentDirItems.push({name:e,type:o.n.FILE}),a.matchedExtItems=a.fileExtFilter.transform(a.currentDirItems,a.acceptedFormat),i.message="message.upload_completed",i.type=o.k.NORMAL,a._snc.open(i),a.selectedFile=e,a.selectFile())}),(function(t){a.working=!1,i.message=t.message,a._snc.open(i)}))}},e.prototype.adjustNavList=function(){var t=this;this.dirNav.length>0&&this.dirNav.map((function(e,a){e.active=a===t.dirNav.length-1})),this.matchedExtItems=this.fileExtFilter.transform(this.currentDirItems,this.acceptedFormat)},e.prototype.checkImageLength=function(){var t=this.fileExtFilter.transform(this.currentDirItems,".jpg,.jpeg,.png,.gif");this.currentImageCount=t.length},e.prototype.goToNav=function(t,e,a){if(t.preventDefault(),!a){var n=this.dirNav.length-(e+1);this.dirNav.splice(e+1,n),this.currentDirItems=this.dirNav[this.dirNav.length-1].items,this.adjustNavList(),this.newFolderName=o.m.defaultNewFolderName,this.onDirectoryChanged()}},e.prototype.goUpOneLevel=function(){this.dirNav.splice(this.dirNav.length-1,1),this.adjustNavList(),this.newFolderName=o.m.defaultNewFolderName,this.onDirectoryChanged()},e.prototype.startCreatingNewFolder=function(){this.folderAdding||this.isEditMode||(this.folderAdding=!0,setTimeout((function(){$("#txtNewFolderName").focus()}),10))},e.prototype.closeAddMode=function(){this.folderAdding=!1,this.newFolderName=o.m.defaultNewFolderName},e.prototype.getCurrentFullPath=function(){var t=[],e="";return this.dirNav.map((function(e,a){a>0&&t.push(e.name)})),e=t.join("/"),/^(uploads\/)/g.test(e)||(e="uploads/"+e),e},e.prototype.selectFile=function(){var t=this.getCurrentFullPath()+"/"+this.selectedFile;t=t.replace(/(\/|\\)+/g,"/"),this.closeDialog(!1,{selectedFile:t})},e.prototype.isValidImage=function(t){var e=!0;return this.isImageSizeValid=!0,this.imageRatioValid=!0,this.imageSizeInfoSetting.ratio&&(this._cmn.checkImageRatio(t.naturalWidth,t.naturalHeight,this.imageSizeInfoSetting.ratio)||(e=!1,this.imageRatioValid=!1)),(this.imageSizeInfoSetting.width&&t.naturalWidth>this.imageSizeInfoSetting.width||this.imageSizeInfoSetting.height&&t.naturalHeight>this.imageSizeInfoSetting.height)&&(e=!1,this.isImageSizeValid=!1),e},e.prototype.checkImageInfo=function(t){var e=$(t).data("image-info"),a=$(t).closest(".dir-wrapper"),n=!0,i=$(t).attr("src").split("/");i.pop();i.splice(-1,1);var r=i.join("/");if(r=r.replace(/(_crops)/g,""),e&&this.imageSizeInfoSetting&&!$(t).hasClass("elem-checked")){var o=this.imageTooltipMessage["image.size_info_tooltip"];o=o.replace("{{ width }}",e.naturalWidth+"px").replace("{{ height }}",e.naturalHeight+"px"),a.append('\n\t\t\t\t<span class="image-file-info" title="'+o+'"\n\t\t\t\t\tdata-placement="top"\n\t\t\t\t\tdata-toggle="tooltip">\n\t\t\t\t\t<i class="material-icons">help</i>\n\t\t\t\t</span>\n\t\t\t'),a.append('<span class="image-prop-warning"></span>'),this.imageSizeInfoSetting.ratio&&(this._cmn.checkImageRatio(e.naturalWidth,e.naturalHeight,this.imageSizeInfoSetting.ratio)||(a.find(".image-prop-warning").append('<i class="material-icons"\n\t\t\t\t\t\ttitle="'+this.imageTooltipMessage["image.ratio_incorrect"]+'"\n\t\t\t\t\t\tdata-placement="top"\n\t\t\t\t\t\tdata-toggle="tooltip"\n\t\t\t\t\t\tdata-tooltip-type="danger">priority_high</i>'),n=!1)),(this.imageSizeInfoSetting.width&&e.naturalWidth>this.imageSizeInfoSetting.width||this.imageSizeInfoSetting.height&&e.naturalHeight>this.imageSizeInfoSetting.height)&&(a.find(".image-prop-warning").append('<i class="material-icons"\n\t\t\t\t\ttitle="'+this.imageTooltipMessage["image.size_exceed_limit"]+'"\n\t\t\t\t\tdata-placement="top"\n\t\t\t\t\tdata-toggle="tooltip"\n\t\t\t\t\tdata-tooltip-type="danger">crop_5_4</i>'),n=!1),n||a.addClass("elem-unavailable"),$('[data-toggle="tooltip"]',a).tooltip({html:!0,animation:!1}),$('[data-toggle="tooltip"]',a).on("shown.bs.tooltip",(function(t){$(t.currentTarget).attr("data-tooltip-type")&&$(".tooltip").addClass("custom-tooltip-"+$(t.currentTarget).attr("data-tooltip-type"))})),$(t).addClass("elem-checked")}},e.prototype.applyLazyLoad=function(){var t=this,e=o.o;setTimeout((function(){$("#dvDirListArea .lazy").Lazy({appendScroll:$("#dvDirListArea .inner-wrapper"),scrollDirection:"vertical",effect:"fadeIn",defaultImage:e,placeholder:e,visibleOnly:!0,onError:function(t){console.log("error loading "+t.data("src"))},afterLoad:function(e){var a=$(e[0]),n={};a.addClass("image-file");var i=a.attr("src").split("/");i.splice(-1,1);var r=i.join("/");r=r.replace(/(_crops\/)/g,""),t._cmn.getImageInfo(r+"/"+a.attr("alt")).subscribe((function(i){n={src:i.src,width:e[0].naturalWidth,height:e[0].naturalHeight,naturalWidth:i.width,naturalHeight:i.height},a.data("image-info",n),t.checkImageInfo(a)})),$(a).closest(".dir-wrapper").on("click.file-uploader",(function(e){var a=$(e.currentTarget);$(".directory-list-area .dir-wrapper.active").removeClass("active"),a.addClass("active");var n=a.find(".image-file").data("image-info");t._zone.run((function(){t.isValidImage(n)?t._cmn.setDirectoryInfo({fileSelected:!0,selectedFile:a.find(".directory-name").text(),selectedImageInfo:n,navigateInto:null}):t._cmn.setDirectoryInfo({fileSelected:!1,selectedFile:"",selectedImageInfo:null,navigateInto:null})}))}))}})}),100)},e.prototype.onItemRendered=function(t,e){var a=this.disableUploadFeature?0:1;this.matchedExtItems.length===$("#dvDirListArea .directory-name").length-a&&(this.checkImageLength(),this.applyLazyLoad())},e.prototype.applyTooltip=function(t){var e=this,a={width:t.naturalWidth,height:t.naturalHeight},n=$(t).closest(".dir-wrapper"),i=this.imageTooltipMessage["image.size_info_tooltip"];i=i.replace("{{ width }}",a.width+"px").replace("{{ height }}",a.height+"px"),n.append('\n\t\t\t<span class="image-file-info" title="'+i+'"\n\t\t\t\tdata-placement="top"\n\t\t\t\tdata-toggle="tooltip">\n\t\t\t\t<i class="material-icons">help</i>\n\t\t\t</span>\n\t\t'),this.imageSizeInfoSetting&&(n.append('<span class="image-prop-warning"></span>'),this.imageSizeInfoSetting.ratio&&(this._cmn.checkImageRatio(a.width,a.height,this.imageSizeInfoSetting.ratio)||n.find(".image-prop-warning").append('<i class="material-icons"\n\t\t\t\t\t\ttitle="'+this.imageTooltipMessage["image.ratio_incorrect"]+'"\n\t\t\t\t\t\tdata-placement="top"\n\t\t\t\t\t\tdata-toggle="tooltip"\n\t\t\t\t\t\tdata-tooltip-type="danger">priority_high</i>')),(this.imageSizeInfoSetting.width&&a.width>this.imageSizeInfoSetting.width||this.imageSizeInfoSetting.height&&a.height>this.imageSizeInfoSetting.height)&&n.find(".image-prop-warning").append('<i class="material-icons"\n\t\t\t\t\ttitle="'+this.imageTooltipMessage["image.size_exceed_limit"]+'"\n\t\t\t\t\tdata-placement="top"\n\t\t\t\t\tdata-toggle="tooltip"\n\t\t\t\t\tdata-tooltip-type="danger">crop_5_4</i>')),setTimeout((function(){n.find('[data-toggle="tooltip"]').tooltip({html:!0,animation:!1}),n.find('[data-toggle="tooltip"]').on("shown.bs.tooltip",(function(t){$(t.currentTarget).attr("data-tooltip-type")&&$(".tooltip").addClass("custom-tooltip-"+$(t.currentTarget).attr("data-tooltip-type"))}))}),0),$(t).on("click.file-uploader",(function(t){$(".directory-list-area .dir-wrapper.active").removeClass("active"),$(t.currentTarget).addClass("active"),e._zone.run((function(){e._cmn.setDirectoryInfo({fileSelected:!0,selectedFile:n.find(".directory-name").text(),selectedImageInfo:a,navigateInto:null})}))}))},e.prototype.openEditMode=function(){var t=this;this.isEditMode=!0,this.dirItems&&this.dirItems.length&&this.dirItems.map((function(e){e.toggleEditMode(t.isEditMode)}))},e.prototype.closeEditMode=function(){var t=this;this.isEditMode=!1,this.dirItems&&this.dirItems.length&&this.dirItems.map((function(e){e.toggleEditMode(t.isEditMode)})),this.deleteItemList=[],this.selectedFile="",$(".directory-list-area .dir-wrapper.active").removeClass("active")},e.prototype.deleteFileToggled=function(t){t&&(t.selected?this.deleteItemList.indexOf(t.fileName)<0&&this.deleteItemList.push(t.fileName):this.deleteItemList.indexOf(t.fileName)>-1&&this.deleteItemList.splice(this.deleteItemList.indexOf(t.fileName),1))},e.prototype.onDirectoryChanged=function(){this.isEditMode=!1,this.deleteItemList=[],this.selectedFile="";var t=[];this.dirNav.length>0&&(t=this.dirNav.map((function(t){return t.name}))),window.sessionStorage.setItem("tmp-last-visited-file-uploader-dir-nav",JSON.stringify(t)),$(".directory-list-area .dir-wrapper.active").removeClass("active")},e.prototype.onItemRenameTriggered=function(t,e){var a=this;this.dirItems&&this.dirItems.length&&this.dirItems.map((function(t){t.itemSelected&&t.setSelected(!1)})),this.deleteItemList=[],this.selectedFile="",$(".directory-list-area .dir-wrapper.active").removeClass("active");var n={title:"file_upload.rename_title",expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._fileRenamerCmpFactory,dialogData:{fileName:t,currentPath:this.getCurrentFullPath(),currentDirItems:this.currentDirItems,domain:this.siteDomainUrl,token:this.formToken},afterClose:function(t){t&&t.newFilename&&(e.name=t.newFilename,a.closeEditMode())}};this._dlg.open(n)},e.prototype.deleteSelectedItem=function(){var t=this;if(this.deleteItemList.length){var e={title:{key:"file_upload.file_delete_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,template:{key:"file_upload.file_delete_confirm",param:{file_count:this.deleteItemList.length}},buttons:[{text:{key:"file_upload.file_delete_button"},cssClass:"btn-danger",materialIcon:"delete",closeWhenClick:!0,onClick:function(){setTimeout((function(){t.proceedDelete()}),200)}},{text:{key:"common.cancel"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}]};this._dlg.open(e)}},e.prototype.proceedDelete=function(){var t=this,e=this.getCurrentFullPath(),a=this.deleteItemList.map((function(t){return e+"/"+t})),n=Object.assign({},s.a.url.fileRemove),i=!1,r={target_file_path:a},l=null,c={message:"file_upload.file_delete_success",type:o.k.SUCCESS};this.currentSiteDomain&&this.formToken&&(n.url=this.siteDomainUrl+"client-api"+n.url,i=!0,l={"X-CMS-Form-Token":this.formToken}),this.working=!0,this._reqSvc.doRequest(n,{postData:r,contentType:o.a.FORM,customHeaders:l},i).subscribe((function(e){t.working=!1,e&&(t.currentDirItems=t.currentDirItems.filter((function(e){return t.deleteItemList.indexOf(e.name)<0})),t.closeEditMode(),t._snc.open(c))}),(function(e){t.working=!1,c.message=e.message,c.type=o.k.ERROR,t._snc.open(c)}))},e.prototype.applyLastVisitedDirNav=function(){var t=window.sessionStorage.getItem("tmp-last-visited-file-uploader-dir-nav");if((t=JSON.parse(t))&&t.length>0){var e=[],a=this.dirNav;t.forEach((function(t){var n=a.filter((function(e){return e.name===t}));if(n&&n.length>0){var i=n[0];e.push(i),i&&i.hasOwnProperty("items")&&(a=i.items)}})),this.dirNav=e}},n.b([a.i(i._16)(g.a),n.c("design:type",i._17)],e.prototype,"dirItems",void 0),e=n.b([a.i(i._14)({selector:"cmp-file-uploader",template:a(669),entryComponents:[m.a,h.a],providers:[u.a]}),n.c("design:paramtypes",[i.h,l.a,c.a,d.a,p.d,i.Q,i.k,u.a])],e)})(r.a)},670:function(t,e){t.exports='<div class="header-wrapper">\r\n\t<div class="app-menu-toggle-wrapper clearfix">\r\n\t\t<button type="button" class="btn-sidenav-toggle" (click)="openSidebar()">\r\n\t\t\t<i class="material-icons">menu</i>\r\n\t\t</button>\r\n\t</div>\r\n\t<div class="brand-logo-box-desktop" *ngIf="brandLogoImage">\r\n\t\t<img [src]="brandLogoImage" [alt]="brandName || \'Brand\'" />\r\n\t</div>\r\n\t<div class="app-site-selector" *ngIf="_workModeInit && _currentSite && _currentWorkingMode === _appContentMode && _siteList.length > 0">\r\n\t\t<div class="dropdown clearfix" *ngIf="_siteList.length > 1">\r\n\t\t\t<button type="button" class="site-selector-button" id="btnSiteSelect" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n\t\t\t\t<span>{{ _currentSite }}</span>\r\n\t\t\t\t<i class="material-icons">keyboard_arrow_down</i>\r\n\t\t\t</button>\r\n\t\t\t<div class="dropdown-menu" aria-labelledby="btnSiteSelect">\r\n\t\t\t\t<a class="dropdown-item" *ngFor="let site of _siteList" [ngClass]="{ \'active\': site.id === _currentSiteId }" (click)="selectSite(site)">\r\n\t\t\t\t\t{{ site.domain_name }}\r\n\t\t\t\t\t<i class="material-icons" *ngIf="site.site_id === _currentSiteId">done</i>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="site-selector-button no-select" *ngIf="_siteList.length === 1" bs-plugin [pluginList]="\'tooltip\'" [translateTitle]="\'tooltip.website_tip\'" data-placement="bottom">\r\n\t\t\t{{ _currentSite }}\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="app-menu-wrapper">\r\n\t\t<span id="appSearch" class="dropdown clearfix">\r\n\t\t\t<button type="button" class="app-menu-btn dropdown-toggle clearfix"\r\n\t\t\t\tid="searchAppBtn" data-toggle="dropdown"\r\n\t\t\t\taria-haspopup="true" aria-expanded="false">\r\n\t\t\t\t<i class="material-icons darken" bs-plugin [pluginList]="\'tooltip\'" [translateTitle]="\'message.search_tip\'" data-placement="left">search</i>\r\n\t\t\t</button>\r\n\t\t\t<div class="dropdown-menu no-radius-top search-wrapper" aria-labelledby="searchAppBtn">\r\n\t\t\t\t<input type="search" class="form-control"\r\n\t\t\t\t\tid="txtAppSearch"\r\n\t\t\t\t\tplaceholder="{{ \'message.global_search_placeholder\' | translate }}"\r\n\t\t\t\t\t(keyup)="searchHandler($event)"\r\n\t\t\t\t\t[(ngModel)]="searchKey" name="app_search"\r\n\t\t\t\t\t[disabled]="isSearching" />\r\n\t\t\t\t<div class="search-loader" [hidden]="!isSearching">\r\n\t\t\t\t\t<span input-loader [size]="\'24px\'"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="app-search-not-found" *ngIf="isSearched && searchResultList.length === 0">\r\n\t\t\t\t\t<i class="material-icons lighten">sentiment_dissatisfied</i>\r\n\t\t\t\t\t{{ \'message.global_search_not_found\' | translate }}\r\n\t\t\t\t</div>\r\n\t\t\t\t<ol *ngIf="searchResultList.length > 0" class="app-search-result">\r\n\t\t\t\t\t<li *ngFor="let item of searchResultList">\r\n\t\t\t\t\t\t<span class="item-name" (click)="navigateSearchItem(item)">{{ item.name }}</span>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<small class="muted-text search-item-tip" *ngIf="item.item_type === \'TEMPLATE\'">\r\n\t\t\t\t\t\t\t{{ \'module_type.template\' | translate }}\r\n\t\t\t\t\t\t</small>\r\n\r\n\t\t\t\t\t\t<small class="muted-text search-item-tip" *ngIf="item.item_type === \'PAGE\'">\r\n\t\t\t\t\t\t\t{{ \'module_type.page\' | translate }}\r\n\t\t\t\t\t\t</small>\r\n\r\n\t\t\t\t\t\t<small class="muted-text search-item-tip" *ngIf="item.item_type === \'PAGE_ITEM\'" [innerHTML]="\'search.res_page_item\' | translate: { page_name: item.page_name }"></small>\r\n\r\n\t\t\t\t\t\t<small class="muted-text search-item-tip" *ngIf="item.item_type === \'PAGE_ITEM_OPTION\'" [innerHTML]="\'search.res_page_item_option\' | translate: { page_name: item.page_name, page_item_name: item.parent_name }"></small>\r\n\r\n\t\t\t\t\t\t<small class="muted-text search-item-tip" *ngIf="item.item_type === \'GLOBAL_ITEM_OPTION\'" [innerHTML]="\'search.res_global_item_option\' | translate: { global_item_name: item.parent_name }"></small>\r\n\r\n\t\t\t\t\t\t<small class="muted-text search-item-tip" *ngIf="item.item_type === \'GLOBAL_ITEM\'">\r\n\t\t\t\t\t\t\t{{ \'module_type.global_item\' | translate }}\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ol>\r\n\t\t\t</div>\r\n\t\t</span>\r\n\t\t<span class="username-label f-left">{{ \'message.header_welcome\' | translate: { name: _userFullname } }}</span>\r\n\t\t<span class="dropdown clearfix">\r\n\t\t\t<button type="button" class="app-menu-btn dropdown-toggle clearfix" id="appMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n\t\t\t\t<i class="material-icons">person</i>\r\n\t\t\t</button>\r\n\t\t\t<div class="dropdown-menu no-radius-top" aria-labelledby="appMenuButton">\r\n                <a class="dropdown-item" (click)="clearLogs($event)" *ngIf="_showClearLogs"\r\n                   bs-plugin [pluginList]="\'tooltip\'" [translateTitle]="\'message.clear_logs_tip\'" data-placement="left">\r\n\t\t\t\t\t<i class="material-icons">dvr</i>\r\n\t\t\t\t\t{{ \'common.clear_logs_btn\' | translate }}\r\n\t\t\t\t</a>\r\n                <a class="dropdown-item" (click)="clearSubmissions($event)" *ngIf="_showClearSubmissions"\r\n                   bs-plugin [pluginList]="\'tooltip\'" [translateTitle]="\'message.clear_submissions_tip\'" data-placement="left">\r\n\t\t\t\t\t<i class="material-icons">assignment</i>\r\n\t\t\t\t\t{{ \'common.clear_submissions_btn\' | translate }}\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class="dropdown-divider"></div>\r\n\t\t\t\t<a class="dropdown-item" (click)="clearCache($event)"\r\n\t\t\t\t\tbs-plugin [pluginList]="\'tooltip\'" [translateTitle]="\'message.site_cache_tip\'" data-placement="left">\r\n\t\t\t\t\t<i class="material-icons">cached</i>\r\n\t\t\t\t\t{{ \'common.clear_cache_btn\' | translate }}\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class="dropdown-divider"></div>\r\n\t\t\t\t<a class="dropdown-item text-danger" (click)="logout($event)">\r\n\t\t\t\t\t<i class="material-icons text-danger">power_settings_new</i>\r\n\t\t\t\t\t{{ \'common.logout\' | translate }}\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</span>\r\n\t</div>\r\n</div>'},671:function(t,e){t.exports='<div class="app-loader">\r\n\t<div class="loader-box">\r\n\t\t<div class="spinner">\r\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1" width="48px" height="48px" viewBox="0 0 28 28">\r\n\t\t\t\x3c!-- 28= RADIUS*2 + STROKEWIDTH --\x3e\r\n\r\n\t\t\t\x3c!-- 3= STROKEWIDTH --\x3e\r\n\t\t\t\x3c!-- 14= RADIUS + STROKEWIDTH/2 --\x3e\r\n\t\t\t\x3c!-- 12.5= RADIUS --\x3e\r\n\t\t\t\x3c!-- 1.5=  STROKEWIDTH/2 --\x3e\r\n\t\t\t\x3c!-- ARCSIZE would affect the 1.5,14 part of this... 1.5,14 is specific to 270 degress --\x3e\r\n\t\t\t\t<g class="qp-circular-loader">\r\n\t\t\t\t\t<path class="qp-circular-loader-path" fill="none" d="M 14,1.5 A 12.5,12.5 0 1 1 1.5,14" stroke-linecap="round" />\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t</div>    \r\n</div>'},672:function(t,e){t.exports='<div class="login-bg-layer" [ngStyle]="{ \'background-image\': \'url(\' + loginBgImage + \')\'}" >\r\n\t<div *ngIf="cmsLogoImage" class="logo-box">\r\n\t\t<img [src]="cmsLogoImage" alt="QUIQ CMS" />\r\n\t</div>\r\n</div>\r\n<div class="login-panel">\r\n\t<div *ngIf="brandLogoImage" class="cms-logo-box">\r\n\t\t<img [src]="brandLogoImage" alt="QUIQ CMS" />\r\n\t</div>\r\n\t<h4 class="title" *ngIf="!cmsLogoImage">Login to CMS</h4>\r\n\t<div class="form-wrapper">\r\n\t\t<form #loginForm="ngForm" (ngSubmit)="onSubmit()" novalidate>\r\n\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': appname.errors && (appname.dirty || appname.touched) }">\r\n\t\t\t\t<label for="txtAppName">Application Name</label>\r\n\t\t\t\t<input type="text" [(ngModel)]="loginInfo.appName" class="form-control" id="txtAppName" placeholder="Application Name"\r\n\t\t\t\t\tname="appname" #appname="ngModel" required autofocus />\r\n\t\t\t</div>\r\n\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': username.errors && (username.dirty || username.touched) }">\r\n\t\t\t\t<label for="txtUsername">Username</label>\r\n\t\t\t\t<input type="text" [(ngModel)]="loginInfo.username" class="form-control" id="txtUsername" placeholder="Username"\r\n\t\t\t\t\tname="username" #username="ngModel" required />\r\n\t\t\t</div>\r\n\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': password.errors && (password.dirty || password.touched) }">\r\n\t\t\t\t<label for="txtPassword">Password</label>\r\n\t\t\t\t<input type="password" [(ngModel)]="loginInfo.password" class="form-control" id="txtPassword" placeholder="Password"\r\n\t\t\t\t\tname="password" #password="ngModel" required />\r\n\t\t\t</div>\r\n\t\t\t<div class="clearfix">\r\n\t\t\t\t<button type="submit" class="btn btn-primary float-right" ripple [disabled]="!loginForm.form.valid">\r\n\t\t\t\t\t<i class="material-icons">https</i>\r\n\t\t\t\t\t<span>{{ \'button.login\' | translate }}</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t\t<div class="form-busy-layer" [ngClass]="{ \'working\': submitting }" >\r\n\t\t\t<span input-loader [size]="\'48px\'"></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="welcome-user-wrapper" [ngClass]="{ \'displayed\': loginSuccess }" >\r\n\t\t<div class="image-block"></div>\r\n\t\t<h4>Welcome</h4>\r\n\t\t<h5>{{ loggedinUsername }}</h5>\r\n\t\t<div class="spinner">\r\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1" width="32px" height="32px" viewBox="0 0 28 28">\r\n\t\t\t\x3c!-- 28= RADIUS*2 + STROKEWIDTH --\x3e\r\n\r\n\t\t\t\x3c!-- 3= STROKEWIDTH --\x3e\r\n\t\t\t\x3c!-- 14= RADIUS + STROKEWIDTH/2 --\x3e\r\n\t\t\t\x3c!-- 12.5= RADIUS --\x3e\r\n\t\t\t\x3c!-- 1.5=  STROKEWIDTH/2 --\x3e\r\n\t\t\t\x3c!-- ARCSIZE would affect the 1.5,14 part of this... 1.5,14 is specific to 270 degress --\x3e\r\n\t\t\t\t<g class="qp-circular-loader">\r\n\t\t\t\t\t<path class="qp-circular-loader-path" fill="none" d="M 14,1.5 A 12.5,12.5 0 1 1 1.5,14" stroke-linecap="round" />\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t</div>\r\n</div>'},673:function(t,e){t.exports='<div class="form-wrapper">\r\n\t<div class="row" [hidden]="!pageInitReady">\r\n\t\t<div class="col-12" *ngIf="sitesList.length === 0">\r\n\t\t\t<h4 class="padd-xmed">{{ \'message.no_site_warning\' | translate }}</h4>\r\n\t\t</div>\r\n\t\t<div class="col-12 col-md-6" *ngIf="sitesList.length > 0 && workMode === \'STRUCTURE\'">\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label for="ddlSite">{{ \'form.item.select_site\' | translate }}</label>\r\n\t\t\t\t<select id="ddlSite" class="form-control" name="site" [(ngModel)]="selectedSiteId" (change)="selectedSiteChange()">\r\n\t\t\t\t\t<option *ngFor="let item of sitesList" [ngValue]="item.id">{{ item.domain_name }}</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="col-12 col-md-6" *ngIf="pagesList.length > 0">\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label for="txtPageSearch">{{ \'element.text.filter_page\' | translate }}</label>\r\n\t\t\t\t<input type="search" id="txtPageSearch" name="txtPageSearch" class="form-control" placeholder="{{ \'element.text.filter_page_placeholder\' | translate }}" [(ngModel)]="pageNameSearch" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="row">\r\n\t\t<div class="col-12">\r\n\t\t\t<div class="page-selector-list-wrapper">\r\n\t\t\t\t<div [hidden]="!pageInitReady">\r\n\t\t\t\t\t<h5 *ngIf="pagesList.length === 0">{{ \'message.no_page\' | translate }}</h5>\r\n\t\t\t\t\t<div class="page-list">\r\n\t\t\t\t\t\t<div class="page-item" *ngFor="let page of pagesList | myCustomFilter: [\'name\']: pageNameSearch">\r\n\t\t\t\t\t\t\t<div class="inner-wrapper" [ngClass]="{ \'selected\': page.id === selectedPageId }" (click)="setSelectedPage($event, page)">\r\n\t\t\t\t\t\t\t\t{{ page.name }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t</div>\r\n\t</div>\r\n\t</div>\r\n\t<div class="row mt-2">\r\n\t\t<div class="col-12">\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label>{{ \'element.text.ext_url_note\' | translate }}</label>\r\n\t\t\t\t<input type="text" class="form-control" [(ngModel)]="externalUrl" name="external_url" placeholder="{{ \'element.text.ext_url_ph\' | translate }}" />\r\n\t\t\t\t<small class="text-muted" [innerHTML]="\'element.text.ext_url_tip\' | translate"></small>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="form-busy-layer" [ngClass]="{ \'working\': isBusy }" >\r\n\t\t<span input-loader [size]="\'32px\'"></span>\r\n\t</div>\r\n</div>\r\n\r\n<div class="button-panel clearfix">\r\n\t<button type="button" class="btn btn-primary" ripple (click)="selectPage()">\r\n\t\t<i class="material-icons">check</i>\r\n\t\t<span>{{ \'button.select_page_url\' | translate }}</span>\r\n\t</button>\r\n</div>'},674:function(t,e){t.exports='<div class="row" [hidden]="!isUsingGlobalItemData">\r\n    <div class="col-12">\r\n        <span input-loader [size]="\'32px\'" [hidden]="globalItemsLoaded"></span>\r\n        <div class="form-group clearfix" [hidden]="!globalItemsLoaded">\r\n            <label for="txtTargetGlobalItem">{{ \'form.item.use_global_item_control_list\' | translate }}</label>\r\n            <div [hidden]="globalItemList.length <= 0">\r\n                <div [hidden]="selectedGlobalItemId">\r\n                    <input #typeaheadElem type="text" class="form-control" id="txtTargetGlobalItem"\r\n                           placeholder="{{ \'form.item.select_target_global\' | translate }} {{ currentComponentName }}"\r\n                           typeahead ([dataSource])="globalItemList"\r\n                           [itemValue]="\'id\'" [itemText]="\'name\'"\r\n                           [ddlPosition]="\'top\'"\r\n                           (onItemSelect)="selectTargetGlobalItem($event)" />\r\n                </div>\r\n                <div class="item-group float-left" [hidden]="!selectedGlobalItemId">\r\n                    <span class="text-block">{{ selectedGlobalItemName }}</span>\r\n                    <span class="icon-block" (click)="removeTargetGlobalItem($event)" role="delete">\r\n                        <i class="material-icons">delete</i>\r\n                    </span>\r\n                    <div class="float-left mgn-top-sm">\r\n                        <small class="block muted-text">{{ \'form.item.select_target_global_desc\' | translate }}</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div [hidden]="globalItemList.length > 0">\r\n                <div class="float-left mgn-top-sm">\r\n                    <span class="block text-danger">{{ \'form.item.selected_target_global_not_found\' | translate }}</span>\r\n                </div>\r\n                <div class="float-left mgn-top-sm">\r\n                    <small class="block muted-text">{{ \'form.item.select_target_global_desc\' | translate }}</small>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="row" [hidden]="isUsingGlobalItemData">\r\n\t<div class="col-12">\r\n\t\t<div class="row" *ngFor="let item of structureList; let idx = index; let isLast = last" for-end [isLast]="isLast" (onForEnd)="initCustomDirectives($event)">\r\n            \x3c!-- Textbox --\x3e\r\n            <div class="col-12 col-lg-10" *ngIf="item.element_type === \'TEXTBOX\'">\r\n                <div class="form-group" [ngClass]="{ \'has-danger\': item.error_field }">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n                    \x3c!--<input type="text" [name]="\'txtbox_elem_\' + idx" class="form-control" [(ngModel)]="item.option_value" placeholder="{{ item.name }}" />--\x3e\r\n\r\n                    <div text-prop [attr.data-name]="\'txtbox_elem_\' + idx"\r\n\t\t\t\t\t\t[txtboxName]="\'txtbox_elem_\' + idx"\r\n\t\t\t\t\t\t[cmpIndex]="idx"\r\n\t\t\t\t\t\t[placeholderText]="item.name"\r\n\t\t\t\t\t\t[initValue]="item.option_value"\r\n\t\t\t\t\t\t[propSetting]="item.element_value"\r\n\t\t\t\t\t\t(onValueChanged)="textValueHandler($event, item)"></div>\r\n                </div>                \r\n            </div>\r\n\r\n            \x3c!-- Multiline Text --\x3e\r\n            <div class="col-12 col-lg-10 col-xl-8" *ngIf="item.element_type === \'MULTILINE_TEXT\'">\r\n                <div class="form-group" [ngClass]="{ \'has-danger\': item.error_field }">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n                    <cmp-textarea [name]="\'item_detail_val_\' + idx" [itemModel]="item.option_value" [rows]="7"\r\n                        [placeholderText]="item.name" [itemSettings]="item.element_value"\r\n                        (onChange)="item.option_value = $event;"></cmp-textarea>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Richtext Editor --\x3e\r\n            <div class="col-12" *ngIf="item.element_type === \'RICHTEXT_EDITOR\'">\r\n                <div class="form-group" [ngClass]="{ \'has-danger\': item.error_field }">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n                    <textarea [attr.id]="\'item_detail_txteditor_\' + idx +\'_\' + item.variable_name"\r\n                        [(ngModel)]="item.option_value"\r\n                        text-editor\r\n                        [itemSettings]="item.element_value"\r\n                        [customOptions]="itemElementOption.textEditorOptions"\r\n                        (onEditorKeyup)="item.option_value = $event;" [manualInit]="true"></textarea>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- File Upload --\x3e\r\n            <div class="col-12 col-lg-10 col-xl-8" *ngIf="item.element_type === \'FILE_UPLOAD\'">\r\n                <div class="form-group" [ngClass]="{ \'has-danger\': item.error_field }">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n\r\n                    \x3c!-- Image --\x3e\r\n                    <div class="image-item-preview mgn-bottom-sm" *ngIf="item.type === \'image\' && !item.changed && item.info" [ngClass]="{ \'changing\': item.changing }">\r\n                        <div class="image-panel" *ngIf="!item.info.notFound">\r\n                            <span><img [src]="item.info.src" /></span>\r\n                            <span>\r\n                                <label>{{ \'image.size_info\' | translate }}</label>\r\n                                <h4>{{ item.info.width + \' x \' + item.info.height }}</h4>\r\n                            </span>\r\n                        </div>\r\n                        <div class="image-block-busy" [hidden]="!item.changing" >\r\n                            <span input-loader [size]="\'32px\'"></span>\r\n                        </div>\r\n                        <broken-image *ngIf="item.info.notFound"></broken-image>\r\n                    </div>\r\n\r\n                    \x3c!-- Other File --\x3e\r\n\t\t\t\t\t<div class="file-item-preview" *ngIf="item.option_value && item.type && item.type !== \'image\'">\r\n\t\t\t\t\t\t<i class="material-icons" *ngIf="item.type === \'video\'">movie</i>\r\n\t\t\t\t\t\t<i class="material-icons" *ngIf="item.type === \'file\'">insert_drive_file</i>\r\n\t\t\t\t\t\t<span class="filename">{{ item.option_value }}</span>\r\n\t\t\t\t\t</div>\r\n\r\n                    <button type="button" class="btn btn-secondary" (click)="selectAndUpload($event, item)">\r\n                        <i class="material-icons">file_upload</i>\r\n                        <span>{{ \'button.browse_and_select\' | translate }}</span>\r\n                    </button>\r\n                    <button type="button" class="btn btn-danger"\r\n\t\t\t\t\t\t*ngIf="item.option_value"\r\n\t\t\t\t\t\t(click)="removeFile($event, item)">\r\n\t\t\t\t\t\t<i class="material-icons">delete</i>\r\n\t\t\t\t\t\t<span>{{ \'element.file_upload.remove_file\' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n                    <div image-size-info [imageObjectOption]="item.element_value"></div>\r\n\r\n                    <div class="file-upload-changed-label" *ngIf="item.changed">\r\n                        <i class="material-icons">info_outline</i>\r\n                        {{ \'message.file_value_changed\' | translate }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Checkbox --\x3e\r\n            <div class="col-12 col-lg-10" *ngIf="item.element_type === \'CHECKBOX\'">\r\n                <div class="form-group" [ngClass]="{ \'has-danger\': item.error_field }">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n                    <input type="checkbox" [id]="\'chkbox_elem_\' + idx" name="\'chkbox_elem_\' + idx"\r\n                        class="inline-block"\r\n                        md-toggle [(ngModel)]="item.option_value"\r\n                        [initModel]="item.option_value"\r\n                        [checkedLabelText]="item.element_value | myElementSettingFilter: \'checkedText\'"\r\n                        [uncheckedLabelText]="item.element_value | myElementSettingFilter: \'uncheckedText\'"\r\n                        [labelPosition]="\'right\'" />\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Radio list --\x3e\r\n            <div class="col-12 col-lg-10" *ngIf="item.element_type === \'RADIO_LIST\' && item.element_value">\r\n                <div class="form-group" [ngClass]="{ \'has-danger\': item.error_field }">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n                    <div class="mgn-top-med" cmp-radio-group [radioGroupSettings]="item.element_value" [valueModel]="item.option_value" [rdoName]="\'rdo_group_\' + idx" (onChange)="item.option_value = $event;"></div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Dropdown --\x3e\r\n            <div class="col-12 col-md-8 col-lg-5" *ngIf="item.element_type === \'DROPDOWN\' && item.element_value">\r\n                <div class="form-group" [ngClass]="{ \'has-danger\': item.error_field }">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n                    <div class="mgn-top-sm" cmp-dropdown [dropdownSettings]="item.element_value" [valueModel]="item.option_value" [ddlName]="\'ddl_item_\' + idx" (onChange)="item.option_value = $event;"></div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Datetime --\x3e\r\n            <div class="col-12 col-md-10 col-lg-8" *ngIf="item.element_type === \'DATETIME\' && item.element_value">\r\n                <div class="form-group" [ngClass]="{ \'has-danger\': item.error_field }">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n                    <div custom-datetimepicker #datetimePicker\r\n                        [elemAttrs]="{ id: \'txtPropDateValue_\' + idx, name: \'txtPropDateValue_\' + idx }"\r\n                        [initDatetimeValue]="item.option_value"\r\n                        [datetimeSettings]="item.element_value"\r\n                        (datetimeChanged)="item.option_value = $event"></div>\r\n                </div>                \r\n            </div>\r\n\r\n            \x3c!-- Control List --\x3e\r\n            <div class="col-12 col-md-10 col-lg-8" *ngIf="item.element_type === \'CONTROL_LIST\'">\r\n                <div class="form-group">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n                    <button type="button" class="btn btn-info" ripple (click)="manageControlList($event, item)">\r\n                        <i class="material-icons">format_list_bulleted</i>\r\n                        <span>{{ \'form.item.manage_control_list\' | translate }}</span>\r\n                    </button>\r\n                    <small [hidden]="item.ctrl_list_count === 0" class="padd-left-med">{{ \'form.item.control_item_count\' | translate: { itemNumber: item.ctrl_list_count } }}</small>\r\n                </div>\r\n            </div>\r\n            \r\n            \x3c!-- Map Coordinate--\x3e\r\n            <div class="col-12" *ngIf="item.element_type === \'MAP_COORDINATE\'">\r\n                <div class="form-group">\r\n                    <label [ngClass]="{ \'required\': item.is_required }">{{ item.name }}</label>\r\n                    <map-coordinate-selector\r\n                        [cmpIndex]="idx"\r\n                        [initValue]="item.option_value"\r\n                        (onCoordChanged)="item.option_value = $event;"\r\n                        ></map-coordinate-selector>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\t</div>\r\n</div>\r\n<div class="button-panel clearfix">\r\n    <button type="button" class="btn btn-secondary" ripple (click)="confirmClose()">\r\n        <i class="material-icons">clear</i><span>{{ \'common.cancel\' | translate }}</span>\r\n    </button>\r\n    <button type="submit" class="btn btn-info" ripple (click)="saveAndClose()"\r\n            [disabled]="isUsingGlobalItemData && !selectedGlobalItemId && currentMode === \'CREATE\'">\r\n        <i class="material-icons">save</i><span>{{ \'common.save_close\' | translate }}</span>\r\n    </button>\r\n    <button type="submit" class="btn btn-primary" ripple (click)="saveValue()"\r\n            [disabled]="isUsingGlobalItemData && !selectedGlobalItemId && currentMode === \'CREATE\'">\r\n        <i class="material-icons">save</i><span>{{ \'common.save\' | translate }}</span>\r\n    </button>\r\n</div>'},675:function(t,e){t.exports='<div class="element-type-selector">\r\n\t<div class="row">\r\n\t\t<div class="col-12">\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label>{{ \'property_type.select_element\' | translate }}</label>\r\n\t\t\t\t<select class="form-control" [(ngModel)]="selectedElementType" name="elementType" (change)="changeElementType()">\r\n\t\t\t\t\t<option [ngValue]="\'\'">{{ \'property_type.select_element\' | translate }}</option>\r\n\t\t\t\t\t<option *ngFor="let item of elementList" [ngValue]="item.key">{{ item.itemName | translate }}</option>\r\n\t\t\t\t</select>\r\n\t\t\t\t<div class="mgn-top-sml" *ngIf="elementDescription" [innerHTML]="elementDescription | translate"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="col-12">\r\n\t\t\t<div [hidden]="selectedElementType !== elementKey.TEXTBOX">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="ddlTextboxHelpers">{{ \'property_type.textfield_helper\' | translate }}</label>\r\n\t\t\t\t\t<select id="ddlTextboxHelpers" class="form-control" name="textbox_helper"\r\n\t\t\t\t\t\t[(ngModel)]="_selectedTextboxHelper">\r\n\t\t\t\t\t\t<option *ngFor="let item of textboxHelperList" [value]="item.value">{{ item.text | translate }}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div *ngIf="_selectedTextboxHelper === \'\'">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label for="">Select heading tag (optional)</label>\r\n\t\t\t\t\t\t<input type="checkbox" id="headingTag" name="headingTag"\r\n\t\t\t\t\t\t\t\tclass="inline-block"\r\n\t\t\t\t\t\t\t\tmd-toggle [(ngModel)]="headingTagEnabled"\r\n\t\t\t\t\t\t\t\t[initModel]="headingTagEnabled"\r\n\t\t\t\t\t\t\t\t[checkedLabelText]="\'common.yes\'"\r\n\t\t\t\t\t\t\t\t[uncheckedLabelText]="\'common.no\'"\r\n\t\t\t\t\t\t\t\t[labelPosition]="\'right\'" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div [hidden]="selectedElementType !== elementKey.DATETIME">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="ddlDatetimeFormatType">{{ \'element.datetime.select_datetime_format\' | translate }}</label>\r\n\t\t\t\t\t<select name="ddlDatetimeFormatType" id="ddlDatetimeFormatType" class="form-control" [(ngModel)]="dateTimeFormatType">\r\n\t\t\t\t\t\t<option *ngFor="let item of datetimeOptions" [value]="item.value">{{ item.text | translate }}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div *ngIf="selectedElementType === elementKey.CHECKBOX">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label>{{ \'property_type.checkbox_checked_text\' | translate }}</label>\r\n\t\t\t\t\t<input type="text" class="form-control" name="chkListCheckedText"\r\n\t\t\t\t\t\t[(ngModel)]="_ctrlChkboxListItem.checkedText" placeholder="{{ \'property_type.checkbox_checked_text\' | translate }}" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label>{{ \'property_type.checkbox_unchecked_text\' | translate }}</label>\r\n\t\t\t\t\t<input type="text" class="form-control" name="chkListUncheckedText"\r\n\t\t\t\t\t\t[(ngModel)]="_ctrlChkboxListItem.uncheckedText" placeholder="{{ \'property_type.checkbox_unchecked_text\' | translate }}" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div *ngIf="selectedElementType === elementKey.RADIO_LIST">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label>{{ \'property_type.radio_desc\' | translate }}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="property-value-area">\r\n\t\t\t\t\t<div class="form-panel">\r\n\t\t\t\t\t\t<form #addRadioListForm="ngForm" novalidate (ngSubmit)="addRadioItemList()">\r\n\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\r\n\t\t\t\t\t\t\t\t<label>{{ \'property_type.ddl_item_desc\' | translate }}</label>\r\n\t\t\t\t\t\t\t\t<div class="input-group">\r\n\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" id="txtRdoCheckedValue" name="txtRdoCheckedValue"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="_ctrlRadioListItem.value" placeholder="{{ \'property_type.radio_value\' | translate }}"\r\n\t\t\t\t\t\t\t\t\t\trequired />\r\n\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" name="txtRdoLabel"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="_ctrlRadioListItem.label" placeholder="{{ \'property_type.radio_label\' | translate }}" />\r\n\t\t\t\t\t\t\t\t\t<span class="input-group-btn">\r\n\t\t\t\t\t\t\t\t\t\t<button class="btn btn-secondary no-shadow" type="submit" ripple [disabled]="!addRadioListForm.valid">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class="material-icons only-icon">add</i>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ol class="ddl-item-list-wrapper" *ngIf="_ctrlRadioList.length > 0">\r\n\t\t\t\t\t\t<li *ngFor="let item of _ctrlRadioList; let idx = index">\r\n\t\t\t\t\t\t\t<div class="input-group">\r\n\t\t\t\t\t\t\t\t<input type="text" class="form-control" [name]="\'rdoItem_\' + idx +\'_value\'"\r\n\t\t\t\t\t\t\t\t\t[(ngModel)]="item.value" placeholder="{{ \'property_type.radio_value\' | translate }}" />\r\n\t\t\t\t\t\t\t\t<input type="text" class="form-control" [name]="\'rdoItem_\' + idx +\'_label\'"\r\n\t\t\t\t\t\t\t\t\t[(ngModel)]="item.label" placeholder="{{ \'property_type.radio_label\' | translate }}" />\r\n\t\t\t\t\t\t\t\t<span class="input-group-btn">\r\n\t\t\t\t\t\t\t\t\t<button class="btn btn-secondary no-shadow" type="button" ripple (click)="removeRadioItem(item)">\r\n\t\t\t\t\t\t\t\t\t\t<i class="material-icons only-icon">delete</i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div *ngIf="selectedElementType === elementKey.DROPDOWN">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label>{{ \'property_type.desc_dropdown\' | translate }}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="property-value-area">\r\n\t\t\t\t\t<div class="form-panel">\r\n\t\t\t\t\t\t<form #addOptionForm="ngForm" novalidate (ngSubmit)="addDropdownValueList()">\r\n\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\r\n\t\t\t\t\t\t\t\t<label>{{ \'property_type.ddl_item_desc\' | translate }}</label>\r\n\t\t\t\t\t\t\t\t<div class="input-group">\r\n\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" name="ddlItemText" [(ngModel)]="dropdownItemFormObj.text" placeholder="{{ \'property_type.ddl_text_ph\' | translate }}" required />\r\n\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" name="ddlItemValue" [(ngModel)]="dropdownItemFormObj.value" placeholder="{{ \'property_type.ddl_value_ph\' | translate }}" required />\r\n\t\t\t\t\t\t\t\t\t<span class="input-group-btn">\r\n\t\t\t\t\t\t\t\t\t\t<button class="btn btn-secondary no-shadow" type="submit" ripple [disabled]="!addOptionForm.valid">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class="material-icons only-icon">add</i>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ol class="ddl-item-list-wrapper" *ngIf="dropdownItemList.length > 0">\r\n\t\t\t\t\t\t<li *ngFor="let item of dropdownItemList">\r\n\t\t\t\t\t\t\t<div class="input-group">\r\n\t\t\t\t\t\t\t\t<input type="text" class="form-control" placeholder="{{ \'property_type.ddl_text_ph\' | translate }}" [(ngModel)]="item.text" />\r\n\t\t\t\t\t\t\t\t<input type="text" class="form-control" placeholder="{{ \'property_type.ddl_value_ph\' | translate }}" [(ngModel)]="item.value" />\r\n\t\t\t\t\t\t\t\t<span class="input-group-btn">\r\n\t\t\t\t\t\t\t\t\t<button class="btn btn-secondary no-shadow" type="button" ripple (click)="removeDropdownItem(item)">\r\n\t\t\t\t\t\t\t\t\t\t<i class="material-icons only-icon">delete</i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div *ngIf="selectedElementType === elementKey.FILE_UPLOAD">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="txtAllowedFileFormat">{{ \'property_type.allowed_format_label\' | translate }}</label>\r\n\t\t\t\t\t<select class="form-control" name="file_upload_format" [(ngModel)]="selectedFileUploadFormat" (change)="fileUploadFormatChanged()">\r\n\t\t\t\t\t\t<option [value]="\'\'">{{ \'property_type.allow_any_format\' | translate }}</option>\r\n\t\t\t\t\t\t<option *ngFor="let item of formatFileList" [value]="item.value">{{ item.text }}</option>\r\n\t\t\t\t\t\t<option [value]="\'CUSTOM\'">{{ \'property_type.other_format\' | translate }}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<div *ngIf="selectedFileUploadFormat === \'CUSTOM\'">\r\n\t\t\t\t\t\t<input id="txtAllowedFileFormat" type="text" class="form-control" [(ngModel)]="allowedfileExtensions" />\r\n\t\t\t\t\t\t<small>{{ \'property_type.allowed_format_desc\' | translate }}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="row">\r\n\t\t\t\t\t\t<div class="col-6 col-xl-4">\r\n\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom mgn-top-med">\r\n\t\t\t\t\t\t\t\t<label>{{ \'element.file_upload.max_file_size\' | translate }}</label>\r\n\t\t\t\t\t\t\t\t<input type="number" class="form-control" placeholder="{{ \'element.file_upload.max_file_size\' | translate }}"\r\n\t\t\t\t\t\t\t\t\tname="maxFileSize" [(ngModel)]="imageSizeObj.size" number-only\r\n\t\t\t\t\t\t\t\t\t[disabled]="fileSizeFixed" min="0" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="col-12">\r\n\t\t\t\t\t\t\t<small class="muted-text" *ngIf="fileSizeFixed">{{ \'element.file_upload.max_image_size_fixed\' | translate: { max_image_size: maxImageSize} }}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf="selectedFileUploadFormat.indexOf(\'.jpg,.jpeg,.png,.gif\') > -1" class="mgn-top-xmed">\r\n\t\t\t\t\t\t<div class="row">\r\n\t\t\t\t\t\t\t<div class="col-6">\r\n\t\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\r\n\t\t\t\t\t\t\t\t\t<label>{{ \'element.file_upload.max_image_width\' | translate }}</label>\r\n\t\t\t\t\t\t\t\t\t<input type="number" class="form-control" placeholder="{{ \'element.file_upload.max_image_width\' | translate }}"\r\n\t\t\t\t\t\t\t\t\t\tname="imageMaxWidth" [(ngModel)]="imageSizeObj.width" number-only min="0" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="col-6">\r\n\t\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\r\n\t\t\t\t\t\t\t\t\t<label>{{ \'element.file_upload.max_image_height\' | translate }}</label>\r\n\t\t\t\t\t\t\t\t\t<input type="number" class="form-control" placeholder="{{ \'element.file_upload.max_image_height\' | translate }}"\r\n\t\t\t\t\t\t\t\t\t\tname="imageMaxHeight" [(ngModel)]="imageSizeObj.height" number-only />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="col-12">\r\n\t\t\t\t\t\t\t\t<small class="block muted-text mgn-bottom-xlg">{{ \'element.file_upload.dimension_tip\' | translate }}</small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="col-6 col-md-4 col-xl-3">\r\n\t\t\t\t\t\t\t\t<div class="form-group no-mgn-bottom">\r\n\t\t\t\t\t\t\t\t\t<label>{{ \'element.file_upload.image_ratio\' | translate }}</label>\r\n\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" placeholder="{{ \'element.file_upload.image_ratio\' | translate }}" name="imageRatio" maxlength="7" [(ngModel)]="imageSizeObj.ratio" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="col-12">\r\n\t\t\t\t\t\t\t\t<small class="muted-text">{{ \'element.file_upload.ratio_tip\' | translate }}</small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div *ngIf="selectedElementType === elementKey.MULTILINE_TEXT">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label>{{ \'element.multiline_text.code_format\' | translate }}</label>\r\n\t\t\t\t\t<input type="checkbox" id="multilineCodeFormat" name="multilineCodeFormat"\r\n\t\t\t\t\t\t\tclass="inline-block"\r\n\t\t\t\t\t\t\tmd-toggle [(ngModel)]="multiLineScriptFormat"\r\n\t\t\t\t\t\t\t[initModel]="multiLineScriptFormat"\r\n\t\t\t\t\t\t\t[checkedLabelText]="\'common.yes\'"\r\n\t\t\t\t\t\t\t[uncheckedLabelText]="\'common.no\'"\r\n\t\t\t\t\t\t\t[labelPosition]="\'right\'" />\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<small class="muted-text">{{ \'element.multiline_text.code_format_tip\' | translate }}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label>{{ \'common.max_length\' | translate }}</label>\r\n\t\t\t\t\t<input type="number" id="txaMaxLength" name="txaMaxLength"\r\n\t\t\t\t\t\tclass="form-control" [(ngModel)]="_txaMaxLength" number-only />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div *ngIf="selectedElementType === elementKey.RICHTEXT_EDITOR">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label>{{ \'common.max_length\' | translate }}</label>\r\n\t\t\t\t\t<input type="number" id="rteMaxLength" name="rteMaxLength"\r\n\t\t\t\t\t\tclass="form-control" [(ngModel)]="_rteMaxLength" number-only />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div [hidden]="selectedElementType !== elementKey.CONTROL_LIST">\r\n\t\t\t\t<span input-loader [size]="\'32px\'" [hidden]="controlsLoaded"></span>\r\n\t\t\t\t<div class="form-group clearfix" [hidden]="!controlsLoaded">\r\n\t\t\t\t\t<label for="txtTargetCtrl" [hidden]="selectedControlId">{{ \'form.item.use_control\' | translate }}</label>\r\n\t\t\t\t\t<div [hidden]="selectedControlId">\r\n\t\t\t\t\t\t<input #typeaheadElem type="text" class="form-control" id="txtTargetCtrl"\r\n\t\t\t\t\t\t\tplaceholder="{{ \'form.item.select_target_control\' | translate }}"\r\n\t\t\t\t\t\t\ttypeahead ([dataSource])="controlList"\r\n\t\t\t\t\t\t\t[itemValue]="\'id\'" [itemText]="\'name\'"\r\n\t\t\t\t\t\t\t[ddlPosition]="\'top\'"\r\n\t\t\t\t\t\t\t(onItemSelect)="selectTargetControl($event)" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="item-group float-left" [hidden]="!selectedControlId">\r\n\t\t\t\t\t\t<span class="text-block">{{ selectedControlName }}</span>\r\n\t\t\t\t\t\t<span class="icon-block" (click)="removeTargetCtrl($event)" role="delete">\r\n\t\t\t\t\t\t\t<i class="material-icons">delete</i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<div class="float-left mgn-top-sm">\r\n\t\t\t\t\t\t\t<small class="block muted-text">{{ \'form.item.select_target_control_desc\' | translate }}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n                <div class="form-group row clearfix" [hidden]="!_showPaginationOption || (!controlsLoaded || !selectedControlId)">\r\n                    <div class="row col-12 clearfix">\r\n                        <div class="col-6">\r\n                            <label for="chkTargetCtrlPagination">{{ \'form.item.control_list_pagination\' | translate }}</label>\r\n                            <div>\r\n                                <input type="checkbox" id="chkTargetCtrlPagination" name="chkTargetCtrlPagination" class="inline-block" md-toggle [(ngModel)]="paginationEnabled"\r\n                                       [initModel]="paginationEnabled" [checkedLabelText]="\'form.item.control_list_pagination_enabled\' | translate"\r\n                                       (change)="loadPaginationTemplates()"\r\n                                       [uncheckedLabelText]="\'form.item.control_list_pagination_disabled\' | translate" [labelPosition]="\'right\'" />\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-6" [hidden]="!paginationEnabled">\r\n                            <label for="txtTargetCtrlPaginationPerPage">{{ \'form.item.control_list_pagination_per_page\' | translate }}</label>\r\n                            <div>\r\n                                <input type="number" class="form-control" id="txtTargetCtrlPaginationPerPage" name="txtTargetCtrlPaginationPerPage" [(ngModel)]="paginationPerPage"\r\n                                       [placeholder]="\'form.item.control_list_pagination_per_page\' | translate" />\r\n                            </div>\r\n\t\t\t\t\t\t</div>\r\n                    </div>\r\n                    <div class="form-group">\r\n\t\t\t\t\t\t<div class="col-12" [hidden]="!paginationEnabled">\r\n\t\t\t\t\t\t\t<label for="txtTargetCtrlPaginationTemplate">{{ \'form.item.control_list_pagination_paginator_template\' | translate }}</label>\r\n\t\t\t\t\t\t\t<div [hidden]="selectedPaginationTemplate">\r\n\t\t\t\t\t\t\t\t<input #typeaheadElem type="text" class="form-control" id="txtTargetCtrlPaginationTemplate"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder="{{ \'form.item.control_list_pagination_paginator_template_placeholder\' | translate }}"\r\n\t\t\t\t\t\t\t\t\t\ttypeahead ([dataSource])="paginationTemplates"\r\n\t\t\t\t\t\t\t\t\t\t[itemValue]="\'id\'" [itemText]="\'name\'"\r\n\t\t\t\t\t\t\t\t\t\t[ddlPosition]="\'top\'"\r\n\t\t\t\t\t\t\t\t\t\t(onItemSelect)="selectPaginationTemplate($event)" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="item-group float-left" [hidden]="!selectedPaginationTemplate">\r\n\t\t\t\t\t\t\t\t<span class="text-block">{{ selectedPaginationTemplate }}</span>\r\n\t\t\t\t\t\t\t\t<span class="icon-block" (click)="removeTargetPaginationTemplateCtrl($event)" role="delete">\r\n\t\t\t\t\t\t\t\t\t<i class="material-icons">delete</i>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="col-12">\r\n\t\t\t\t\t\t\t<div class="float-left mgn-top-sm">\r\n\t\t\t\t\t\t\t\t<small class="block muted-text">{{ \'form.item.control_list_pagination_desc\' | translate }}</small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<div class="col-12">\r\n\t\t\t\t\t\t\t<label>Filter Options</label>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input type="checkbox"class="inline-block" md-toggle \r\n\t\t\t\t\t\t\t\t\t[initModel]="filterEnabled"\r\n\t\t\t\t\t\t\t\t\t[(ngModel)]="filterEnabled"   \r\n\t\t\t\t\t\t\t\t\t[checkedLabelText]="\'form.item.control_list_pagination_enabled\' | translate"\r\n\t\t\t\t\t\t\t\t\t[uncheckedLabelText]="\'form.item.control_list_pagination_disabled\' | translate" [labelPosition]="\'right\'"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n                </div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="button-panel mgn-top-med clearfix">\r\n\t\t<button type="button" class="btn btn-primary" ripple (click)="setElementToProperty()"\r\n\t\t\t[disabled]="!selectedElementType ||\r\n\t\t\t\t(selectedElementType === elementKey.DROPDOWN && dropdownItemList.length === 0) ||\r\n\t\t\t\t(selectedElementType === elementKey.RADIO_LIST && _ctrlRadioList.length < 2) ||\r\n\t\t\t\t(selectedElementType === elementKey.CONTROL_LIST && !selectedControlId || (paginationEnabled && (paginationPerPage < 0 || !selectedPaginationTemplate)))">\r\n\t\t\t<i class="material-icons">check</i><span>{{ \'common.set_element\' | translate }}</span>\r\n\t\t</button>\r\n\t</div>\r\n</div>\r\n'},676:function(t,e){t.exports='<div class="menu-wrapper" *ngIf="_userLevel && _userLevel.length > 0">\r\n\t<span class="parent-menu-item single-item height-auto padd-normal plain-box no-click" *ngIf="_userLevel.indexOf(\'STRUCTURE\') > -1 && _userLevel.indexOf(\'CONTENT\') > -1">\r\n\t\t<small>{{ \'message.app_mode_label\' | translate }}</small>\r\n\t\t<h4 *ngIf="_currentWorkingMode == _workMode.content">{{ \'menu.content_mode\' | translate }}</h4>\r\n\t\t<h4 *ngIf="_currentWorkingMode == _workMode.structure">{{ \'menu.structure_mode\' | translate }}</h4>\r\n\t\t<a class="switch-app-mode-button" *ngIf="_userLevel.indexOf(\'STRUCTURE\') > -1 && _userLevel.indexOf(\'CONTENT\') > -1" (click)="switchMode()">\r\n\t\t\t<span *ngIf="_currentWorkingMode == _workMode.content">{{ \'message.switch_to\' | translate }} {{ \'menu.structure_mode\' | translate }}</span>\r\n\t\t\t<span *ngIf="_currentWorkingMode == _workMode.structure">{{ \'message.switch_to\' | translate }} {{ \'menu.content_mode\' | translate }}</span>\r\n\t\t</a>\r\n\t</span>\r\n\r\n\t<a class="parent-menu-item single-item" [routerLink]="[\'/\']" *ngIf="_currentWorkingMode == _workMode.content">\r\n\t\t<i class="ico material-icons">dashboard</i> {{ \'menu.dashboard\' | translate }}\r\n\t</a>\r\n\r\n\t<ul>\r\n\t\t<li *ngFor="let parentItem of mainMenu | mySidebarMenuFilter: _userLevel: _currentWorkingMode; let idx = index; let parentLast = last;">\r\n\t\t\t<div *ngIf="parentItem.visible_mode[0] === _workMode.structure || _siteList.length > 0" >\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<div class="parent-menu-item expanded" (click)="toggleMenu($event)" [attr.data-menu-index]="idx">\r\n\t\t\t\t\t<i class="ico material-icons">{{ parentItem.menu_group_icon }}</i> {{ parentItem.menu_group_name | translate }}\r\n\t\t\t\t\t<i class="collapse-ico material-icons">keyboard_arrow_right</i>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<ul *ngIf="parentItem.sub_menu && parentItem.sub_menu.length > 0">\r\n\t\t\t\t\t<li *ngFor="let subItem of parentItem.sub_menu | mySidebarMenuFilter: _userLevel: _currentWorkingMode: true; let isLast = last" for-end [isLast]="isLast" (onForEnd)="menuRenderHandler($event, idx)">\r\n\t\t\t\t\t\t<a class="menu-item" [routerLink]="[subItem.menu_link]" [routerLinkActive]="[\'active\']">\r\n\t\t\t\t\t\t\t<i class="ico material-icons">{{ subItem.menu_icon }}</i>  {{ subItem.menu_name | translate }}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<hr *ngIf="parentLast" />\r\n\t\t</li>\r\n\t</ul>\r\n\r\n\t<div class="sidenav-error-block" *ngIf="_currentWorkingMode === _workMode.content && _siteList.length === 0" >\r\n\t\t{{ \'message.no_site_warning\' | translate }}\r\n\t</div>\r\n\r\n\t\x3c!--<div class="search-box-wrapper" *ngIf="_currentWorkingMode == _workMode.content && _siteList.length > 0">\r\n\t\t<form #searchForm="ngForm" (ngSubmit)="onSearchSubmit()" novalidate>\r\n\t\t\t<div class="form-group no-mgn-bottom" [hidden]="!searchFormDisplayed">\r\n\t\t\t\t<input type="search" name="search_key" [(ngModel)]="searchKey" class="form-control" placeholder="{{ \'message.global_search_placeholder\' | translate }}" />\r\n\t\t\t</div>\r\n\t\t\t<div class="form-group no-mgn-bottom" [ngClass]="{ \'mgn-top-med\': searchFormDisplayed }">\r\n\t\t\t\t<label [hidden]="searchFormDisplayed">{{ \'message.global_search_label\' | translate }}</label>\r\n\t\t\t\t<button type="submit" class="btn btn-primary" ripple>\r\n\t\t\t\t\t<i class="material-icons">search</i>\r\n\t\t\t\t\t<span>{{ \'common.search\' | translate }}</span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type="button" class="btn btn-secondary" ripple [hidden]="!searchFormDisplayed" (click)="closeSearch()">\r\n\t\t\t\t\t<i class="material-icons">clear</i>\r\n\t\t\t\t\t<span>{{ \'common.cancel\' | translate }}</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\t\t\r\n\t</div>--\x3e\r\n\r\n\t<div class="sidenav-cms-logo-box" *ngIf="cmsLogoImage">\r\n\t\t<img [src]="cmsLogoImage" alt="CMS Logo" />\r\n\t</div>\r\n</div>\r\n'},677:function(t,e){t.exports='<div class="snack-bar {{ _type }}" *ngIf="_message" [ngClass]="{ \'displayed\': _show }">\r\n\t<div class="message">\r\n\t\t<i class="material-icons type-icon" *ngIf="_type === \'success\'">done</i>\r\n\t\t<i class="material-icons type-icon" *ngIf="_type === \'error\'">report_problem</i>\r\n\t\t<i class="material-icons type-icon" *ngIf="_type === \'warning\'">warning</i>\r\n\t\t<span class="message-body">{{ _message | translate }}</span>\r\n\t</div>\r\n\t<div class="close-btn" (click)="close()"><i class="material-icons">clear</i></div>\r\n</div>'},73:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(12),o=a(67),l=a(35),s=a(16),c=a(27);a.d(e,"a",(function(){return d}));var d=(function(){function t(t,e,a,n,r,l){this._cmn=e,this._zone=a,this._resolver=n,this._dlg=r,this._translate=l,this.onEditorInit=new i.F,this.onEditorKeyup=new i.F,this.manualInit=!1,this.customOptions={},this.initMaxLength=0,this.uploadPath=s.a.domain+"/",this._maxLength=0,this._currentLength=0,this.$elem=$(t.nativeElement);var c=["cmp-file-uploader"],d=this._cmn.getComponentFactory(c);this._fileUploaderCmpFactory=d["cmp-file-uploader"]||this._resolver.resolveComponentFactory(o.a)}return t.prototype.ngOnInit=function(){"assets/tinymce"!==tinyMCE.baseURL&&(tinyMCE.baseURL="assets/tinymce"),this.manualInit||this.initPlugin(),this.itemSettings&&("string"==typeof this.itemSettings&&/^\{/g.test(this.itemSettings)&&(this.itemSettings=JSON.parse(this.itemSettings)),this._maxLength=this.itemSettings.maxLength||0),this.initMaxLength&&(this._maxLength=this.initMaxLength)},t.prototype.ngOnDestroy=function(){tinymce.remove(this.editor)},t.prototype.initPlugin=function(){var t=this,e={content_css:["https://fonts.googleapis.com/css?family=Roboto:300,400,700","/system/assets/css/tinymce-custom-styles.css"],plugins:"image link preview template code lists advlist  textcolor colorpicker textpattern paste",theme:"modern",skin:"default",menubar:!1,height:200,file_browser_callback:function(e,a,n,i){t._zone.run((function(){t.openFileBrowser(e,a,n,i)}))},setup:function(e){t.editor=e,e.on("init",(function(){t.onEditorInit.emit(!0),t._zone.run((function(){t._maxLength&&0===t.$elem.next("small").length&&t._translate.get("element.richtext.maxlength_cap",{maxlength:t._maxLength}).subscribe((function(e){$('<small class="text-muted">'+e+"</small>").insertAfter(t.$elem)}))}))})),e.on("keydown",(function(e){return[37,38,39,40,46,8].indexOf(e.keyCode)>-1||(!t._maxLength||t._currentLength!==t._maxLength)&&void 0})),e.on("keyup",(function(){var a=e.getContent(),n=$("<div></div>").html(a).text();n=n.replace(/(\r\n|\n|\r)/gm,""),t.onEditorKeyup.emit(a),t._currentLength=n.length})),e.on("blur",(function(a){var n=e.getContent();t.onEditorKeyup.emit(n)}))}};this.customOptions&&(e=Object.assign({},e,this.customOptions)),this.$elem.tinymce(e)},t.prototype.changeContent=function(t){"string"==typeof t&&this.editor&&this.editor.setContent(t)},t.prototype.applySettings=function(t){t&&(this._maxLength=t.maxLength||0)},t.prototype.openFileBrowser=function(t,e,a,n){var i=this,r=".jpg,.jpeg,.png,.gif";"file"===a&&(r=".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx");var o={title:{key:"dialog.file_upload"},expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._fileUploaderCmpFactory,dialogData:{noUploadFeature:!1,acceptedFormat:r},afterClose:function(e){if(e&&e.selectedFile){var a=i._cmn.getCurrentInfo(),r=a.siteDomain||"";r?(/^(https?:\/\/)/g.test(r)||(r="http://"+r),/(\/)$/g.test(r)||(r+="/")):r=i.uploadPath;var o=(e.selectedFile,""+r+e.selectedFile.replace(/([.]\/)/g,""));n.document.getElementById(t).value=o}}};this._dlg.open(o)},n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onEditorInit",void 0),n.b([a.i(i._5)(),n.c("design:type",Object)],t.prototype,"onEditorKeyup",void 0),n.b([a.i(i.O)("manualInit"),n.c("design:type",Boolean)],t.prototype,"manualInit",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"customOptions",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"initMaxLength",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"itemSettings",void 0),t=n.b([a.i(i.J)({selector:"[text-editor]"}),n.c("design:paramtypes",[i.M,r.a,i.k,i.Q,l.a,c.d])],t)})()},75:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(27),o=a(9);a.d(e,"a",(function(){return l}));var l=(function(){function t(t,e,a){var n=this;this.zone=e,this._translate=a,this.dataSource=[],this.itemText="",this.itemValue="",this.ddlPosition="bottom",this.allowAddNew=!1,this.showAllOnEmpty=!1,this.formatNewItem="",this.itemTemplate="",this.searchMinLength=1,this.limitItem=30,this.maxItemShow=4,this.simpleMatch=!1,this.onItemSelect=new i.F,this.isInit=!1,this.inputValue="",this.initialOptions={},this.inputElem=$(t.nativeElement),this.substringMatcher=function(t){return function(e,a){var i,r;i=[],r=new RegExp(e,"i"),t.map((function(t){r.test(t[n.itemText])&&i.push(t)})),a(i)}}}return t.prototype.ngOnInit=function(){this.initPlugin()},t.prototype.initPlugin=function(t){var e=this;if(t&&(this.dataSource=t),this.dataSource&&this.itemText&&this.itemValue){var a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace(""+this.itemText),queryTokenizer:Bloodhound.tokenizers.whitespace,local:this.dataSource}),n=["typeahead.no_item","typeahead.no_item_add_new"];this._translate.get(n).subscribe((function(t){e.inputElem.off("typeahead:render").on("typeahead:render",(function(t,a){"top"===e.ddlPosition?e.inputElem.closest(".twitter-typeahead").hasClass("pos-top")||e.inputElem.closest(".twitter-typeahead").addClass("pos-top"):e.inputElem.closest(".twitter-typeahead").hasClass("pos-top")&&e.inputElem.closest(".twitter-typeahead").removeClass("pos-top"),e.isInit||(e.isInit=!0)})),e.inputElem.off("typeahead:select").on("typeahead:select",(function(t,a){e.onItemSelect.emit(a),e.inputElem.typeahead("val","")})),e.initialOptions={name:"typeaheadDataset",display:e.itemText,limit:e.limitItem||30,templates:{notFound:function(){return""}}},e.itemTemplate&&(e.initialOptions.templates.suggestion=function(t){var a=e.itemTemplate.match(/(\{[a-z]+\})/gi),n=e.itemTemplate,i="";if(0===a.length)return"";var r=[];a.forEach((function(e){var a=e.replace(/(\{)/,"").replace(/(\})/,"");i=a,t[a]&&r.indexOf(t[a])<0&&r.push({varName:a,valueKey:t[a]})}));var o=Object.assign([],r.map((function(t){return t.valueKey})));return e._translate.get(o).subscribe((function(t){r.forEach((function(e){var a=new RegExp("{"+e.varName+"}","gi");n=n.replace(a,t[e.valueKey])}))})),n}),e.simpleMatch?e.initialOptions.source=e.substringMatcher(e.dataSource):e.showAllOnEmpty?e.initialOptions.source=function(t,e){""===t?e(a.all()):a.search(t,e)}:e.initialOptions.source=a,e.inputElem.typeahead({classNames:"custom-typeahead",minLength:e.showAllOnEmpty?0:e.searchMinLength||3},e.initialOptions),setTimeout((function(){e.inputElem.parent().closest(".twitter-typeahead").find(".tt-menu").addClass("max-item-show-"+e.maxItemShow)}),10),e.allowAddNew&&e.inputElem.off("keyup.custom-typeahead").on("keyup.custom-typeahead",(function(t){if(13===(t.which||t.keyCode)&&(t.preventDefault(),t.stopImmediatePropagation(),e.inputElem.parent().nextAll(".tt-menu").first().hasClass("tt-empty")&&e.inputElem.val())){var n={},i=e.inputElem.val();"UPPERCASE_VAR"===e.formatNewItem&&(i=i.replace(/( )/g,"_").toUpperCase()),"LOWERCASE_VAR"===e.formatNewItem&&(i=i.replace(/( )/g,"_").toLowerCase()),a.local.length>0?0===a.local.filter((function(t){return t[e.itemText].toUpperCase().indexOf(n)===i})).length&&(n[e.itemValue]=i.toLowerCase()+"_"+o.b.categoryItemToken,n[e.itemText]=i,a.add([n]),e.onItemSelect.emit(n),e.inputElem.typeahead("val",""),e.inputElem.typeahead("close")):(n[e.itemValue]=i.toLowerCase()+"_"+o.b.categoryItemToken,n[e.itemText]=i,a.add([n]),e.onItemSelect.emit(n),e.inputElem.typeahead("val",""),e.inputElem.typeahead("close"))}}))}))}},t.prototype.changeDatasource=function(t){t&&(this.isInit?(this.inputElem.typeahead("destroy"),this.initPlugin(t)):this.initPlugin(t))},n.b([a.i(i.O)("dataSource"),n.c("design:type",Array)],t.prototype,"dataSource",void 0),n.b([a.i(i.O)("itemText"),n.c("design:type",String)],t.prototype,"itemText",void 0),n.b([a.i(i.O)("itemValue"),n.c("design:type",String)],t.prototype,"itemValue",void 0),n.b([a.i(i.O)("ddlPosition"),n.c("design:type",String)],t.prototype,"ddlPosition",void 0),n.b([a.i(i.O)(),n.c("design:type",Boolean)],t.prototype,"allowAddNew",void 0),n.b([a.i(i.O)(),n.c("design:type",Boolean)],t.prototype,"showAllOnEmpty",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"formatNewItem",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"itemTemplate",void 0),n.b([a.i(i.O)(),n.c("design:type",Number)],t.prototype,"searchMinLength",void 0),n.b([a.i(i.O)(),n.c("design:type",Number)],t.prototype,"limitItem",void 0),n.b([a.i(i.O)(),n.c("design:type",Number)],t.prototype,"maxItemShow",void 0),n.b([a.i(i.O)(),n.c("design:type",Boolean)],t.prototype,"simpleMatch",void 0),n.b([a.i(i._5)("onItemSelect"),n.c("design:type",i.F)],t.prototype,"onItemSelect",void 0),t=n.b([a.i(i.J)({selector:"[typeahead]",exportAs:"typeaheadDirective"}),n.c("design:paramtypes",[i.M,i.k,r.d])],t)})()},9:function(t,e,a){"use strict";a.d(e,"o",(function(){return n})),a.d(e,"j",(function(){return i})),a.d(e,"z",(function(){return r})),a.d(e,"n",(function(){return o})),a.d(e,"y",(function(){return l})),a.d(e,"e",(function(){return s})),a.d(e,"c",(function(){return c})),a.d(e,"B",(function(){return d})),a.d(e,"b",(function(){return p})),a.d(e,"m",(function(){return m})),a.d(e,"a",(function(){return u})),a.d(e,"f",(function(){return g})),a.d(e,"k",(function(){return h})),a.d(e,"A",(function(){return A})),a.d(e,"x",(function(){return _})),a.d(e,"l",(function(){return f})),a.d(e,"q",(function(){return b})),a.d(e,"d",(function(){return v})),a.d(e,"p",(function(){return y})),a.d(e,"t",(function(){return I})),a.d(e,"v",(function(){return O})),a.d(e,"u",(function(){return T})),a.d(e,"h",(function(){return C})),a.d(e,"i",(function(){return E})),a.d(e,"r",(function(){return S})),a.d(e,"w",(function(){return x})),a.d(e,"s",(function(){return L})),a.d(e,"g",(function(){return k}));var n="data:image/gif;base64,R0lGODlhJgAmAPcAAAAAAAEBAQICAgMDAwQEBAUFBQYGBgcHBwgICAkJCQoKCgsLCwwMDA0NDQ4ODg8PDxAQEBERERISEhMTExQUFBUVFRYWFhcXFxgYGBkZGRoaGhsbGxwcHB0dHR4eHh8fHyAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaWltbW1xcXF1dXV5eXl9fX2BgYGFhYWJiYmNjY2RkZGVlZWZmZmdnZ2hoaGlpaWpqamtsbG1ubm9wcG9xcnFzc3J0dXN2dnR3eHV4eXZ5enZ5end6e3d7fHh7fHh8fXh8fXl8fnl9fnl9f3l+f3p+f3p+gHt/gHt/gHx/gXyAgX2Agn6Bgn6Cg3+Cg4GDhIKFhoOGh4WHiIaIiYeKiomLjIuNjY2Oj5GRkZOTk5OUlJSVlZWWlpaWl5eXl5mZmZqampucnJydnZ2en56foJ6goJ+goZ+hoqCioqCio6Gjo6KkpKOlpaSlpqWmp6anqKipqamqqqurrK2urq+wsLGysrS0tbe4uLm6uru8vLy+vr6/v7/AwL/BwcDCwsHDw8LExMLExMLExcPFxcPGxsTGx8XHx8bIyMbIycfJysjKy8nLzMrMzczOzs7P0NDR0tLT1NPU1dTV1tbW19fX2NjZ2dna2tvb3Nzd3d7f39/g4ODh4eHi4uLj4+Pk5OTl5eTl5eXm5ubm5ufn5+fn5+jo6Ojo6Ojo6Onp6enp6erq6uvr6+zs7O3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7iH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBADyACwAAAAAJgAmAAAI/gDlCRxIsKDBgwgTKlzIsKHDhxAjRjRnTuLCcuUKUiyoTJpFgeaoTSNHcOPAYmTWePw4bVq1khUHwiFD5qPAbC25DTQpTxXNSzblnRNJ7RzImNLWpMwWESNBbi2ZyjMZiqYrgtJWJhSnrGNMedamYTMYiYyfgdk+uXHDTGE5Zl2ZWRN4jltGjqqkwqKzdo5WhOLgdnX2NWG2RmvdEGrbkJpgagxb9W01URo0cQyZReokNahnguWyiRaN+eG0ZKhR6zRYjhiw17BLM5zmp7ZtRatBD4Md2yFt27UT5QaNrXjxuw65pVb9ubnAbseCjV0IbVSrbhGX0ZIlaxnDWY4crEWa5RAbLu6yeCFP2G1TeEeVoC3Etl0WrWYCxR17WVAaLuzy4BJJeJHwhxA23B2DnCyt4HKTVK5UYspA3bQSnnwKdQOgQMm00gox8mQzyiiYzVJJJcAQVI2BDonzSiuvYFbdKPJdo0klm2xoUS8eHiPQjBjeciIsQXlI5I8jYijPJyfalM2LWgE5kDOVaHKNTSsSJOVA0lzpnDzioIKKbF8WJA6ZZaap5poKBQQAIfkECQQA8QAsAAAAACYAJgCHAAAAAQEBAgICAwMDBAQEBQUFBgYGBwcHCAgICQkJCgoKCwsLDAwMDQ0NDg4ODw8PEBAQEREREhISExMTFBQUFRUVFhYWFxcXGBgYGRkZGhoaGxsbHBwcHR0dHh4eHx8fICAgISEhIiIiIyMjJCQkJSUlJiYmJycnKCgoKSkpKioqKysrLCwsLS0tLi4uLy8vMDAwMTExMjIyMzMzNDQ0NTU1NjY2Nzc3ODg4OTk5Ojo6Ozs7PDw8PT09Pj4+Pz8/QEBAQUFBQkJCQ0NDRERERUVFRkZGR0dHSEhISUlJSkpKS0tLTExMTU1NTk5OT09PUFBQUVFRUlJSU1NTVFRUVVVVVlZWV1dXWFhYWVlZWlpaW1tbXF1dXl9fYGFhYWJjYmRkY2VmZGdnZWhpZmlqZ2prZ2praGtsaGxtaWxtaW1uaW1uam1vam5vam5wam9wa29wa29xbHBxbHBxbXBybXFybnFzb3Jzb3N0cHN0cnR1c3Z3dHd4dnh5d3l6eHt8enx9fH5+fn+AgoKChISEhYWFhYaGhoeHh4iIiIiJiYmKi4uLjI2NjY6Ojo+Pj5CQkJGRkJGSkZKTkZOUkpSUk5SVk5WWlJaWlZaXlpeYl5iZmJmampqbnJycnp6en5+foKCgoaGhoqKipKSlpqanp6ioqamqq6ysra6vsLGysrO0s7S1tLW2tba3tbe4tre4tri5t7i5t7m6t7m6uLq7ubu8ury9u729vL6/vb/AvsDBv8HCwMLDwMLDwMLDwcPEwsTFw8TFw8XGxMbHxsfIx8nJyMrLysvMy83Nzs/Q0NHR0dPT09TV1dbW19jY2dra2dra2tvb29zc3N3d3d7e3t/f4ODg4OHh4OHh4eLi4eLi4uLj4uPj4+Tk5OXl5ebm5ufn5+jo6Ojo6urq6+vr7Ozs7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7uCP4A4wkcSLCgwYMIEypcyLChw4cMzZmDSFGgOWrUJlZMKE4cQXEYPQ6UuFHguGXKvg0ESU1kvHIdNW5UpozZypArO5YUKI1mNYEsRZLrOG7nS5TLysULGs9cR5cPdQ60RnPaS4wTh4pTOlCatIXfhAljRm5gM2XPBJbjOrSowG6WvnxZplAcMbHEvr6sBtViWYGp0Mgtozfht2JihSH7q7AbILlf8NBt6OyuMGcMSw0uRZEcs2QqFy4jZKmb0dMGx1lbvRocxGnIYsf2dnBcLVi4c7tuOO2N7997aBccZyu3boe9f/sOXpv1arcOvcmejbq6QG/AbGVj6AzTKOEPkb2lOnUKGcNVf/4MWuUw2yryp2D1PejNUfo/iDArzDb+FCplAoUzDDUGPVPLbrUIkt4gPyWUDXnAuHTKJ64IlM128ZByCCcDeTNKevol5A148RzzySe7xJPNJJO4tsohh6Q4UDUNPhTOKJ+MEk48zbDYTDzXMHJII7uVZMuJwwjU4yQ/xlMLjKgYdSJnSvo40CQw7tQNjmlVyeRAzBzCyDU7YUTQkk0K9AyZ1sUDjiaaFNlmQeDIOeedeOapUEAAIfkECQQA8AAsAAAAACYAJgCHAAAAAQEBAgICAwMDBAQEBQUFBgYGBwcHCAgICQkJCgoKCwsLDAwMDQ0NDg4ODw8PEBAQEREREhISExMTFBQUFRUVFhYWFxcXGBgYGRkZGhoaGxsbHBwcHR0dHh4eHx8fICAgISEhIiIiIyMjJCQkJSUlJiYmJycnKCgoKSkpKioqKysrLCwsLS0tLi4uLy8vMDAwMTExMjIyMzMzNDQ0NTU1NjY2Nzc3ODg4OTk5Ojo6Ozs7PDw8PT09Pj4+Pz8/QEBAQUFBQkJCQ0NDRERERUVFRkZGR0dHSEhISUlJSkpKS0tLTExMTU1NTk9PUFFRUVNTU1RVVFZXVVdYVllaV1pbV1tcWFxdWVxeWV1fWl5fWl5gWl9hW19hW19hW2BiW2BiXGFjXGFjXWFjXWJkXWJkXmJkX2NlX2NlYGRmYWVmYmVnY2doZWhpZmlqZ2psaGttamxubG5vbnBwcXJydXV1dnZ2dnd3d3h4eHl5eXl6enp7fHx8fX5+fn9/f4CAgIGBgIKCgYKDgYOEgoSFg4WFg4WGhIaHhYeHhoeIh4iJiImKiYqLiouMjI2Nj4+PkJCQkZGRkpKSk5OTlJSUlZWVlpaWl5eXmZmZm5ubnJ2dnp+goKGioqOko6Slo6Wmpaeopqipp6mrqKqsqausqqytqq2uq66vrK+wrbCxrrGyr7KzsLKzsLO0sbS1srS1s7a2tLe3tLe4tLe4tbe4tbi4tbi5tbi5tri5trm6trm6t7m6ubu8u72+vL+/vsDBwcPExMXGxsjIyMnKysvMy83Nzc7Pzs/Qz9DR0NHS0dLT0dPT0tPU09TV1NXW1dbW1dbX19fY2NnZ2dra2tvb29zd3N3e3d7e3t/f39/g3+Dg4OHh4uLi4+Pj5OTl5ebm5+fn6enp6urq7Ozs7Ozs7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7uCP4A4QkcSLCgwYMIEypcyLChw4cMx42DSFHgOGTIJlZM6M0bwW/GjH0jKE7cRoHggAHjNhCkyIHhqFkzeVKlsJYhRwq0Ro3aSYHKVEYT6FKnt54sf4pTCcxkUXjieFbT+PCbToHUVDqDGnJit54eB5Yrt7AbLFjEaMIbBuyYwJICt1G7RjCcVaoHv+06u2sr1GhhSXrTKM6qVbIKu/E6C+uXWoXgDIPDq1DZXljKGBa2+rihOGLAukUEF+6n6YThrKlWHbhhNWKwYbeGeUqU7duzE1YLw7v3m9zhTN3G7XB3b95ucsNLvdpa6YfehkmXrvz0T8Wq6C501khT9YTBOLpp0hSMYSk4cOiYcngN1HhNpcAx9DYIPZw9fhNeE6+JEzGUvlRjEDSthOUKHejRYY1C14zHi3wCcQLJevBoo41AmeDhyEDeaIJefgh1I9pAwEACyS4VEkLISKTggQeKA6lGETiWQFKJfMyoyAw81/SBhx/fNeSKib4IlCMhO8LTiouemGZiJgMdmSQ8h7j4EzeVQPJMlDoOhAwefWi3UTUCcokkQdCIaR083zTSyFVr5gVnnHTWaWdFAQEAIfkECQQA8gAsAAAAACYAJgCHAAAAAQEBAgICAwMDBAQEBQUFBgYGBwcHCAgICQkJCgoKCwsLDAwMDQ0NDg4ODw8PEBAQEREREhISExMTFBQUFRUVFhYWFxcXGBgYGRkZGhoaGxsbHBwcHR0dHh4eHx8fICAgISEhIiIiIyMjJCQkJSUlJiYmJycnKCgoKSkpKioqKysrLCwsLS0tLi4uLy8vMDAwMTExMjIyMzMzNDQ0NTU1NjY2Nzc3ODg4OTk5Ojo6Ozs7PDw8PT09Pj4+Pz8/QEBAQUFBQkJCQ0NDRERERUVFRkZGR0dHSEhISUlJSkpKS0tLTExMTU1NTk5OT09PUFBQUVFRUlJSU1NTVFRUVVVVVlZWV1dXWFhYWVlZWVpaWltbW1xcW11dXF5eXV5fXl9gX2BhYWFhY2NjZGRkZWVlZmZmZ2dnaGhoaGlpaWpqamtra2tsbG1tbm9vb3BwcHFycXJzcXN0cnN0cnR1c3V2dHZ3dHZ3dXd4dnh5d3h5eHl6eXp7ent8e3x9fX5+gICAgYGBgoKCg4ODhISEhYWFhoaGh4eHiIiIiYmJioqKi4uLjIyMjY2Nj5CQkZKTk5SVlJaWlZeYl5mamJqbmJucmZydmp2emp2em56fnJ+gnaChnqGioKKjoKOkoaSloqWlo6Wmo6anpKeopqipp6mqqKurqaytqq2tq66urK6vra+wrrCxr7GysLKzsLOzsLO0sbO0sbO0sbO0sbS0sbS1sbS1sbS1srS1srS1tLa3tri5ubu8vL6/v8HBwcPEw8XFxcbHxsjIyMnKycrLysvMyszMy83NzM3OzM7Ozs/Qz9DR0NHS0dLT0dPT09TU1NbW1tfY19jZ2Nna2dra2tvb29zc3N3d3d7e3t/f4ODg4eLi4+Pj5OXl5eXl5ubm5+fn6Ojo6Onp6enp6urq6+vr7Ozs7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7uCP4A5QkcSLCgwYMIEypcyLChw4cMyZGDSFEguV+/JlZMuG0bwW29enkcCG7cRoHedNXKNhCkyIHdjB0zebJWLV4tQ46Ut8yYsZMCh9lcJtDlyGs+owGVR06lrolG5Y07JtMcRW/eCD6zeUweuJATqfnERrBcuYXaRo36FW5gr1rABIIDJxCaMWYDzWmTJo0mQm+n1J5SZnHZTpLXrMrrRo0vtbMKta1SOwpX24XmrPGVVs3vQmKBRxFjyM0xN4rhfO3SxnAcNm2Kl8omGG4z39MPzZndfe5gOE2VggvHzdBct+PIu/UuGG6T8OEOjSc/vpy5bWmXHZ7bbbb67NnaXMSNssaQWaBH3Sj2guTIUS+Gn7p0MSPKobVK7R1xoruwWx75XbiBl0LWsOfII3HJ880u0xgEzSnpyaNKGfKZUQ2B7cHCnzyRCPKJQNiQJc8jaggCEyTyDZiQNqy5JYggrciDjR12ZPWJGmrUQlA1F0L0DSKCIPKNPMrQSNg1cqghR4QnmfKiLgIVaQdh8pyCYyVLvejIQFJSKU8eOAKVDZDOcGnkQMcoeQ1Q0zRo5pQEQbPmdyj54UdWdP6FZ5589uknRAEBACH5BAkEAPEALAAAAAAmACYAhwAAAAEBAQICAgMDAwQEBAUFBQYGBgcHBwgICAkJCQoKCgsLCwwMDA0NDQ4ODg8PDxAQEBERERISEhMTExQUFBUVFRYWFhcXFxgYGBkZGRoaGhsbGxwcHB0dHR4eHh8fHyAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaWltbW1xcXF1dXV5eXl9fX2BhYWFiYmFjY2JkZGNlZWNlZmRmZ2RnaGVoaGZoaWZpamdqamhqa2lrbGtsbWxtbm1vb29wcHFxcXNzc3R0dHV1dXZ2dnd3d3h4eHl5eXp6ent7e3x8fH19fX5+fn9/f3+AgIGBgYKCgoOEhISFhYWGh4aIiIeJioiKi4mLjIqMjYuNjoyOj42PkI6QkY+RkpCSk5GTlZGUlZKUlpKVlpKVlpOVl5OWl5SWmJSXmJWXmZaYmZeZmpiam5mbnJucnZydnp2en56foJ+goaChoqKjo6Slpaenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLKysrS0tba3t7i5ubq6u7u8vL2+vr/AwMHCwsLDw8PExMTFxcXGxsXGx8bHx8fIyMfIycjJysjKysnKy8nLy8rLzMrLzMvMzMvMzczNzs3Ozs7P0M/Q0dHS0tPU1NTV1dfY2Nna2trb29vb3Nvc3Nzd3d3e3t7f39/g4ODg4OHi4uLj4+Pk5OXl5ebm5ufn5+jo6Ojp6erq6uvr6+zs7O3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7gj+AOMJHEiwoMGDCBMqXMiwocOHDMWJg0hRoDhZsiZWTIgNG8FrsGBdI9gN3EaB3VKVmjYQpMiB22zhMnmyVKlWLUOOFLjLlq2TAnHZFCbQ5U5oPpkBjRdOZapw8YzGA4dL5jiK3LgRTGZzVzxvISc68xmNYDioCq1x4kQLbbxYpX5+9SYwmS1fA8lFEybsm0JuoNaCIspUmMeC3aBdjWqMrzG3CK2VWssJFWSE5JjxFabMb0NdgTnpYljNcTWK4Wa1ssbwm7No5JbKNggOmm3b2yCOA8ebd7mD4CAlGk48d8Nxt29H+10Q3CPixR0iTw5tOXDqNB2W6+17tneB2VCheSq7sJy3b+YoyioECJAshuC2beOWfWG0Re0BSfKs0Fw3+dt0w1xC0bAHSCFygQXNQuJwIx83Ax4UTXuo8IfIHJwIVM1pB5nzjXwRHpRNNgTNMsccqMRTzRln0IVQOSEy5M0ec+hBlzEsGvOdQKScCItAOJ6h444nCjJQkEN6d40ecyxzZI47xmMbQUhGaZA3cMDhopUEebMll2CGKeZAAQEAIfkECQQA7wAsAAAAACYAJgCHAAAAAQEBAgICAwMDBAQEBQUFBgYGBwcHCAgICQkJCgoKCwsLDAwMDQ0NDg4ODw8PEBAQEREREhISExMTFBQUFRUVFhYWFxcXGBgYGRkZGhoaGxsbHBwcHR0dHh4eHx8fICAgISEhIiIiIyMjJCQkJSUlJiYmJycnKCgoKSkpKioqKysrLCwsLS0tLi4uLy8vMDAwMTExMjIyMzMzNDQ0NTU1NjY2Nzc3ODg4OTk5Ojo6Ozs7PDw8PT09Pj4+Pz8/QEBAQUFBQkJCQ0NDRERERUVFRkZGR0dHSEhISUlJSkpKS0tLTExMTU1NTk5OT09PUFBQUVFRUlJSU1NTVFRUVVVVVlZWV1dXWFhYWVlZWlpaW1tbXFxcXV1dXl5eX19fYGBgYWFhYmJiY2NjZGRkZWVlZmZmZ2dnaGhoaWlpampqa2trbGxsbW1tbm5ub29vcHBwcHFxcnJyc3NzdHR0dXV1dnd3d3h4eHl5eXt7enx9en1+e35/fH+BfYCCfoGDf4KEgIOFgYSGgoWHg4aIg4eIg4eJhIeJhIiJhIiKhYiKhYmKhomLh4qLiIqMiYuNioyNi42OjY+Qj5CRkJGSkpKTk5SVlZaWl5iYmJiZmZmam5ubnJycnZ2dnp6en5+foKCgoaGhoqKio6OjpKSkpaWlpqamqKioqqurra2tr7GxsrO0tba2t7i4uLq6uru8u7y9vL2+vb6/vb+/vr/AvsDBvsDBv8DBv8HCv8HCwMLCwcLDwcPEwsPEw8TFxMXGxcbHx8nKysvMzc7Pz9DR0dLT09TU1dbW19jY2dna29zc3N3d3t7f39/f4ODg4eHh4+Pj5OTk5eXl5eXl5ubm5ubm5ubm5+fn6Ojo6Ojo6enp6urq6urq6urq6+vr6+vr6+vr7Ozs7Ozs7Ozs7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7uCP4A3wkcSLCgwYMIEypcyLChw4cMtWmDSFGgNlOmJlZMuGwZwWSiRCUj+EzaRoHQNllCNhCkyIHLUqkyedKSpVAtQ44UyCpVqpM8beIS6HLnMJ+/gL67psnSpmvvir6TpkqmxofOnBEEZhPW1JATg/ksRvAaVIXJGDFSdfZdKUuqBEqjiSuVq4Hehr16FU2hM0lqJQ1distjwWfDNB6LtTdWW4TJLqll9JShN197X+Hq2/AVYEavGBprbIzitVShdiqMBmyYN6WwDVIrRps2M4ja5up+LVvQnt/AbzfUBqy48WC8CVILBDy4Q+LGiyM/SI2YdevUIHqLxp178tixl6x9knQsYrJl4SimuhMnzs+FzozJ19rw2J/2cQzRVBgOmXxjx1yF0DHsxWEHK3KdUlpB3lBDjkDPHPPfdwYd054n++1BhiQGRcPMMwOFs4x8Ah7UEUGqkEEGKAKFk95UzDCTHV4UMiQNG2SsQZOLLTrDjDMPAoWJiqeE+OI71MS430Yq0kEQjwM9EyNQy6xBhjBPHvnONj9qSZF8BUGJl5exiQnemWimqeaaAgUEACH5BAkEAO4ALAAAAAAmACYAhwAAAAEBAQICAgMDAwQEBAUFBQYGBgcHBwgICAkJCQoKCgsLCwwMDA0NDQ4ODg8PDxAQEBERERISEhMTExQUFBUVFRYWFhcXFxgYGBkZGRoaGhsbGxwcHB0dHR4eHh8fHyAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaWltbW1xcXF1dXV5eXl9fX2BgYGFhYWJiYmJjY2RkZGVlZWZmZmdnZ2hoaWlqamlra2psbGtsbWttbmxub21wcG5xcnByc3F0dXJ1dnN2eHR3eXZ5enZ5e3d6fHd6fHd7fHd7fXh7fXh8fXh8fnl8fnl9fnp9f3t+f3t+gH1/gH6AgYCCgoKDhISFhoeIiIqKiouLi4yMjI2NjY6Ojo+Pj5CQkJGRkZKSkpOTk5SUlJWVlZaWlpeXl5iYmJmZmZqampubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6Wlpaanp6ipqaqrq6usra2urq+wsLCxsrKzs7O0tbO1trS2t7W3t7W3uLa4uLa4uba4uba5ube5ure5ure6uri6u7i7u7m7vLq8vbu9vry+v77AwcDCw8PFxsbHyMnLy8zNzs/Q0dHS09TV1dfY2Nna29zd3d/g4OHh4eHh4uHi4uLi4uLj4+Pj4+Pk5OTk5eXl5eXm5ubm5ubn5+bn5+fn5+fo6Ojo6Onp6enp6erq6uvr6+zs7Ozs7O3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7gj+AN0JHEiwoMGDCBMqXMiwocOHDLNlg0hRYDZMmCZWTJgsGUFkkyYhI6hM2kaBzBwlMjYQpMiByT6NMnkyUSJKLUOOFGjq06eTAlPZ1CXQ5c5gPnkBdXetUSJH19wZdSdtlExtFJctI/jLpit3zkJO/OVzGMFp0xYi27OHFLWBmhKVEujMmcBYn1AN5BYMFapmCpcVYmtIKVNdHgsqC4bVXbFVflWlVYgsEds9kN4u5FbLL6pWgBu2GrynFUNikYlRpEbK0k6FzXgF47a0tsFpxHLnVgbxmtbf3g5Oo+OmuHHeDa/NWs58V/CC0+YYP+5QOfPlvJ5D1517skNvv7W6ardtW5klRCwXUiN27BvFUmrGjJmrNlgwYa8XGpMjf4wfmgp9Q4x9wQyjWULGxDeGGqoM9I04Bm2zDDgCKSOMfcJso5Ax8lUCoDfcuOcOOBS6k0wxxzh4jH0HIqQMcgKBw02II74IoTLFFLPVQNtoSNGMtLnDzYu0eWNMMcaUeBKINApJpEDL5AjjRkDu9aRAx+QIlDgzKjmkMkG6Yw2S41EkDoRWgknQNmXWJo6N5Cl0Zpx01mnnUgEBACH5BAkEAO0ALAAAAAAmACYAhwAAAAEBAQICAgMDAwQEBAUFBQYGBgcHBwgICAkJCQoKCgsLCwwMDA0NDQ4ODg8PDxAQEBERERISEhMTExQUFBUVFRYWFhcXFxgYGBkZGRoaGhsbGxwcHB0dHR4eHh8fHyAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaW1pcXFtdXVxeXlxeX11gYV5hYl9iY2BjZGFkZWJlZmNmZ2RnaGVoaWdpa2dqa2hqbGhrbGlsbWlsbWptbmptb2tub2xucG1vcG5wcW9xcnByc3JzdHN0dXV2dnd4eHp6ent7e3x8fH19fX5+fn9/f4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKiouLi4yMjI2NjY6Ojo+Pj5CQkJGRkZKSkpOTk5SUlJWVlZaWlpiYmJmampucnJydnp6fn5+goaCioqGjo6KkpKOlpaSlpqSmp6Wnp6WnqKaoqKaoqaepqqiqq6mrrKmsrKqsrautrquurqyur6yvr62vsK2vsK6wsa6wsa6xsa+xsrCys7G0tLK1tbO2trS3t7e5ubq7vLy+v7/BwsHDxMTFxsXHx8fJycrLzM3Nzs/Q0dLS09XV1tjY2dra29vb3Nzd3t7e3+Dg4eHi4uLi4+Li4+Pj5OPk5OTk5OTk5eTk5eXl5eXl5uXl5ubm5ubm5+fn5+jo6Ojo6enp6erq6urq6urq6uvr6+vr6+zs7Ozs7Ozs7O3t7e3t7e3t7e3t7e3t7e3t7e7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7gj+ANsJHEiwoMGDCBMqXMiwocOHDK9dg0hR4DVFiiZWTHjsGEFjhAgZI7jM2UaBy/7kKTYQpMiBxyBZMnkyTx5DLUOOFJgJEqSTAj/ZtCXQ5c5ePm8BbWfNT54/1toZbefMEqRK2yguW0Zwl01V7ZqFnLjL5y+Cz54tPMaGTSZqAxvlySSwWTOBrCB1GsiNlyZNXBMuq9P2Di6B1mx5LLisV9Z2wzr99aRW4bE9bdkQgruQ26q/mkQFZqiKMBuwC4FNBkaRWqZFixUuq8WL29LbBqkN271bGURrW4N7O0gtzZfjyH03tIaqufNWwwtSO4M8uUPmzpuzii5dmHfvnB2/egu+lTtu3Oe8cSPHMBqwYd8ofstGP/5CY7ly7drJkNw2+tnYxtA3vuSXSy/RLEQOgNnYRw419hFEDTL2HbNLfrtko9CC2Zi3TDJ3tfONfcX4MsxA3wyTX4IKnXOOhMkkk+A3xBDD3jG++JIMQfRRRM6HyrB3TY0TcfOLL79EuJEzMXI2JDEaIZMjfxvFONqTGrUTTI5AiaNMMt0MhOVAzyAp4EYjEjTmQNSceR45xRTD3nkJkTMnnXjmqedJAQEAIfkECQQA9AAsAAAAACYAJgCHAAAAAQEBAgICAwMDBAQEBQUFBgYGBwcHCAgICQkJCgoKCwsLDAwMDQ0NDg4ODw8PEBAQEREREhISExMTFBQUFRUVFhYWFxcXGBgYGRkZGhoaGxsbHBwcHR0dHh4eHx8fICAgISEhIiIiIyMjJCQkJSUlJiYmJycnKCgoKSkpKioqKysrLCwsLS0tLi4uLy8vMDAwMTExMjIyMzMzNDQ0NTU1NjY2Nzc3ODg4OTk5Ojo6Ozs7PDw8PT09Pj4+Pz8/QEBAQUFBQkJCQ0NDRERERUVFRkZGR0dHSEhISUlJSkpKS0tLTExMTU1NTk5OT09PUFBQUVFSUlNTU1VVVFZXVVdYVlhZV1laV1pbWFtcWFtdWVxdWVxeWl1eWl5fW15fW19gXF9hXWBhXWBiXmFiX2JjYWNkYmRlZGVmZWZnZ2hoaWpqbGxsbW1tbm5ub29vcHBwcXFxcnJyc3NzdHR0dXV1dnZ2d3d3eHh4eXl5enp6e3t7fHx8fX19fn5+f39/gICAgYGBgoKCg4ODhISEhYWFhoaGh4eHiImJiouLjI2NjY6Pj5CQkJGSkZOTkpSVk5WWk5aXlJaXlZeYlZiZlpiZlpmal5mal5mbl5qbl5qcmJucmJucmZudmp2em56fnJ+gnqCin6GjoKOkoaSloqWmo6ano6anpKeopaiopqippqmqqKqrqKusqaysq62uq66urK6vrbCwr7GysLKzsbO0s7W2tbe4t7m6ubu7u7y9vL6+vsDAwMLCwsTExcbHxsjIyMnJy8zNzs/Q0tPT1dbW1tfX19jY2NnZ2dna2drb2tvb2tvc2tvc29vc29zd3N3d3d7f39/g3+Dh4eHi4uLj4+Pk5OXl5eXm5ubm5+fn6Ojo6enp6enp6urq6urq6+vr7Ozs7Ozs7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7uCP4A6QkcSLCgwYMIEypcyLChw4cMsWGDSFEgNj58JlZMWKwYwWF16gwjiCzaRoHQ5KwRNhCkyIHEBCEyeXLNGj0tQ44UuEiQoJMCNdlsJdDlzls+iQK9FmeNnGv0jNKLhkhmNorLlhGsZZPU1JATZ/ncRXDatIXEvHh5BFWgoDWOBEajSUpQpIHaaC1a5EzhsjNq08QSeK2Vx4LIbl2l5+vR3kdnFRJzo9ZLnrYKtYXau0hT34alAHspxVDXY10Urz0CRIyhM1O0tAGdjXAcuNu3w0G0dqx3720Hx10bTvya7obWNClfDgp4QeHFhx9nmHy58ubBcd8eB3Gb79+0w70TBCcNGjeG0nD1cv7QmrLe1hgGQ4XKVTCH3Jj5fjY94bZa9KEiizQLcfPeMcq0FQ40shVUzTDeFOUKfa5gdhA3vUkzHTHCHKZNg77UQpZA2/RCH4EK3UZQNMIIoww92vDCS4TC1FJLawMNR1E4LQqjGzUyUkPPNbbUckuEQB3TIjQCAcmLkFHZeB9QLe5Ej5NQ0pOLjUBx0yJmWA4UTS22WEjRhwSFOVA1ZtLmTS+9ICkeQt7IOeedeOa5UUAAIfkECQQA8wAsAAAAACYAJgCHAAAAAQEBAgICAwMDBAQEBQUFBgYGBwcHCAgICQkJCgoKCwsLDAwMDQ0NDg4ODw8PEBAQEREREhISExMTFBQUFRUVFhYWFxcXGBgYGRkZGhoaGxsbHBwcHR0dHh4eHx8fICAgISEhIiIiIyMjJCQkJSUlJiYmJycnKCgoKSkpKioqKysrLCwsLS0tLi4uLy8vMDAwMTExMjIyMzMzNDQ0NTU1NjY2Nzc3ODg4OTk5Ojo6Ozs7PDw8PT09Pj4+Pz8/QEBAQUFBQkJCQ0NDRERERUVFRkZGR0dHSEhISUlJSkpKS0tLTExMTU1NTk5OT09PUFBQUVFRUlJSU1NTVFRUVVVVVlZWV1dXWFhYWVlZWlpaW1tbXFxcXV1dXl5eX19fYGBgYWFhYmJiY2NjZGRkZWVlZmZmZ2dnaGhoaWlpampqa2trbGxsbW1tbm5ub29vcHBwcXFxcnJyc3NzdHR0dXV1dnZ2d3d3eHh4eXp6e3x8fX5+fn+Af4GBgYKDgoSEg4WGg4aHhIeIhYeIhYiJhomKhomKh4qLh4qLh4qMiIuMiIuNiIyNiIyNiYyOiY2Oio2Oio2Pi46Pi46QjI+QjZCRjpCRj5GSkZOUkpSVk5WWlZeXlpiZmJmampubnJ2dn5+foaGhoaKioqOjo6SkpKWlpaampqenp6ioqKmqqaqrqqusq6ytra6urq6vrq+wr7Cwr7GxsbOzsrS1tLW2tre3t7i5ubq7vb2+wMDBw8PExsbHx8fIyMjJycnKysrLysvLzMzNzc3Ozs7Pz8/Qz9DR0NHR0dHS0tLT09PU09TU1NXV1tbX19fY2NnZ2dra29zc3d7e3t/f39/f4ODg4eHh4uPj4+Pk5OTk5eXl5eXl5ubm5ubm5+fn5+fn6Ojo6enp6urq6urr7Ozs7Ozs7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7e3t7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7uCP4A5wkcSLCgwYMIEypcyLChw4cMs2WDSFFgtjdvJlZ8CMyMGWAEmUXbmLDjx4HD5uQZSdKgSZAC/cyZ0/LgS4GxZoqq6dIjyGh5VGp8OG5cQmgeJ6KaaYvgtGkLx1mztq0cQmjQBHaak2jgtlR8+DhTKHWqNXALmcXSiCtQ2EBQyWIzi83qwm2YwvJ5NLZhN7PdGNJ6S4tiuW3ZjC505gnVNp6QCY7rRplyOIjVlmnWHNjgOGabN19uWI2R6dOYOksGHXrZaIalT5u+pFpyZcqKHXZrXTtyzW/MkD1eCI2VrW8UoQHz5SvrQl2cOH3S5XCbMOa+iIlj+C1VdE6knJcn3LbcFzCW4pZhMzjNF/J5vD5F/2RN4TbmzLYL3IUrmEWNt5Aiy0Df2BKdeAh9855AzeCCCzLzZBNLLGjpQgop/g00FUXi5IJLLttFM+FI2KRCSioLbkSMg8sIJGIsLPlyYS41OUidiyMOxMqFLXXjYTUDvcjSPM+cuB5J2ByJI4xOKRkZOLPMgpZvCIEzJZVYZqklRAEBADsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",i={CREATE:"CREATE",UPDATE:"UPDATE",DELETE:"DELETE"},r={LIST:"LIST",ORDER:"ORDER"},o={DIRECTORY:"DIRECTORY",FILE:"FILE"},l={MODULE:"module",PROPERTY:"property"},s={GOOGLE_API_MAP_KEY:"AIzaSyBzbUZZWlUUnZoqa86KKVeFSgAcpQjlgXI",MAX_IMAGE_SIZE:1024,CONFIG_PATH:"assets/config.json",BRAND_NAME:"Brand",CMS_LOGO:"assets/img/quoCMS.png",BRAND_LOGO:"assets/img/quoCMS.png",LOGIN_BG_IMAGE:"assets/img/cms-login-bg.jpg",BASE:"/",MED_PASSWORD_REGEX:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",STRONG_PASSWORD_REGEX:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})",DEFAULT_DATE_FORMAT:"DD/MM/YYYY"},c={DEVELOPER:"DEVELOPER",ADMINISTRATOR:"ADMINISTRATOR",EDITORIAL:"EDITORIAL"},d=[{menu_group_name:"menu.structure",menu_group_icon:"settings",menu_allowed_level:["STRUCTURE"],visible_mode:["STRUCTURE"],sub_menu:[{menu_name:"menu.control",menu_icon:"widgets",menu_link:"/controls",is_gray_bg:!0},{menu_name:"menu.template",menu_icon:"view_compact",menu_link:"/templates",is_gray_bg:!0},{menu_name:"menu.page",menu_icon:"web",menu_link:"/pages",is_gray_bg:!0},{menu_name:"menu.global",menu_icon:"public",menu_link:"/globals",is_gray_bg:!0},{menu_name:"menu.redirect_urls",menu_icon:"link",menu_link:"/redirect-urls",is_gray_bg:!0},{menu_name:"menu.site",menu_icon:"domain",menu_link:"/sites",is_gray_bg:!0}]},{menu_group_name:"menu.content_mode",menu_group_icon:"mode_edit",menu_allowed_level:["CONTENT"],visible_mode:["CONTENT"],sub_menu:[{menu_name:"menu.page",menu_icon:"web",menu_link:"/page-content",is_gray_bg:!0},{menu_name:"menu.global",menu_allowed_level:["USER"],menu_icon:"public",menu_link:"/global-content",is_gray_bg:!0},{menu_name:"menu.user",menu_allowed_level:["USER"],menu_icon:"people",menu_link:"/users",is_gray_bg:!1},{menu_name:"menu.language",menu_allowed_level:["USER"],menu_icon:"translate",menu_link:"/languages",is_gray_bg:!1},{menu_name:"menu.submission",menu_allowed_level:["USER"],menu_icon:"list",menu_link:"/submission",is_gray_bg:!1}]}],p={categoryItemToken:"50H47oV2$&0#",storageToken:"cms-auth-token",storageUsername:"cms-username",storageUserFullname:"cms-user-fullname",storageUserId:"cms-user-id",rememberedSiteId:"cms-remembered-site-id",appConfigName:"cms-config-name"},m={useApi:!1,contentTextEditorOptions:{toolbar1:"fontselect fontsizeselect | bold italic underline strikethrough | forecolor backcolor",toolbar2:"formatselect removeformat | alignleft aligncenter alignright alignjustify | bullist numlist | link | image",toolbar3:"cut copy paste | undo redo | preview template | code"},defaultNewFolderName:"New Folder",fileUploadThumbnailSize:"200x200"},u={JSON:"JSON",FORM:"FORM",FORM_DATA:"FORM_DATA",NONE:"NONE",HTML:"HTML",FORM_DATA_WO_HDR:"FORM_DATA_WO_HDR"},g={HTML:"html",JSON:"json",TEXT:"text"},h={NORMAL:"normal",ERROR:"error",WARNING:"warning",SUCCESS:"success"},A={PAGE:"page",GLOBAL:"global"},_={MAIN_LIST:"main-list",MAIN_ITEM_LIST:"main-item-list",PROPERTY_LIST:"property-list"},f={CONTROL:"control",CONTROL_INHERITANCES:"control_inheritances",TEMPLATE:"template",PAGE:"page",GLOBAL:"global",SITE:"site",REDIRECT_URL:"redirect_url",USER:"user",LANGUAGE:"language",SUBMISSION:"submission"},b=[{key:"property.text",value:"text"},{key:"property.number",value:"number"},{key:"property.decimal",value:"decimal"},{key:"property.boolean",value:"boolean"}],v={STRUCTURE:"STRUCTURE",CONTENT:"CONTENT"},y={TEXTBOX:"TEXTBOX",CHECKBOX:"CHECKBOX",RADIO_LIST:"RADIO_LIST",DROPDOWN:"DROPDOWN",MULTILINE_TEXT:"MULTILINE_TEXT",RICHTEXT_EDITOR:"RICHTEXT_EDITOR",FILE_UPLOAD:"FILE_UPLOAD",DATETIME:"DATETIME",CONTROL_LIST:"CONTROL_LIST",MAP_COORDINATE:"MAP_COORDINATE"},I=[{key:y.TEXTBOX,description:"element.text.desc",itemName:"element.text.name"},{key:y.DATETIME,description:"element.datetime.desc",itemName:"element.datetime.name"},{key:y.CHECKBOX,description:"element.checkbox.desc",itemName:"element.checkbox.name"},{key:y.RADIO_LIST,description:"element.radio.desc",itemName:"element.radio.name"},{key:y.DROPDOWN,description:"element.dropdown.desc",itemName:"element.dropdown.name"},{key:y.MULTILINE_TEXT,description:"element.multiline_text.desc",itemName:"element.multiline_text.name"},{key:y.RICHTEXT_EDITOR,description:"element.richtext.desc",itemName:"element.richtext.name"},{key:y.FILE_UPLOAD,description:"element.file_upload.desc",itemName:"element.file_upload.name"},{key:y.CONTROL_LIST,description:"element.control_list.desc",itemName:"element.control_list.name"},{key:y.MAP_COORDINATE,description:"element.map_coord.desc",itemName:"element.map_coord.name"}],O=[{value:"DATE_ONLY",text:"element.datetime.date_only"},{value:"TIME_ONLY",text:"element.datetime.time_only"},{value:"DATETIME",text:"element.datetime.datetime"}],T=[{value:".jpg,.jpeg,.png,.gif,.JPG,.JPEG,.PNG,.GIF,.svg",text:"Image File (jpg, jpeg, png, gif, svg)"},{value:".pdf,.xls,.xlsx,.doc,.docx",text:"Documents File (pdf, xls, xlsx, doc, docx)"}],C=[{code:"ab",name:"Abkhaz",nativeName:""},{code:"aa",name:"Afar",nativeName:"Afaraf"},{code:"af",name:"Afrikaans",nativeName:"Afrikaans"},{code:"ak",name:"Akan",nativeName:"Akan"},{code:"sq",name:"Albanian",nativeName:"Shqip"},{code:"am",name:"Amharic",nativeName:""},{code:"ar",name:"Arabic",nativeName:""},{code:"an",name:"Aragonese",nativeName:"Aragons"},{code:"hy",name:"Armenian",nativeName:""},{code:"as",name:"Assamese",nativeName:""},{code:"av",name:"Avaric",nativeName:" ,  "},{code:"ae",name:"Avestan",nativeName:"avesta"},{code:"ay",name:"Aymara",nativeName:"aymar aru"},{code:"az",name:"Azerbaijani",nativeName:"azrbaycan dili"},{code:"bm",name:"Bambara",nativeName:"bamanankan"},{code:"ba",name:"Bashkir",nativeName:" "},{code:"eu",name:"Basque",nativeName:"euskara, euskera"},{code:"be",name:"Belarusian",nativeName:""},{code:"bn",name:"Bengali",nativeName:""},{code:"bh",name:"Bihari",nativeName:""},{code:"bi",name:"Bislama",nativeName:"Bislama"},{code:"bs",name:"Bosnian",nativeName:"bosanski jezik"},{code:"br",name:"Breton",nativeName:"brezhoneg"},{code:"bg",name:"Bulgarian",nativeName:" "},{code:"my",name:"Burmese",nativeName:""},{code:"ca",name:"Catalan; Valencian",nativeName:"Catal"},{code:"ch",name:"Chamorro",nativeName:"Chamoru"},{code:"ce",name:"Chechen",nativeName:" "},{code:"ny",name:"Chichewa; Chewa; Nyanja",nativeName:"chiChea, chinyanja"},{code:"zh",name:"Chinese",nativeName:" (Zhngwn), , "},{code:"cv",name:"Chuvash",nativeName:" "},{code:"kw",name:"Cornish",nativeName:"Kernewek"},{code:"co",name:"Corsican",nativeName:"corsu, lingua corsa"},{code:"cr",name:"Cree",nativeName:""},{code:"hr",name:"Croatian",nativeName:"hrvatski"},{code:"cs",name:"Czech",nativeName:"esky, etina"},{code:"da",name:"Danish",nativeName:"dansk"},{code:"dv",name:"Divehi; Dhivehi; Maldivian;",nativeName:""},{code:"nl",name:"Dutch",nativeName:"Nederlands, Vlaams"},{code:"en",name:"English",nativeName:"English"},{code:"eo",name:"Esperanto",nativeName:"Esperanto"},{code:"et",name:"Estonian",nativeName:"eesti, eesti keel"},{code:"ee",name:"Ewe",nativeName:"Eegbe"},{code:"fo",name:"Faroese",nativeName:"froyskt"},{code:"fj",name:"Fijian",nativeName:"vosa Vakaviti"},{code:"fi",name:"Finnish",nativeName:"suomi, suomen kieli"},{code:"fr",name:"French",nativeName:"franais, langue franaise"},{code:"ff",name:"Fula; Fulah; Pulaar; Pular",nativeName:"Fulfulde, Pulaar, Pular"},{code:"gl",name:"Galician",nativeName:"Galego"},{code:"ka",name:"Georgian",nativeName:""},{code:"de",name:"German",nativeName:"Deutsch"},{code:"el",name:"Greek, Modern",nativeName:""},{code:"gn",name:"Guaran",nativeName:"Avae"},{code:"gu",name:"Gujarati",nativeName:""},{code:"ht",name:"Haitian; Haitian Creole",nativeName:"Kreyl ayisyen"},{code:"ha",name:"Hausa",nativeName:"Hausa, "},{code:"he",name:"Hebrew (modern)",nativeName:""},{code:"hz",name:"Herero",nativeName:"Otjiherero"},{code:"hi",name:"Hindi",nativeName:", "},{code:"ho",name:"Hiri Motu",nativeName:"Hiri Motu"},{code:"hu",name:"Hungarian",nativeName:"Magyar"},{code:"ia",name:"Interlingua",nativeName:"Interlingua"},{code:"id",name:"Indonesian",nativeName:"Bahasa Indonesia"},{code:"ie",name:"Interlingue",nativeName:"Originally called Occidental; then Interlingue after WWII"},{code:"ga",name:"Irish",nativeName:"Gaeilge"},{code:"ig",name:"Igbo",nativeName:"Ass Igbo"},{code:"ik",name:"Inupiaq",nativeName:"Iupiaq, Iupiatun"},{code:"io",name:"Ido",nativeName:"Ido"},{code:"is",name:"Icelandic",nativeName:"slenska"},{code:"it",name:"Italian",nativeName:"Italiano"},{code:"iu",name:"Inuktitut",nativeName:""},{code:"ja",name:"Japanese",nativeName:" ()"},{code:"jv",name:"Javanese",nativeName:"basa Jawa"},{code:"kl",name:"Kalaallisut, Greenlandic",nativeName:"kalaallisut, kalaallit oqaasii"},{code:"kn",name:"Kannada",nativeName:""},{code:"kr",name:"Kanuri",nativeName:"Kanuri"},{code:"ks",name:"Kashmiri",nativeName:", "},{code:"kk",name:"Kazakh",nativeName:" "},{code:"km",name:"Khmer",nativeName:""},{code:"ki",name:"Kikuyu, Gikuyu",nativeName:"Gky"},{code:"rw",name:"Kinyarwanda",nativeName:"Ikinyarwanda"},{code:"ky",name:"Kirghiz, Kyrgyz",nativeName:" "},{code:"kv",name:"Komi",nativeName:" "},{code:"kg",name:"Kongo",nativeName:"KiKongo"},{code:"ko",name:"Korean",nativeName:" (),  ()"},{code:"ku",name:"Kurdish",nativeName:"Kurd, "},{code:"kj",name:"Kwanyama, Kuanyama",nativeName:"Kuanyama"},{code:"la",name:"Latin",nativeName:"latine, lingua latina"},{code:"lb",name:"Luxembourgish, Letzeburgesch",nativeName:"Ltzebuergesch"},{code:"lg",name:"Luganda",nativeName:"Luganda"},{code:"li",name:"Limburgish, Limburgan, Limburger",nativeName:"Limburgs"},{code:"ln",name:"Lingala",nativeName:"Lingla"},{code:"lo",name:"Lao",nativeName:""},{code:"lt",name:"Lithuanian",nativeName:"lietuvi kalba"},{code:"lu",name:"Luba-Katanga",nativeName:""},{code:"lv",name:"Latvian",nativeName:"latvieu valoda"},{code:"gv",name:"Manx",nativeName:"Gaelg, Gailck"},{code:"mk",name:"Macedonian",nativeName:" "},{code:"mg",name:"Malagasy",nativeName:"Malagasy fiteny"},{code:"ms",name:"Malay",nativeName:"bahasa Melayu,  "},{code:"ml",name:"Malayalam",nativeName:""},{code:"mt",name:"Maltese",nativeName:"Malti"},{code:"mi",name:"Mori",nativeName:"te reo Mori"},{code:"mr",name:"Marathi (Marh)",nativeName:""},{code:"mh",name:"Marshallese",nativeName:"Kajin Maje"},{code:"mn",name:"Mongolian",nativeName:""},{code:"na",name:"Nauru",nativeName:"Ekakair Naoero"},{code:"nv",name:"Navajo, Navaho",nativeName:"Din bizaad, Dinkeh"},{code:"nb",name:"Norwegian Bokml",nativeName:"Norsk bokml"},{code:"nd",name:"North Ndebele",nativeName:"isiNdebele"},{code:"ne",name:"Nepali",nativeName:""},{code:"ng",name:"Ndonga",nativeName:"Owambo"},{code:"nn",name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},{code:"no",name:"Norwegian",nativeName:"Norsk"},{code:"ii",name:"Nuosu",nativeName:" Nuosuhxop"},{code:"nr",name:"South Ndebele",nativeName:"isiNdebele"},{code:"oc",name:"Occitan",nativeName:"Occitan"},{code:"oj",name:"Ojibwe, Ojibwa",nativeName:""},{code:"cu",name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic",nativeName:" "},{code:"om",name:"Oromo",nativeName:"Afaan Oromoo"},{code:"or",name:"Oriya",nativeName:""},{code:"os",name:"Ossetian, Ossetic",nativeName:" "},{code:"pa",name:"Panjabi, Punjabi",nativeName:", "},{code:"pi",name:"Pli",nativeName:""},{code:"fa",name:"Persian",nativeName:""},{code:"pl",name:"Polish",nativeName:"polski"},{code:"ps",name:"Pashto, Pushto",nativeName:""},{code:"pt",name:"Portuguese",nativeName:"Portugus"},{code:"qu",name:"Quechua",nativeName:"Runa Simi, Kichwa"},{code:"rm",name:"Romansh",nativeName:"rumantsch grischun"},{code:"rn",name:"Kirundi",nativeName:"kiRundi"},{code:"ro",name:"Romanian, Moldavian, Moldovan",nativeName:"romn"},{code:"ru",name:"Russian",nativeName:" "},{code:"sa",name:"Sanskrit (Saskta)",nativeName:""},{code:"sc",name:"Sardinian",nativeName:"sardu"},{code:"sd",name:"Sindhi",nativeName:",  "},{code:"se",name:"Northern Sami",nativeName:"Davvismegiella"},{code:"sm",name:"Samoan",nativeName:"gagana faa Samoa"},{code:"sg",name:"Sango",nativeName:"yng t sng"},{code:"sr",name:"Serbian",nativeName:" "},{code:"gd",name:"Scottish Gaelic; Gaelic",nativeName:"Gidhlig"},{code:"sn",name:"Shona",nativeName:"chiShona"},{code:"si",name:"Sinhala, Sinhalese",nativeName:""},{code:"sk",name:"Slovak",nativeName:"slovenina"},{code:"sl",name:"Slovene",nativeName:"slovenina"},{code:"so",name:"Somali",nativeName:"Soomaaliga, af Soomaali"},{code:"st",name:"Southern Sotho",nativeName:"Sesotho"},{code:"es",name:"Spanish; Castilian",nativeName:"espaol, castellano"},{code:"su",name:"Sundanese",nativeName:"Basa Sunda"},{code:"sw",name:"Swahili",nativeName:"Kiswahili"},{code:"ss",name:"Swati",nativeName:"SiSwati"},{code:"sv",name:"Swedish",nativeName:"svenska"},{code:"ta",name:"Tamil",nativeName:""},{code:"te",name:"Telugu",nativeName:""},{code:"tg",name:"Tajik",nativeName:", toik, "},{code:"th",name:"Thai",nativeName:""},{code:"ti",name:"Tigrinya",nativeName:""},{code:"bo",name:"Tibetan Standard, Tibetan, Central",nativeName:""},{code:"tk",name:"Turkmen",nativeName:"Trkmen, "},{code:"tl",name:"Tagalog",nativeName:"Wikang Tagalog,  "},{code:"tn",name:"Tswana",nativeName:"Setswana"},{code:"to",name:"Tonga (Tonga Islands)",nativeName:"faka Tonga"},{code:"tr",name:"Turkish",nativeName:"Trke"},{code:"ts",name:"Tsonga",nativeName:"Xitsonga"},{code:"tt",name:"Tatar",nativeName:", tatara, "},{code:"tw",name:"Twi",nativeName:"Twi"},{code:"ty",name:"Tahitian",nativeName:"Reo Tahiti"},{code:"ug",name:"Uighur, Uyghur",nativeName:"Uyurq, "},{code:"uk",name:"Ukrainian",nativeName:""},{code:"ur",name:"Urdu",nativeName:""},{code:"uz",name:"Uzbek",nativeName:"zbek, , "},{code:"ve",name:"Venda",nativeName:"Tshivena"},{code:"vi",name:"Vietnamese",nativeName:"Ting Vit"},{code:"vo",name:"Volapk",nativeName:"Volapk"},{code:"wa",name:"Walloon",nativeName:"Walon"},{code:"cy",name:"Welsh",nativeName:"Cymraeg"},{code:"wo",name:"Wolof",nativeName:"Wollof"},{code:"fy",name:"Western Frisian",nativeName:"Frysk"},{code:"xh",name:"Xhosa",nativeName:"isiXhosa"},{code:"yi",name:"Yiddish",nativeName:""},{code:"yo",name:"Yoruba",nativeName:"Yorb"},{code:"za",name:"Zhuang, Chuang",nativeName:"Sa cue, Saw cuengh"}],E=[{locale:"af",name:"Afrikaans"},{locale:"af_NA",name:"Afrikaans (Namibia)"},{locale:"af_ZA",name:"Afrikaans (South Africa)"},{locale:"ak",name:"Akan"},{locale:"ak_GH",name:"Akan (Ghana)"},{locale:"sq",name:"Albanian"},{locale:"sq_AL",name:"Albanian (Albania)"},{locale:"sq_XK",name:"Albanian (Kosovo)"},{locale:"sq_MK",name:"Albanian (Macedonia)"},{locale:"am",name:"Amharic"},{locale:"am_ET",name:"Amharic (Ethiopia)"},{locale:"ar",name:"Arabic"},{locale:"ar_DZ",name:"Arabic (Algeria)"},{locale:"ar_BH",name:"Arabic (Bahrain)"},{locale:"ar_TD",name:"Arabic (Chad)"},{locale:"ar_KM",name:"Arabic (Comoros)"},{locale:"ar_DJ",name:"Arabic (Djibouti)"},{locale:"ar_EG",name:"Arabic (Egypt)"},{locale:"ar_ER",name:"Arabic (Eritrea)"},{locale:"ar_IQ",name:"Arabic (Iraq)"},{locale:"ar_IL",name:"Arabic (Israel)"},{locale:"ar_JO",name:"Arabic (Jordan)"},{locale:"ar_KW",name:"Arabic (Kuwait)"},{locale:"ar_LB",name:"Arabic (Lebanon)"},{locale:"ar_LY",name:"Arabic (Libya)"},{locale:"ar_MR",name:"Arabic (Mauritania)"},{locale:"ar_MA",name:"Arabic (Morocco)"},{locale:"ar_OM",name:"Arabic (Oman)"},{locale:"ar_PS",name:"Arabic (Palestinian Territories)"},{locale:"ar_QA",name:"Arabic (Qatar)"},{locale:"ar_SA",name:"Arabic (Saudi Arabia)"},{locale:"ar_SO",name:"Arabic (Somalia)"},{locale:"ar_SS",name:"Arabic (South Sudan)"},{locale:"ar_SD",name:"Arabic (Sudan)"},{locale:"ar_SY",name:"Arabic (Syria)"},{locale:"ar_TN",name:"Arabic (Tunisia)"},{locale:"ar_AE",name:"Arabic (United Arab Emirates)"},{locale:"ar_EH",name:"Arabic (Western Sahara)"},{locale:"ar_YE",name:"Arabic (Yemen)"},{locale:"hy",name:"Armenian"},{locale:"hy_AM",name:"Armenian (Armenia)"},{locale:"as",name:"Assamese"},{locale:"as_IN",name:"Assamese (India)"},{locale:"az",name:"Azerbaijani"},{locale:"az_AZ",name:"Azerbaijani (Azerbaijan)"},{locale:"az_Cyrl_AZ",name:"Azerbaijani (Cyrillic, Azerbaijan)"},{locale:"az_Cyrl",name:"Azerbaijani (Cyrillic)"},{locale:"az_Latn_AZ",name:"Azerbaijani (Latin, Azerbaijan)"},{locale:"az_Latn",name:"Azerbaijani (Latin)"},{locale:"bm",name:"Bambara"},{locale:"bm_Latn_ML",name:"Bambara (Latin, Mali)"},{locale:"bm_Latn",name:"Bambara (Latin)"},{locale:"eu",name:"Basque"},{locale:"eu_ES",name:"Basque (Spain)"},{locale:"be",name:"Belarusian"},{locale:"be_BY",name:"Belarusian (Belarus)"},{locale:"bn",name:"Bengali"},{locale:"bn_BD",name:"Bengali (Bangladesh)"},{locale:"bn_IN",name:"Bengali (India)"},{locale:"bs",name:"Bosnian"},{locale:"bs_BA",name:"Bosnian (Bosnia & Herzegovina)"},{locale:"bs_Cyrl_BA",name:"Bosnian (Cyrillic, Bosnia & Herzegovina)"},{locale:"bs_Cyrl",name:"Bosnian (Cyrillic)"},{locale:"bs_Latn_BA",name:"Bosnian (Latin, Bosnia & Herzegovina)"},{locale:"bs_Latn",name:"Bosnian (Latin)"},{locale:"br",name:"Breton"},{locale:"br_FR",name:"Breton (France)"},{locale:"bg",name:"Bulgarian"},{locale:"bg_BG",name:"Bulgarian (Bulgaria)"},{locale:"my",name:"Burmese"},{locale:"my_MM",name:"Burmese (Myanmar (Burma))"},{locale:"ca",name:"Catalan"},{locale:"ca_AD",name:"Catalan (Andorra)"},{locale:"ca_FR",name:"Catalan (France)"},{locale:"ca_IT",name:"Catalan (Italy)"},{locale:"ca_ES",name:"Catalan (Spain)"},{locale:"zh",name:"Chinese"},{locale:"zh_CN",name:"Chinese (China)"},{locale:"zh_HK",name:"Chinese (Hong Kong SAR China)"},{locale:"zh_MO",name:"Chinese (Macau SAR China)"},{locale:"zh_Hans_CN",name:"Chinese (Simplified, China)"},{locale:"zh_Hans_HK",name:"Chinese (Simplified, Hong Kong SAR China)"},{locale:"zh_Hans_MO",name:"Chinese (Simplified, Macau SAR China)"},{locale:"zh_Hans_SG",name:"Chinese (Simplified, Singapore)"},{locale:"zh_Hans",name:"Chinese (Simplified)"},{locale:"zh_SG",name:"Chinese (Singapore)"},{locale:"zh_TW",name:"Chinese (Taiwan)"},{locale:"zh_Hant_HK",name:"Chinese (Traditional, Hong Kong SAR China)"},{locale:"zh_Hant_MO",name:"Chinese (Traditional, Macau SAR China)"},{locale:"zh_Hant_TW",name:"Chinese (Traditional, Taiwan)"},{locale:"zh_Hant",name:"Chinese (Traditional)"},{locale:"kw",name:"Cornish"},{locale:"kw_GB",name:"Cornish (United Kingdom)"},{locale:"hr",name:"Croatian"},{locale:"hr_BA",name:"Croatian (Bosnia & Herzegovina)"},{locale:"hr_HR",name:"Croatian (Croatia)"},{locale:"cs",name:"Czech"},{locale:"cs_CZ",name:"Czech (Czech Republic)"},{locale:"da",name:"Danish"},{locale:"da_DK",name:"Danish (Denmark)"},{locale:"da_GL",name:"Danish (Greenland)"},{locale:"nl",name:"Dutch"},{locale:"nl_AW",name:"Dutch (Aruba)"},{locale:"nl_BE",name:"Dutch (Belgium)"},{locale:"nl_BQ",name:"Dutch (Caribbean Netherlands)"},{locale:"nl_CW",name:"Dutch (Curaao)"},{locale:"nl_NL",name:"Dutch (Netherlands)"},{locale:"nl_SX",name:"Dutch (Sint Maarten)"},{locale:"nl_SR",name:"Dutch (Suriname)"},{locale:"dz",name:"Dzongkha"},{locale:"dz_BT",name:"Dzongkha (Bhutan)"},{locale:"en",name:"English"},{locale:"en_AS",name:"English (American Samoa)"},{locale:"en_AI",name:"English (Anguilla)"},{locale:"en_AG",name:"English (Antigua & Barbuda)"},{locale:"en_AU",name:"English (Australia)"},{locale:"en_BS",name:"English (Bahamas)"},{locale:"en_BB",name:"English (Barbados)"},{locale:"en_BE",name:"English (Belgium)"},{locale:"en_BZ",name:"English (Belize)"},{locale:"en_BM",name:"English (Bermuda)"},{locale:"en_BW",name:"English (Botswana)"},{locale:"en_IO",name:"English (British Indian Ocean Territory)"},{locale:"en_VG",name:"English (British Virgin Islands)"},{locale:"en_CM",name:"English (Cameroon)"},{locale:"en_CA",name:"English (Canada)"},{locale:"en_KY",name:"English (Cayman Islands)"},{locale:"en_CX",name:"English (Christmas Island)"},{locale:"en_CC",name:"English (Cocos (Keeling) Islands)"},{locale:"en_CK",name:"English (Cook Islands)"},{locale:"en_DG",name:"English (Diego Garcia)"},{locale:"en_DM",name:"English (Dominica)"},{locale:"en_ER",name:"English (Eritrea)"},{locale:"en_FK",name:"English (Falkland Islands)"},{locale:"en_FJ",name:"English (Fiji)"},{locale:"en_GM",name:"English (Gambia)"},{locale:"en_GH",name:"English (Ghana)"},{locale:"en_GI",name:"English (Gibraltar)"},{locale:"en_GD",name:"English (Grenada)"},{locale:"en_GU",name:"English (Guam)"},{locale:"en_GG",name:"English (Guernsey)"},{locale:"en_GY",name:"English (Guyana)"},{locale:"en_HK",name:"English (Hong Kong SAR China)"},{locale:"en_IN",name:"English (India)"},{locale:"en_IE",name:"English (Ireland)"},{locale:"en_IM",name:"English (Isle of Man)"},{locale:"en_JM",name:"English (Jamaica)"},{locale:"en_JE",name:"English (Jersey)"},{locale:"en_KE",name:"English (Kenya)"},{locale:"en_KI",name:"English (Kiribati)"},{locale:"en_LS",name:"English (Lesotho)"},{locale:"en_LR",name:"English (Liberia)"},{locale:"en_MO",name:"English (Macau SAR China)"},{locale:"en_MG",name:"English (Madagascar)"},{locale:"en_MW",name:"English (Malawi)"},{locale:"en_MY",name:"English (Malaysia)"},{locale:"en_MT",name:"English (Malta)"},{locale:"en_MH",name:"English (Marshall Islands)"},{locale:"en_MU",name:"English (Mauritius)"},{locale:"en_FM",name:"English (Micronesia)"},{locale:"en_MS",name:"English (Montserrat)"},{locale:"en_NA",name:"English (Namibia)"},{locale:"en_NR",name:"English (Nauru)"},{locale:"en_NZ",name:"English (New Zealand)"},{locale:"en_NG",name:"English (Nigeria)"},{locale:"en_NU",name:"English (Niue)"},{locale:"en_NF",name:"English (Norfolk Island)"},{locale:"en_MP",name:"English (Northern Mariana Islands)"},{locale:"en_PK",name:"English (Pakistan)"},{locale:"en_PW",name:"English (Palau)"},{locale:"en_PG",name:"English (Papua New Guinea)"},{locale:"en_PH",name:"English (Philippines)"},{locale:"en_PN",name:"English (Pitcairn Islands)"},{locale:"en_PR",name:"English (Puerto Rico)"},{locale:"en_RW",name:"English (Rwanda)"},{locale:"en_WS",name:"English (Samoa)"},{locale:"en_SC",name:"English (Seychelles)"},{locale:"en_SL",name:"English (Sierra Leone)"},{locale:"en_SG",name:"English (Singapore)"},{locale:"en_SX",name:"English (Sint Maarten)"},{locale:"en_SB",name:"English (Solomon Islands)"},{locale:"en_ZA",name:"English (South Africa)"},{locale:"en_SS",name:"English (South Sudan)"},{locale:"en_SH",name:"English (St. Helena)"},{locale:"en_KN",name:"English (St. Kitts & Nevis)"},{locale:"en_LC",name:"English (St. Lucia)"},{locale:"en_VC",name:"English (St. Vincent & Grenadines)"},{locale:"en_SD",name:"English (Sudan)"},{locale:"en_SZ",name:"English (Swaziland)"},{locale:"en_TZ",name:"English (Tanzania)"},{locale:"en_TK",name:"English (Tokelau)"},{locale:"en_TO",name:"English (Tonga)"},{locale:"en_TT",name:"English (Trinidad & Tobago)"},{locale:"en_TC",name:"English (Turks & Caicos Islands)"},{locale:"en_TV",name:"English (Tuvalu)"},{locale:"en_UM",name:"English (U.S. Outlying Islands)"},{locale:"en_VI",name:"English (U.S. Virgin Islands)"},{locale:"en_UG",name:"English (Uganda)"},{locale:"en_GB",name:"English (United Kingdom)"},{locale:"en_US",name:"English (United States)"},{locale:"en_VU",name:"English (Vanuatu)"},{locale:"en_ZM",name:"English (Zambia)"},{locale:"en_ZW",name:"English (Zimbabwe)"},{locale:"eo",name:"Esperanto"},{locale:"et",name:"Estonian"},{locale:"et_EE",name:"Estonian (Estonia)"},{locale:"ee",name:"Ewe"},{locale:"ee_GH",name:"Ewe (Ghana)"},{locale:"ee_TG",name:"Ewe (Togo)"},{locale:"fo",name:"Faroese"},{locale:"fo_FO",name:"Faroese (Faroe Islands)"},{locale:"fi",name:"Finnish"},{locale:"fi_FI",name:"Finnish (Finland)"},{locale:"fr",name:"French"},{locale:"fr_DZ",name:"French (Algeria)"},{locale:"fr_BE",name:"French (Belgium)"},{locale:"fr_BJ",name:"French (Benin)"},{locale:"fr_BF",name:"French (Burkina Faso)"},{locale:"fr_BI",name:"French (Burundi)"},{locale:"fr_CM",name:"French (Cameroon)"},{locale:"fr_CA",name:"French (Canada)"},{locale:"fr_CF",name:"French (Central African Republic)"},{locale:"fr_TD",name:"French (Chad)"},{locale:"fr_KM",name:"French (Comoros)"},{locale:"fr_CG",name:"French (Congo - Brazzaville)"},{locale:"fr_CD",name:"French (Congo - Kinshasa)"},{locale:"fr_CI",name:"French (Cte dIvoire)"},{locale:"fr_DJ",name:"French (Djibouti)"},{locale:"fr_GQ",name:"French (Equatorial Guinea)"},{locale:"fr_FR",name:"French (France)"},{locale:"fr_GF",name:"French (French Guiana)"},{locale:"fr_PF",name:"French (French Polynesia)"},{locale:"fr_GA",name:"French (Gabon)"},{locale:"fr_GP",name:"French (Guadeloupe)"},{locale:"fr_GN",name:"French (Guinea)"},{locale:"fr_HT",name:"French (Haiti)"},{locale:"fr_LU",name:"French (Luxembourg)"},{locale:"fr_MG",name:"French (Madagascar)"},{locale:"fr_ML",name:"French (Mali)"},{locale:"fr_MQ",name:"French (Martinique)"},{locale:"fr_MR",name:"French (Mauritania)"},{locale:"fr_MU",name:"French (Mauritius)"},{locale:"fr_YT",name:"French (Mayotte)"},{locale:"fr_MC",name:"French (Monaco)"},{locale:"fr_MA",name:"French (Morocco)"},{locale:"fr_NC",name:"French (New Caledonia)"},{locale:"fr_NE",name:"French (Niger)"},{locale:"fr_RE",name:"French (Runion)"},{locale:"fr_RW",name:"French (Rwanda)"},{locale:"fr_SN",name:"French (Senegal)"},{locale:"fr_SC",name:"French (Seychelles)"},{locale:"fr_BL",name:"French (St. Barthlemy)"},{locale:"fr_MF",name:"French (St. Martin)"},{locale:"fr_PM",name:"French (St. Pierre & Miquelon)"},{locale:"fr_CH",name:"French (Switzerland)"},{locale:"fr_SY",name:"French (Syria)"},{locale:"fr_TG",name:"French (Togo)"},{locale:"fr_TN",name:"French (Tunisia)"},{locale:"fr_VU",name:"French (Vanuatu)"},{locale:"fr_WF",name:"French (Wallis & Futuna)"},{locale:"ff",name:"Fulah"},{locale:"ff_CM",name:"Fulah (Cameroon)"},{locale:"ff_GN",name:"Fulah (Guinea)"},{locale:"ff_MR",name:"Fulah (Mauritania)"},{locale:"ff_SN",name:"Fulah (Senegal)"},{locale:"gl",name:"Galician"},{locale:"gl_ES",name:"Galician (Spain)"},{locale:"lg",name:"Ganda"},{locale:"lg_UG",name:"Ganda (Uganda)"},{locale:"ka",name:"Georgian"},{locale:"ka_GE",name:"Georgian (Georgia)"},{locale:"de",name:"German"},{locale:"de_AT",name:"German (Austria)"},{locale:"de_BE",name:"German (Belgium)"},{locale:"de_DE",name:"German (Germany)"},{locale:"de_LI",name:"German (Liechtenstein)"},{locale:"de_LU",name:"German (Luxembourg)"},{locale:"de_CH",name:"German (Switzerland)"},{locale:"el",name:"Greek"},{locale:"el_CY",name:"Greek (Cyprus)"},{locale:"el_GR",name:"Greek (Greece)"},{locale:"gu",name:"Gujarati"},{locale:"gu_IN",name:"Gujarati (India)"},{locale:"ha",name:"Hausa"},{locale:"ha_GH",name:"Hausa (Ghana)"},{locale:"ha_Latn_GH",name:"Hausa (Latin, Ghana)"},{locale:"ha_Latn_NE",name:"Hausa (Latin, Niger)"},{locale:"ha_Latn_NG",name:"Hausa (Latin, Nigeria)"},{locale:"ha_Latn",name:"Hausa (Latin)"},{locale:"ha_NE",name:"Hausa (Niger)"},{locale:"ha_NG",name:"Hausa (Nigeria)"},{locale:"he",name:"Hebrew"},{locale:"he_IL",name:"Hebrew (Israel)"},{locale:"hi",name:"Hindi"},{locale:"hi_IN",name:"Hindi (India)"},{locale:"hu",name:"Hungarian"},{locale:"hu_HU",name:"Hungarian (Hungary)"},{locale:"is",name:"Icelandic"},{locale:"is_IS",name:"Icelandic (Iceland)"},{locale:"ig",name:"Igbo"},{locale:"ig_NG",name:"Igbo (Nigeria)"},{locale:"id",name:"Indonesian"},{locale:"id_ID",name:"Indonesian (Indonesia)"},{locale:"ga",name:"Irish"},{locale:"ga_IE",name:"Irish (Ireland)"},{locale:"it",name:"Italian"},{locale:"it_IT",name:"Italian (Italy)"},{locale:"it_SM",name:"Italian (San Marino)"},{locale:"it_CH",name:"Italian (Switzerland)"},{locale:"ja",name:"Japanese"},{locale:"ja_JP",name:"Japanese (Japan)"},{locale:"kl",name:"Kalaallisut"},{locale:"kl_GL",name:"Kalaallisut (Greenland)"},{locale:"kn",name:"Kannada"},{locale:"kn_IN",name:"Kannada (India)"},{locale:"ks",name:"Kashmiri"},{locale:"ks_Arab_IN",name:"Kashmiri (Arabic, India)"},{locale:"ks_Arab",name:"Kashmiri (Arabic)"},{locale:"ks_IN",name:"Kashmiri (India)"},{locale:"kk",name:"Kazakh"},{locale:"kk_Cyrl_KZ",name:"Kazakh (Cyrillic, Kazakhstan)"},{locale:"kk_Cyrl",name:"Kazakh (Cyrillic)"},{locale:"kk_KZ",name:"Kazakh (Kazakhstan)"},{locale:"km",name:"Khmer"},{locale:"km_KH",name:"Khmer (Cambodia)"},{locale:"ki",name:"Kikuyu"},{locale:"ki_KE",name:"Kikuyu (Kenya)"},{locale:"rw",name:"Kinyarwanda"},{locale:"rw_RW",name:"Kinyarwanda (Rwanda)"},{locale:"ko",name:"Korean"},{locale:"ko_KP",name:"Korean (North Korea)"},{locale:"ko_KR",name:"Korean (South Korea)"},{locale:"ky",name:"Kyrgyz"},{locale:"ky_Cyrl_KG",name:"Kyrgyz (Cyrillic, Kyrgyzstan)"},{locale:"ky_Cyrl",name:"Kyrgyz (Cyrillic)"},{locale:"ky_KG",name:"Kyrgyz (Kyrgyzstan)"},{locale:"lo",name:"Lao"},{locale:"lo_LA",name:"Lao (Laos)"},{locale:"lv",name:"Latvian"},{locale:"lv_LV",name:"Latvian (Latvia)"},{locale:"ln",name:"Lingala"},{locale:"ln_AO",name:"Lingala (Angola)"},{locale:"ln_CF",name:"Lingala (Central African Republic)"},{locale:"ln_CG",name:"Lingala (Congo - Brazzaville)"},{locale:"ln_CD",name:"Lingala (Congo - Kinshasa)"},{locale:"lt",name:"Lithuanian"},{locale:"lt_LT",name:"Lithuanian (Lithuania)"},{locale:"lu",name:"Luba-Katanga"},{locale:"lu_CD",name:"Luba-Katanga (Congo - Kinshasa)"},{locale:"lb",name:"Luxembourgish"},{locale:"lb_LU",name:"Luxembourgish (Luxembourg)"},{locale:"mk",name:"Macedonian"},{locale:"mk_MK",name:"Macedonian (Macedonia)"},{locale:"mg",name:"Malagasy"},{locale:"mg_MG",name:"Malagasy (Madagascar)"},{locale:"ms",name:"Malay"},{locale:"ms_BN",name:"Malay (Brunei)"},{locale:"ms_Latn_BN",name:"Malay (Latin, Brunei)"},{locale:"ms_Latn_MY",name:"Malay (Latin, Malaysia)"},{locale:"ms_Latn_SG",name:"Malay (Latin, Singapore)"},{locale:"ms_Latn",name:"Malay (Latin)"},{locale:"ms_MY",name:"Malay (Malaysia)"},{locale:"ms_SG",name:"Malay (Singapore)"},{locale:"ml",name:"Malayalam"},{locale:"ml_IN",name:"Malayalam (India)"},{locale:"mt",name:"Maltese"},{locale:"mt_MT",name:"Maltese (Malta)"},{locale:"gv",name:"Manx"},{locale:"gv_IM",name:"Manx (Isle of Man)"},{locale:"mr",name:"Marathi"},{locale:"mr_IN",name:"Marathi (India)"},{locale:"mn",name:"Mongolian"},{locale:"mn_Cyrl_MN",name:"Mongolian (Cyrillic, Mongolia)"},{locale:"mn_Cyrl",name:"Mongolian (Cyrillic)"},{locale:"mn_MN",name:"Mongolian (Mongolia)"},{locale:"ne",name:"Nepali"},{locale:"ne_IN",name:"Nepali (India)"},{locale:"ne_NP",name:"Nepali (Nepal)"},{locale:"nd",name:"North Ndebele"},{locale:"nd_ZW",name:"North Ndebele (Zimbabwe)"},{locale:"se",name:"Northern Sami"},{locale:"se_FI",name:"Northern Sami (Finland)"},{locale:"se_NO",name:"Northern Sami (Norway)"},{locale:"se_SE",name:"Northern Sami (Sweden)"},{locale:"no",name:"Norwegian"},{locale:"no_NO",name:"Norwegian (Norway)"},{locale:"nb",name:"Norwegian Bokml"},{locale:"nb_NO",name:"Norwegian Bokml (Norway)"},{locale:"nb_SJ",name:"Norwegian Bokml (Svalbard & Jan Mayen)"},{locale:"nn",name:"Norwegian Nynorsk"},{locale:"nn_NO",name:"Norwegian Nynorsk (Norway)"},{locale:"or",name:"Oriya"},{locale:"or_IN",name:"Oriya (India)"},{locale:"om",name:"Oromo"},{locale:"om_ET",name:"Oromo (Ethiopia)"},{locale:"om_KE",name:"Oromo (Kenya)"},{locale:"os",name:"Ossetic"},{locale:"os_GE",name:"Ossetic (Georgia)"},{locale:"os_RU",name:"Ossetic (Russia)"},{locale:"ps",name:"Pashto"},{locale:"ps_AF",name:"Pashto (Afghanistan)"},{locale:"fa",name:"Persian"},{locale:"fa_AF",name:"Persian (Afghanistan)"},{locale:"fa_IR",name:"Persian (Iran)"},{locale:"pl",name:"Polish"},{locale:"pl_PL",name:"Polish (Poland)"},{locale:"pt",name:"Portuguese"},{locale:"pt_AO",name:"Portuguese (Angola)"},{locale:"pt_BR",name:"Portuguese (Brazil)"},{locale:"pt_CV",name:"Portuguese (Cape Verde)"},{locale:"pt_GW",name:"Portuguese (Guinea-Bissau)"},{locale:"pt_MO",name:"Portuguese (Macau SAR China)"},{locale:"pt_MZ",name:"Portuguese (Mozambique)"},{locale:"pt_PT",name:"Portuguese (Portugal)"},{locale:"pt_ST",name:"Portuguese (So Tom & Prncipe)"},{locale:"pt_TL",name:"Portuguese (Timor-Leste)"},{locale:"pa",name:"Punjabi"},{locale:"pa_Arab_PK",name:"Punjabi (Arabic, Pakistan)"},{locale:"pa_Arab",name:"Punjabi (Arabic)"},{locale:"pa_Guru_IN",name:"Punjabi (Gurmukhi, India)"},{locale:"pa_Guru",name:"Punjabi (Gurmukhi)"},{locale:"pa_IN",name:"Punjabi (India)"},{locale:"pa_PK",name:"Punjabi (Pakistan)"},{locale:"qu",name:"Quechua"},{locale:"qu_BO",name:"Quechua (Bolivia)"},{locale:"qu_EC",name:"Quechua (Ecuador)"},{locale:"qu_PE",name:"Quechua (Peru)"},{locale:"ro",name:"Romanian"},{locale:"ro_MD",name:"Romanian (Moldova)"},{locale:"ro_RO",name:"Romanian (Romania)"},{locale:"rm",name:"Romansh"},{locale:"rm_CH",name:"Romansh (Switzerland)"},{locale:"rn",name:"Rundi"},{locale:"rn_BI",name:"Rundi (Burundi)"},{locale:"ru",name:"Russian"},{locale:"ru_BY",name:"Russian (Belarus)"},{locale:"ru_KZ",name:"Russian (Kazakhstan)"},{locale:"ru_KG",name:"Russian (Kyrgyzstan)"},{locale:"ru_MD",name:"Russian (Moldova)"},{locale:"ru_RU",name:"Russian (Russia)"},{locale:"ru_UA",name:"Russian (Ukraine)"},{locale:"sg",name:"Sango"},{locale:"sg_CF",name:"Sango (Central African Republic)"},{locale:"gd",name:"Scottish Gaelic"},{locale:"gd_GB",name:"Scottish Gaelic (United Kingdom)"},{locale:"sr",name:"Serbian"},{locale:"sr_BA",name:"Serbian (Bosnia & Herzegovina)"},{locale:"sr_Cyrl_BA",name:"Serbian (Cyrillic, Bosnia & Herzegovina)"},{locale:"sr_Cyrl_XK",name:"Serbian (Cyrillic, Kosovo)"},{locale:"sr_Cyrl_ME",name:"Serbian (Cyrillic, Montenegro)"},{locale:"sr_Cyrl_RS",name:"Serbian (Cyrillic, Serbia)"},{locale:"sr_Cyrl",name:"Serbian (Cyrillic)"},{locale:"sr_XK",name:"Serbian (Kosovo)"},{locale:"sr_Latn_BA",name:"Serbian (Latin, Bosnia & Herzegovina)"},{locale:"sr_Latn_XK",name:"Serbian (Latin, Kosovo)"},{locale:"sr_Latn_ME",name:"Serbian (Latin, Montenegro)"},{locale:"sr_Latn_RS",name:"Serbian (Latin, Serbia)"},{locale:"sr_Latn",name:"Serbian (Latin)"},{locale:"sr_ME",name:"Serbian (Montenegro)"},{locale:"sr_RS",name:"Serbian (Serbia)"},{locale:"sh",name:"Serbo-Croatian"},{locale:"sh_BA",name:"Serbo-Croatian (Bosnia & Herzegovina)"},{locale:"sn",name:"Shona"},{locale:"sn_ZW",name:"Shona (Zimbabwe)"},{locale:"ii",name:"Sichuan Yi"},{locale:"ii_CN",name:"Sichuan Yi (China)"},{locale:"si",name:"Sinhala"},{locale:"si_LK",name:"Sinhala (Sri Lanka)"},{locale:"sk",name:"Slovak"},{locale:"sk_SK",name:"Slovak (Slovakia)"},{locale:"sl",name:"Slovenian"},{locale:"sl_SI",name:"Slovenian (Slovenia)"},{locale:"so",name:"Somali"},{locale:"so_DJ",name:"Somali (Djibouti)"},{locale:"so_ET",name:"Somali (Ethiopia)"},{locale:"so_KE",name:"Somali (Kenya)"},{locale:"so_SO",name:"Somali (Somalia)"},{locale:"es",name:"Spanish"},{locale:"es_AR",name:"Spanish (Argentina)"},{locale:"es_BO",name:"Spanish (Bolivia)"},{locale:"es_IC",name:"Spanish (Canary Islands)"},{locale:"es_EA",name:"Spanish (Ceuta & Melilla)"},{locale:"es_CL",name:"Spanish (Chile)"},{locale:"es_CO",name:"Spanish (Colombia)"},{locale:"es_CR",name:"Spanish (Costa Rica)"},{locale:"es_CU",name:"Spanish (Cuba)"},{locale:"es_DO",name:"Spanish (Dominican Republic)"},{locale:"es_EC",name:"Spanish (Ecuador)"},{locale:"es_SV",name:"Spanish (El Salvador)"},{locale:"es_GQ",name:"Spanish (Equatorial Guinea)"},{locale:"es_GT",name:"Spanish (Guatemala)"},{locale:"es_HN",name:"Spanish (Honduras)"},{locale:"es_MX",name:"Spanish (Mexico)"},{locale:"es_NI",name:"Spanish (Nicaragua)"},{locale:"es_PA",name:"Spanish (Panama)"},{locale:"es_PY",name:"Spanish (Paraguay)"},{locale:"es_PE",name:"Spanish (Peru)"},{locale:"es_PH",name:"Spanish (Philippines)"},{locale:"es_PR",name:"Spanish (Puerto Rico)"},{locale:"es_ES",name:"Spanish (Spain)"},{locale:"es_US",name:"Spanish (United States)"},{locale:"es_UY",name:"Spanish (Uruguay)"},{locale:"es_VE",name:"Spanish (Venezuela)"},{locale:"sw",name:"Swahili"},{locale:"sw_KE",name:"Swahili (Kenya)"},{locale:"sw_TZ",name:"Swahili (Tanzania)"},{locale:"sw_UG",name:"Swahili (Uganda)"},{locale:"sv",name:"Swedish"},{locale:"sv_AX",name:"Swedish (land Islands)"},{locale:"sv_FI",name:"Swedish (Finland)"},{locale:"sv_SE",name:"Swedish (Sweden)"},{locale:"tl",name:"Tagalog"},{locale:"tl_PH",name:"Tagalog (Philippines)"},{locale:"ta",name:"Tamil"},{locale:"ta_IN",name:"Tamil (India)"},{locale:"ta_MY",name:"Tamil (Malaysia)"},{locale:"ta_SG",name:"Tamil (Singapore)"},{locale:"ta_LK",name:"Tamil (Sri Lanka)"},{locale:"te",name:"Telugu"},{locale:"te_IN",name:"Telugu (India)"},{locale:"th",name:"Thai"},{locale:"th_TH",name:"Thai (Thailand)"},{locale:"bo",name:"Tibetan"},{locale:"bo_CN",name:"Tibetan (China)"},{locale:"bo_IN",name:"Tibetan (India)"},{locale:"ti",name:"Tigrinya"},{locale:"ti_ER",name:"Tigrinya (Eritrea)"},{locale:"ti_ET",name:"Tigrinya (Ethiopia)"},{locale:"to",name:"Tongan"},{locale:"to_TO",name:"Tongan (Tonga)"},{locale:"tr",name:"Turkish"},{locale:"tr_CY",name:"Turkish (Cyprus)"},{locale:"tr_TR",name:"Turkish (Turkey)"},{locale:"uk",name:"Ukrainian"},{locale:"uk_UA",name:"Ukrainian (Ukraine)"},{locale:"ur",name:"Urdu"},{locale:"ur_IN",name:"Urdu (India)"},{locale:"ur_PK",name:"Urdu (Pakistan)"},{locale:"ug",name:"Uyghur"},{locale:"ug_Arab_CN",name:"Uyghur (Arabic, China)"},{locale:"ug_Arab",name:"Uyghur (Arabic)"},{locale:"ug_CN",name:"Uyghur (China)"},{locale:"uz",name:"Uzbek"},{locale:"uz_AF",name:"Uzbek (Afghanistan)"},{locale:"uz_Arab_AF",name:"Uzbek (Arabic, Afghanistan)"},{locale:"uz_Arab",name:"Uzbek (Arabic)"},{locale:"uz_Cyrl_UZ",name:"Uzbek (Cyrillic, Uzbekistan)"},{locale:"uz_Cyrl",name:"Uzbek (Cyrillic)"},{locale:"uz_Latn_UZ",name:"Uzbek (Latin, Uzbekistan)"},{locale:"uz_Latn",name:"Uzbek (Latin)"},{locale:"uz_UZ",name:"Uzbek (Uzbekistan)"},{locale:"vi",name:"Vietnamese"},{locale:"vi_VN",name:"Vietnamese (Vietnam)"},{locale:"cy",name:"Welsh"},{locale:"cy_GB",name:"Welsh (United Kingdom)"},{locale:"fy",name:"Western Frisian"},{locale:"fy_NL",name:"Western Frisian (Netherlands)"},{locale:"yi",name:"Yiddish"},{locale:"yo",name:"Yoruba"},{locale:"yo_BJ",name:"Yoruba (Benin)"},{locale:"yo_NG",name:"Yoruba (Nigeria)"},{locale:"zu",name:"Zulu"},{locale:"zu_ZA",name:"Zulu (South Africa)"}],S={WARNING:"WARNING"},x=[{value:"",text:"element.text.helper_none"},{value:"colorpicker",text:"element.text.helper_colorpicker"},{value:"url",text:"element.text.helper_url"}],L=[{value:"h1",text:"H1"},{value:"h2",text:"H2"},{value:"h3",text:"H3"},{value:"h4",text:"H4"},{value:"h5",text:"H5"},{value:"h6",text:"H6"}],k={NEWSLETTER:"NEWSLETTER",ENQUIRY:"ENQUIRY",OTHER:"OTHER"}},91:function(t,e,a){"use strict";var n=a(2),i=a(12),r=a(19),o=a(43),l=a(35),s=a(29),c=a(121);a.d(e,"a",(function(){return d}));var d=(function(){function t(t){this._elemRef=t.get(n.M),this._cmn=t.get(i.a),this._req=t.get(r.a),this._storage=t.get(o.a),this._dlg=t.get(l.a),this._sncBar=t.get(s.a),this._elem=$(this._elemRef.nativeElement),this._appRef=t.get(n.j),this._resolver=t.get(n.Q);var e=this._appRef.components[0].instance.dialogContainer,a=this._resolver.resolveComponentFactory(c.a);this._dlg.dialogContainer=e,this._dlg.dialogComponentFactory=a}return t})()},92:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(36),o=a(16),l=a(19),s=a(93),c=a(9),d=a(12),p=a(939),m=a.n(p),u=a(1),g=a.n(u),h=a(26),A=a(95);a.d(e,"a",(function(){return _}));var _=(function(t){function e(e,a,n,i,r,l,s,c){var d=t.call(this,e)||this;d.el=a,d._req=n,d._resolver=i,d._cmn=r,d._zone=l,d._router=s,d._acRoute=c,d.valueList=[],d.objStructure=[],d.controlId="",d.uploadPath=o.a.domain+"/",d.pageReady=!1,d._orderingData=[],d.editingLanguage={code:"",name:""},d.inputValue="",d.initialData="",d.isContentMode=!1,d.isDataChanged=!1,d.moduleType="",d.canUseGlobalItemData=!1,d.canAdd=!0,d.translatedTextLimit=1/0,d.translatedTextAvailableLength=0,d.translatedTextAverageLength=0,d.elem=$(a.nativeElement);var p=d._cmn.getCurrentInfo();return d.translatedTextLimit=p.translatedTextLimit,d}return n.a(e,t),e.prototype.ngOnInit=function(){if(this.dialogData?(this.controlId=this.dialogData.controlId,this.inputValue=this.dialogData.optionValue||"",this.getControlStructure(),this.dialogData.propEditCmpFactory&&(this._propEditorCmpFactory=this.dialogData.propEditCmpFactory||null),this.dialogData.hasOwnProperty("moduleType")&&(this.moduleType=this.dialogData.moduleType,this.canUseGlobalItemData="page"===this.moduleType),this.dialogData.hasOwnProperty("currentLang")&&(this.editingLanguage.code=this.dialogData.currentLang.code,this.editingLanguage.name=this.dialogData.currentLang.name),this.isContentMode=!!this.dialogData.hasOwnProperty("contentMode")&&this.dialogData.contentMode):this._propEditorCmpFactory=this._resolver.resolveComponentFactory(s.a),!this._propEditorCmpFactory){var t=this._dlg.getCmpFactory()||[],e=t.filter((function(t){return"[cmp-property-editor]"===t.selector}));e.length?this._propEditorCmpFactory=e[0]:this._propEditorCmpFactory=this._resolver.resolveComponentFactory(s.a)}setTimeout((function(){$(":focus").blur()}),0)},e.prototype.getControlStructure=function(){var t=this,e=Object.assign({},o.a.url.control.getOptionsByCtrlId);e.url=e.url.replace(/(:id)/g,this.controlId),this._req.doRequest(e).subscribe((function(e){var a=[];a=e.result&&e.data?Object.assign([],e.data):Object.assign([],t.dialogData.savedStructure||[]),t.processStructure(a)}),(function(){var e=Object.assign([],t.dialogData.savedStructure||[]);t.processStructure(e)}))},e.prototype.openEditorDialog=function(t){var e=this,a={};if(t&&t.hasOwnProperty("global_item_id")&&t.global_item_id){var n=t.global_item_id,i=Object.assign({},o.a.url.globalItem.getById);i.url=i.url.replace(/(:id)/,n),this._cmn.showAppLoader(),this._req.doRequest(i).subscribe((function(n){if(e._cmn.hideAppLoader(),n.result){n.data.is_active?(a={title:{key:"dialog.redirect_to_global_item_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,noMaximize:!0,template:{key:"message.redirect_to_global_item_confirm",param:{global:t.global_item_name}},buttons:[{text:{key:"common.yes"},cssClass:"btn-primary",materialIcon:"done",closeWhenClick:!0,activateClickAfterClose:!0,onClick:function(){window.sessionStorage.setItem("tmp-selected-id",t.global_item_id),e.saveValue(!0,!0)}},{text:{key:"common.cancel"},cssClass:"btn-secondary",materialIcon:"close",closeWhenClick:!0}]},e._dlg.open(a)):(a={title:{key:"dialog.redirect_to_global_item_inactive_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,noMaximize:!0,template:{key:"message.global_item_is_inactive",param:{global:"("+t.global_item_name+")"}}},e._dlg.open(a))}else a={title:{key:"dialog.redirect_to_global_item_not_found_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,noMaximize:!0,template:{key:"message.redirect_to_global_item_not_found"}},e._dlg.open(a)}),(function(){e._cmn.hideAppLoader(),a={title:{key:"dialog.redirect_to_global_item_not_found_title"},expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!1,noMaximize:!0,template:{key:"message.global_item_not_found"}},e._dlg.open(a)}))}else{var r=t?c.j.UPDATE:c.j.CREATE,l={structure:Object.assign([],this.objStructure),currentValue:t,mode:r,ctlListCmpFactory:this.dialogData.ctlListCmpFactory||null,currentLang:this.editingLanguage,contentMode:this.isContentMode},s={key:"dialog.property_editor",param:{language:this.editingLanguage.name?"("+this.editingLanguage.name+")":""}};a={title:s,noCloseButton:!0,expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._propEditorCmpFactory,dialogData:l,afterClose:function(a){if(a&&a.itemValue){if(r===c.j.CREATE){var n=e.objStructure.slice(0),i={};i.id=m()(),n=n.map((function(t){var e=a.itemValue.filter((function(e){return e.prop_id===t.prop_id}));return e.length?Object.assign({},t,e[0]):Object.assign({},t)})),i.props=n,e.valueList.push(i)}else{var o=e.valueList.filter((function(e){return e.id===t.id}));if(o.length)for(var l=o[0],s=0,d=a.controlStructure;s<d.length;s++){var p=d[s];(function(t){var n=l.props.filter((function(e){return e.prop_id===t.prop_id})),i={};if(n.length){i=Object.assign({},n[0]);var r=e.objStructure.filter((function(e){return e.prop_id===t.prop_id}));r.length&&r[0].element_type!==i.element_type&&(n[0].element_type=r[0].element_type,n[0].element_value=r[0].element_value),a.itemValue.map((function(t){t.prop_id===n[0].prop_id&&(n[0].option_value=t.option_value,n[0].element_value=t.element_value,n[0].miscInfo=t.miscInfo||null)}))}else i=Object.assign({},{component_id:t.component_id,element_type:t.element_type,element_value:t.element_value,is_required:t.is_required,miscInfo:t.miscInfo||null,name:t.name,option_type:t.option_type,option_value:t.option_value,prop_id:t.prop_id,variable_name:t.variable_name}),l.props.push(i)})(p)}}setTimeout((function(){e.validateValueList()}),5)}a&&a.closeToRoot&&e.saveValue(a.closeToRoot)}},this._dlg.open(a)}},e.prototype.addNewItem=function(){this.openEditorDialog()},e.prototype.openUsingDataFromGlobalItemDialog=function(t){var e=this,a=t.hasOwnProperty("global_item_id")?c.j.UPDATE:c.j.CREATE,n={structure:Object.assign([],this.objStructure),currentValue:null,mode:a,ctlListCmpFactory:this.dialogData.ctlListCmpFactory||null,currentLang:this.editingLanguage,contentMode:this.isContentMode,isUsingGlobalItemData:this.canUseGlobalItemData,selectedGlobalItemId:t.global_item_id||"",selectedGlobalItemName:t.global_item_name||""},i=a===c.j.CREATE?"dialog.add_using_data_from_global":"dialog.edit_using_data_from_global",r={key:i,param:{language:this.editingLanguage.name?"("+this.editingLanguage.name+")":""}},o={title:r,noCloseButton:!0,expandableDialog:!0,dialogCssClass:"size-md",useCustomButtons:!0,hasTopPanel:!0,dialogData:n,componentFactory:this._propEditorCmpFactory,afterClose:function(n){if(n){if(a===c.j.CREATE){var i=e.objStructure.slice(0),r={};r.id=m()(),r.global_item_id=n.usingGlobalItemId||"",r.global_item_name=n.usingGlobalItemName||"",i=i.map((function(t){var e=n.itemValue.filter((function(e){return e.prop_id===t.prop_id}));return e.length?Object.assign({},t,e[0]):Object.assign({},t)})),r.props=i,e.valueList.push(r)}else{var o=e.valueList.filter((function(e){return e.id===t.id}));if(o.length){var l=o[0];l.global_item_id=n.usingGlobalItemId||"",l.global_item_name=n.usingGlobalItemName||""}}setTimeout((function(){e.validateValueList()}),5)}n&&n.closeToRoot&&e.saveValue(n.closeToRoot)}};this._dlg.open(o)},e.prototype.addNewItemUsingDataFromGlobalItem=function(){this.openUsingDataFromGlobalItemDialog(!0)},e.prototype.validateValueList=function(t){var e=this;this.valueList.map((function(t,a){if(void 0===t.active&&(t.active=!0,e.diToggle.map((function(t){t.reValidateText()}))),t.order||(t.order=a+1),1===t.props.length)switch(t.props[0].element_type){case c.p.MAP_COORDINATE:t.represent_value=t.props[0].option_value,t.represent_item="MAP";break;case c.p.TEXTBOX:case c.p.FILE_UPLOAD:if(t.represent_value=t.props[0].option_value,t.represent_item="TEXT",t.props[0].miscInfo)t.represent_item="IMAGE",t.represent_value=t.props[0].miscInfo.src;else if(e._cmn.isUuid(t.props[0].option_value)){var n=Object.assign({},o.a.url.page.getById);n.url=n.url.replace(/(:id)/g,t.props[0].option_value),e._req.doRequest(n).subscribe((function(e){t.represent_value=e.data.name+" ("+e.data.friendly_url+")"}))}else if(t.props[0].element_value){var i=JSON.parse(t.props[0].element_value)||{};if(i.hasOwnProperty("helper")&&"url"===i.helper&&i.hasOwnProperty("selectedPageId")&&i.selectedPageId&&e._cmn.isUuid(i.selectedPageId)){var n=Object.assign({},o.a.url.page.getById);n.url=n.url.replace(/(:id)/g,i.selectedPageId),e._req.doRequest(n).subscribe((function(e){t.represent_value=e.data.name+" ("+e.data.friendly_url+")"}))}}break;default:t.represent_value="Item #"+(a+1),t.represent_item="TEXT"}else for(var r=0,l=t.props;r<l.length;r++){var s=l[r];if(s.option_value)if(s.element_type===c.p.TEXTBOX||s.element_type===c.p.FILE_UPLOAD){var d="";if(s.element_type===c.p.TEXTBOX&&/^\{.+\}$/g.test(s.element_value)){var p=JSON.parse(s.element_value);d=p.helper||""}if(d||(t.represent_value=s.option_value,t.represent_item="TEXT"),s.miscInfo){t.represent_item="IMAGE",t.represent_value=e._cmn.getResxPath(s.miscInfo.src);break}}else if(s.element_type===c.p.RICHTEXT_EDITOR){if(s.option_value){var m=$("<div>"+s.option_value+"</div>").text();t.represent_value=m.length>100?m.substring(0,100)+"...":m,t.represent_item="TEXT";break}}else if(s.element_type===c.p.RICHTEXT_EDITOR&&s.option_value){t.represent_value=s.option_value.length>100?s.option_value.substring(0,100)+"...":s.option_value,t.represent_item="TEXT";break}}})),this.checkIfDataChanged(),setTimeout((function(){e.resizeDialog()}),100)},e.prototype.initSortingFeature=function(){var t=this;this.elem.find(".ctrl-value-list").sortable("instance")&&this.elem.find(".ctrl-value-list").sortable("destroy"),this.valueList.length>1&&this.elem.find(".ctrl-value-list").sortable({placeholder:"page-item-placeholder",delay:200,cursorAt:{left:5,top:5},stop:function(e,a){t._zone.run((function(){t.valueList.map((function(e){return e.order=t.elem.find('.ctrl-value-list .ctrl-value-item[data-item-id="'+e.id+'"]').index()+1,Object.assign({},e)})),t.valueList.sort((function(t,e){return t.order<e.order?-1:1})),setTimeout((function(){t.checkIfDataChanged()}),0)}))}}),setTimeout((function(){t.resizeDialog()}),300)},e.prototype.removeItem=function(t){var e=this;this.valueList.splice(t,1),this.valueList.map((function(t,e){t.order=e+1})),this.checkIfDataChanged(),setTimeout((function(){e.resizeDialog()}),1)},e.prototype.saveValue=function(t,e){void 0===e&&(e=!1),this.validateValueList(),this.valueList.sort((function(t,e){return t.order<e.order?-1:1})),this.closeDialog(!1,{optionValue:JSON.stringify(this.valueList),propStructure:this.objStructure,closeToRoot:t,saveRoot:e})},e.prototype.saveAndClose=function(){this.saveValue(!0)},e.prototype.confirmClose=function(){var t=this;if(this.isDataChanged){var e={title:"dialog.close_warning",expandableDialog:!0,dialogCssClass:"size-md",template:{key:"message.unsaved_data_warning"},buttons:[{text:{key:"common.yes"},cssClass:"btn-danger",materialIcon:"done",closeWhenClick:!0,activateClickAfterClose:!0,onClick:function(){t.closeDialog()}},{text:{key:"common.no"},cssClass:"btn-secondary",materialIcon:"clear",closeWhenClick:!0}]};this.openDialog(e)}else this.closeDialog()},e.prototype.processStructure=function(t){if(t.sort((function(t,e){return!0===g()(t.created_at).isAfter(e.created_at)?1:-1})),this.objStructure=t.map((function(t){return{prop_id:t.id||t.prop_id,name:t.name,variable_name:t.variable_name,element_type:t.element_type,element_value:t.element_value,option_type:t.option_type,option_value:"",is_required:t.is_required,component_id:t.component_id,component_name:t.component.name||""}})),this.pageReady=!0,this.inputValue){var e=[];try{e=JSON.parse(this.inputValue)}catch(t){e=[]}finally{e&&e.length>0&&(this.initialData=JSON.stringify(e.map((function(t,e){var a=t.props.map((function(t){return{value:t.option_value}}));return t.hasOwnProperty("global_item_id")?{globalItemId:t.global_item_id,order:t.order?t.order:e+1,value:a}:{order:t.order?t.order:e+1,value:a}}))),this.valueList=Object.assign([],e),this.valueList.length>1&&this.valueList.sort((function(t,e){return t.order<e.order?-1:1})))}}this.validateValueList(!0)},e.prototype.checkIfCanAddMore=function(){if(this.translatedTextLimit!==1/0){var t=this.valueList.length||1,e=JSON.stringify(this.valueList),a=e.length;this.translatedTextAverageLength=Math.ceil(a/t);var n=this.translatedTextLimit-a;n<=0?(this.canAdd=!1,this.translatedTextAvailableLength=0):n<this.translatedTextAverageLength?(this.canAdd=!1,this.translatedTextAvailableLength=n):(this.canAdd=!0,this.translatedTextAvailableLength=0)}else this.translatedTextAvailableLength=0,this.canAdd=!0},e.prototype.checkIfDataChanged=function(){var t=JSON.stringify(this.valueList.map((function(t,e){var a=t.props.map((function(t){return{value:t.option_value,element_value:t.element_value}}));return t.hasOwnProperty("global_item_id")?{globalItemId:t.global_item_id,order:t.order?t.order:e+1,value:a}:{order:t.order?t.order:e+1,value:a}})));0===this.valueList.length&&(t=""),this.isDataChanged=t!==this.initialData,this.checkIfCanAddMore()},n.b([a.i(i._16)(A.a),n.c("design:type",i._17)],e.prototype,"diToggle",void 0),e=n.b([a.i(i._14)({selector:"[cmp-control-list-manager]",template:a(661),entryComponents:[s.a]}),n.c("design:paramtypes",[i.h,i.M,l.a,i.Q,d.a,i.k,h.c,h.d])],e)})(r.a)},93:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(36),o=a(19),l=a(73),s=a(12),c=a(67),d=a(9),p=a(123),m=a(29),u=a(16),g=a(75);a.d(e,"a",(function(){return h}));var h=(function(t){function e(e,a,n,i,r){var o=t.call(this,e)||this;o._req=a,o._cmn=n,o._resolver=i,o._snc=r,o.structureList=[],o.objectName="",o.noObjectName=!1,o.selectedItem={},o.originalData="",o.itemElementOption={textEditorOptions:Object.assign({},d.m.contentTextEditorOptions,{height:400})},o.editingLanguage={code:"",name:""},o.isContentMode=!1,o.isUsingGlobalItemData=!1,o.globalItemsLoaded=!1,o.originalGlobalItemList=[],o.globalItemList=[],o.selectedGlobalItemId="",o.selectedGlobalItemName="",o.allowAllPropType=!1,o.currentMode="",o.currentSiteId="",o.currentComponentId="",o.currentComponentName="",o._currentWorkingMode=d.d.CONTENT,o._fileUploaderCmpFactory=o._resolver.resolveComponentFactory(c.a),o._infoSub=o._cmn.getInfo().subscribe((function(t){o._currentWorkingMode=t.workMode||d.d.CONTENT,o.allowAllPropType=o._currentWorkingMode===d.d.STRUCTURE||!o.editingLanguage.code})),o._cmn.setInfo({trigger:!0});var l=o._cmn.getCurrentInfo();if(o.currentSiteId=l.currentSiteId,l.richtextTemplate&&l.richtextTemplate.length>0){var s=l.siteDomain&&l.formToken?l.siteDomain:l.apiDomain;/\/$/g.test(s)&&(s+="/");var p=l.richtextTemplate.map((function(t){return Object.assign({},t,{url:""+s+t.url})}));o.itemElementOption.textEditorOptions=Object.assign({},o.itemElementOption.textEditorOptions,{templates:p})}return o}n.a(e,t),r=e,e.prototype.ngOnInit=function(){var t=this;if(this.isContentMode=!!this.dialogData.hasOwnProperty("contentMode")&&this.dialogData.contentMode,this.isUsingGlobalItemData=!!this.dialogData.hasOwnProperty("isUsingGlobalItemData")&&this.dialogData.isUsingGlobalItemData,this.dialogData.hasOwnProperty("currentLang")&&(this.editingLanguage.code=this.dialogData.currentLang.code,this.editingLanguage.name=this.dialogData.currentLang.name),this.currentMode=this.dialogData.mode||"",this.dialogData&&(this.dialogData.ctlListCmpFactory&&(this._ctlListManagerCmpFactory=this.dialogData.ctlListCmpFactory||null),this.structureList=this.dialogData.structure.map((function(e,a){var n="";e.element_type===d.p.CHECKBOX&&(n=!1),t.currentComponentId=e.component_id,t.currentComponentName=e.component_name;var i=e.element_value;if(t.dialogData.hasOwnProperty("currentValue")&&t.dialogData.currentValue&&t.dialogData.currentValue.hasOwnProperty("props")){var r=t.dialogData.currentValue.props||[];if(r.length>0){var o=r.find((function(t){return t.id===e.id}));if(o&&o.hasOwnProperty("element_value")){var l=JSON.parse(o.element_value)||{};l.hasOwnProperty("helper")&&"url"===l.helper&&l.hasOwnProperty("selectedPageId")&&l.selectedPageId&&(i=Object.assign({},JSON.parse(e.element_value)||{}),i.selectedPageId=l.selectedPageId)}}}return{is_represent_item:0===a,name:e.name,variable_name:e.variable_name,element_type:e.element_type,element_value:i,option_type:e.option_type,option_value:n,is_required:e.is_required,prop_id:e.prop_id,component_id:e.component_id,ctrl_list_count:0}})),this.dialogData.mode===d.j.UPDATE&&(this.selectedItem=this.dialogData.currentValue,this.selectedItem&&this.structureList.map((function(e,a){var n=t.selectedItem.props.filter((function(t){return t.prop_id===e.prop_id}));n.length>0&&(e.option_value=n[0].option_value,n[0].miscInfo&&(e.info=Object.assign({},n[0].miscInfo),e.info.src=t._cmn.getResxPath(e.info.src)),/(.)(jpg|png|gif)/gi.test(e.option_value)?e.type="image":/(.)(mp4|wmv|webm|avi|mkv)/gi.test(e.option_value)?e.type="video":e.type="file",e.element_type===d.p.CONTROL_LIST&&(e.ctrl_list_count=JSON.parse(n[0].option_value||"[]").length),e.element_type===d.p.MAP_COORDINATE&&(function(e,a){setTimeout((function(){t.mapElement.length>0&&t.mapElement.map((function(t){t.cmpIndex===a&&t.changeCoordinate(e.option_value)}))}),100)})(e,a),e.element_type===d.p.CHECKBOX&&(e.option_value?"number"==typeof e.option_value?e.option_value=1===e.option_value:"string"==typeof e.option_value?e.option_value=/(true|1)/gi.test(e.option_value):e.option_value=!0:e.option_value=!1))}))),this.originalData=JSON.stringify(this.structureList.map((function(t){return{option_value:t.option_value}})))),!this._ctlListManagerCmpFactory){var e=this._dlg.getCmpFactory()||[],a=e.filter((function(t){return"[cmp-control-list-manager]"===t.selector}));a.length?this._ctlListManagerCmpFactory=a[0]:this._ctlListManagerCmpFactory=this._resolver.resolveComponentFactory(r)}if(this.allowAllPropType=this._currentWorkingMode===d.d.STRUCTURE||!this.editingLanguage.code,this.isUsingGlobalItemData){this.dialogData.mode===d.j.UPDATE&&(this.selectedGlobalItemId=this.dialogData.selectedGlobalItemId,this.selectedGlobalItemName=this.dialogData.selectedGlobalItemName);var n=Object.assign({},u.a.url.sites.getSiteGlobalsByComponentId);n.url=n.url.replace(/(:id)/,this.currentSiteId),n.url=n.url.replace(/(:componentId)/,this.currentComponentId),this._req.doRequest(n).subscribe((function(e){e.result&&(t.originalGlobalItemList=e.data,t.globalItemList=e.data.map((function(t){return{id:t.id,name:t.name}})),t.ctrlSelector.forEach((function(e){"txtTargetGlobalItem"===e.inputElem.attr("id")&&e.initPlugin(t.globalItemList)}))),t.globalItemsLoaded=!0,setTimeout((function(){t.resizeDialog()}),0)}),(function(){t.globalItemsLoaded=!0,setTimeout((function(){t.resizeDialog()}),0)}))}},e.prototype.ngOnDestroy=function(){this._infoSub.unsubscribe()},e.prototype.initCustomDirectives=function(){var t=this;setTimeout((function(){t.diTextEditor.length>0&&t.diTextEditor.forEach((function(t){t.initPlugin()})),setTimeout((function(){t.resizeDialog()}),400)}),0)},e.prototype.selectAndUpload=function(t,e){var a=this,n={title:{key:"dialog.file_upload"},expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._fileUploaderCmpFactory,dialogData:{selectedItem:e},afterClose:function(t){t&&t.selectedFile&&(e.option_value=t.selectedFile,/(.)(jpe?g|png|gif|svg)/gi.test(e.option_value)?(e.changing=!0,e.type="image",e.option_value=e.option_value.replace(/([.]\/)/g,""),e.info={},a._cmn.getImageInfo(e.option_value).subscribe((function(t){e.changing=!1,e.info={src:t.src,width:t.width,height:t.height},setTimeout((function(){a.resizeDialog()}),0)}),(function(){e.info.notFound=!0}))):/(.)(mp4|wmv|webm|avi|mkv)/gi.test(e.option_value)?e.type="video":e.type="file")}};this._dlg.open(n)},e.prototype.saveAndClose=function(){this.saveValue(!0)},e.prototype.saveValue=function(t){var e=0;if(this.structureList.map((function(t){t.is_required&&!t.option_value?(e+=1,t.error_field=!0):t.error_field=!1})),0===e||this.isUsingGlobalItemData){var a=this.structureList.slice(0).map((function(t){return t.element_type===d.p.CHECKBOX&&(t.option_value=t.option_value.toString()),{miscInfo:t.info||null,option_value:t.option_value,element_value:t.element_value,prop_id:t.prop_id}}));this.closeDialog(!1,{objectName:this.objectName,itemValue:a,usingGlobalItemId:this.selectedGlobalItemId,usingGlobalItemName:this.selectedGlobalItemName,closeToRoot:t,controlStructure:this.structureList})}else this._snc.open({message:"Please enter all required fields (label with *)",type:d.k.ERROR})},e.prototype.confirmClose=function(){var t=this,e=!1;if(JSON.stringify(this.structureList.map((function(t){return{option_value:t.option_value}})))!==this.originalData&&(e=!0),e){var a={title:"dialog.close_warning",expandableDialog:!0,dialogCssClass:"size-md",template:{key:"message.unsaved_data_warning"},buttons:[{text:{key:"common.yes"},cssClass:"btn-danger",materialIcon:"done",closeWhenClick:!0,activateClickAfterClose:!0,onClick:function(){t.closeDialog()}},{text:{key:"common.no"},cssClass:"btn-secondary",materialIcon:"clear",closeWhenClick:!0}]};this.openDialog(a)}else this.closeDialog()},e.prototype.manageControlList=function(t,e){var a=this,n=JSON.parse(e.element_value||"{}");if(n.selectedControlId){var i=e.option_value||e.translated_text,r={key:"dialog.control_list",param:{language:this.editingLanguage.name?"("+this.editingLanguage.name+")":""}},o={title:r,noCloseButton:!0,expandableDialog:!0,dialogCssClass:"size-xlg",useCustomButtons:!0,hasTopPanel:!0,componentFactory:this._ctlListManagerCmpFactory,dialogData:{controlId:n.selectedControlId,optionValue:i,savedStructure:n.propStructure||null,currentLang:this.editingLanguage,contentMode:this.isContentMode},afterClose:function(t){t&&t.optionValue&&(e.option_value=t.optionValue,n.propStructure=Object.assign([],t.propStructure),e.ctrl_list_count=JSON.parse(e.option_value||"[]").length,e.element_value=JSON.stringify(Object.assign({},n))),t&&t.closeToRoot&&a.saveValue(t.closeToRoot)}};this._dlg.open(o)}},e.prototype.textValueHandler=function(t,e){if(t&&t.hasOwnProperty("value")&&t.hasOwnProperty("settings")){e.option_value=t.value;var a={};try{a=JSON.parse(e.element_value||"{}")}catch(t){a=e.element_value||{}}var n=Object.assign({},a,t.settings);e.element_value=JSON.stringify(n)}},e.prototype.removeFile=function(t,e){e.info=null,e.type=null,e.option_value=""},e.prototype.selectTargetGlobalItem=function(t){var e=this;this.selectedGlobalItemId=t.id,this.selectedGlobalItemName=t.name,setTimeout((function(){e.resizeDialog()}),0)},e.prototype.removeTargetGlobalItem=function(t){var e=this;t.preventDefault(),this.selectedGlobalItemId="",this.selectedGlobalItemName="",setTimeout((function(){$("#txtTargetGlobalItem").focus(),e.resizeDialog()}),0)};var r;return n.b([a.i(i._16)(l.a),n.c("design:type",i._17)],e.prototype,"diTextEditor",void 0),n.b([a.i(i._16)(g.a),n.c("design:type",i._17)],e.prototype,"ctrlSelector",void 0),n.b([a.i(i._16)(p.a),n.c("design:type",i._17)],e.prototype,"mapElement",void 0),e=r=n.b([a.i(i._14)({selector:"[cmp-property-editor]",template:a(674),entryComponents:[c.a]}),n.c("design:paramtypes",[i.h,o.a,s.a,i.Q,m.a])],e)})(r.a)},94:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(16),o=a(36),l=a(12),s=a(19),c=a(9),d=a(187);a.d(e,"a",(function(){return p}));var p=(function(t){function e(e,a,n,i,r){var o=t.call(this,e)||this;return o.appRef=a,o._cmn=n,o._req=i,o._orderByFilter=r,o.externalUrl="",o.selectedUrl="",o.selectedPageUrl="",o.selectedPageId="",o.isBusy=!0,o.sitesList=[],o.selectedSiteId="",o.pageNameSearch="",o.pagesList=[],o.pageInitReady=!1,o.existingData={id:"",url:""},o.workMode=c.d.CONTENT,o}return n.a(e,t),e.prototype.ngOnInit=function(){var t=this;this.sitesList=this.appRef.components[0].instance._siteList,this._infoSub=this._cmn.getInfo().subscribe((function(e){t.workMode=e.workMode||c.d.CONTENT,t.workMode===c.d.STRUCTURE?(t.sitesList=e.siteList||[],0===t.sitesList.length&&(t.sitesList=t.appRef.components[0].instance._siteList),t.sitesList.length>0?(t.selectedSiteId=t.sitesList[0].id,t.pageInitReady?t.isBusy=!1:t.selectedSiteChange()):t.isBusy=!1):(t.selectedSiteId=e.currentSiteId,t.selectedSiteChange())})),this._cmn.setInfo({trigger:!0})},e.prototype.ngOnDestroy=function(){this._infoSub.unsubscribe()},e.prototype.selectedSiteChange=function(){var t=this,e=Object.assign({},r.a.url.sites.getPages);e.url=e.url.replace(/(:id)/g,this.selectedSiteId),this._req.doRequest(e).subscribe((function(e){if(t.pagesList=e.data,t._orderByFilter.transform(t.pagesList,["name"]),!t.pageInitReady&&t.dialogData.optionValue&&t.pagesList.length){var a=t.pagesList.filter((function(e){return e.id===t.dialogData.optionValue}));a.length>0?t.dialogData.settings?(t.pagesList=t.pagesList.filter((function(t){return t.id!==a[0].id})),t.pagesList.unshift(a[0]),t.selectedPageUrl=a[0].friendly_url,t.selectedPageId=a[0].id):t.externalUrl=t.dialogData.optionValue:(a=t.pagesList.filter((function(e){return e.friendly_url===t.dialogData.optionValue})),0===a.length?t.externalUrl=t.dialogData.optionValue:t.dialogData.settings?(t.pagesList=t.pagesList.filter((function(t){return t.id!==a[0].id})),t.pagesList.unshift(a[0]),t.selectedPageUrl=a[0].friendly_url,t.selectedPageId=a[0].id):t.externalUrl=t.dialogData.optionValue)}t.isBusy=!1,t.pageInitReady=!0,setTimeout((function(){t.resizeDialog()}),0)}),(function(){t.isBusy=!1,t.pageInitReady=!0,setTimeout((function(){t.resizeDialog()}),0)}))},e.prototype.getExistingSite=function(){this.dialogData.settings&&this.dialogData.settings.selectedPageId&&(this.selectedPageId=this.dialogData.settings.selectedPageId)},e.prototype.setSelectedPage=function(t,e){e.selected?(e.selected=!1,this.selectedPageId="",this.selectedPageUrl=""):(this.pagesList.map((function(t){t.selected=!1})),e.selected=!0,this.selectedPageId=e.id,this.selectedPageUrl=e.friendly_url)},e.prototype.selectPage=function(){this.closeDialog(!1,{selectedPageId:this.externalUrl?null:this.selectedPageId,selectedUrl:$.trim(this.externalUrl||this.selectedPageUrl),externalUrlUsed:!!this.externalUrl})},e=n.b([a.i(i._14)({selector:"[cmp-page-url-selector]",template:a(673)}),n.c("design:paramtypes",[i.h,i.j,l.a,s.a,d.a])],e)})(o.a)},95:function(t,e,a){"use strict";var n=a(4),i=a(2),r=a(27);a.d(e,"a",(function(){return o}));var o=(function(){function t(t,e){this._translate=e,this.labelPosition="left",this._toggle=$(t.nativeElement)}return t.prototype.ngOnInit=function(){var t=this;setTimeout((function(){t.elementStyleHandler()}),100)},t.prototype.ngAfterViewInit=function(){"INPUT"===this._toggle.get(0).tagName&&"checkbox"===this._toggle.attr("type")&&(this.elementBuilder(),this.elementEventHandler(),this.elementStyleHandler())},t.prototype.setNewText=function(t){this._toggle.data("checked-label",t.checkedText||""),this._toggle.data("unchecked-label",t.uncheckedText||""),this._toggle.is(":checked")?this._toggle.data("checked-label")&&this._container.find(".toggle-element-label").text(this._toggle.data("checked-label")):this._toggle.data("unchecked-label")&&this._container.find(".toggle-element-label").text(this._toggle.data("unchecked-label"))},t.prototype.getElemId=function(){return this._toggle.attr("id")},t.prototype.reValidateText=function(){var t=this;setTimeout((function(){t._toggle.is(":checked")?t._toggle.data("checked-label")&&t._container.find(".toggle-element-label").text(t._toggle.data("checked-label")):t._toggle.data("unchecked-label")&&t._container.find(".toggle-element-label").text(t._toggle.data("unchecked-label"))}),0)},t.prototype.elementStyleHandler=function(){var t,e,a;this.toggleStyle&&(this._toggle.is(":disabled")||(this._toggle.is(":checked")?(t=this.toggleStyle.checkedStyle?this.toggleStyle.checkedStyle.barColor||"":"",e=this.toggleStyle.checkedStyle?this.toggleStyle.checkedStyle.buttonColor||"":"",this.toggleStyle.labelStyle&&(a=this.toggleStyle.labelStyle.checked||"")):(t=this.toggleStyle.normalStyle?this.toggleStyle.normalStyle.barColor||"":"",e=this.toggleStyle.normalStyle?this.toggleStyle.normalStyle.buttonColor||"":"",this.toggleStyle.labelStyle&&(a=this.toggleStyle.labelStyle.normal||""))),t?this._container.find(".box-style-wrapper .toggle-bar").css("background-color",t):this._container.find(".box-style-wrapper .toggle-bar").get(0).style.backgroundColor=null,e?this._container.find(".box-style-wrapper .toggle-slide").css("background-color",e):this._container.find(".box-style-wrapper .toggle-slide").get(0).style.backgroundColor=null,this._container.find(".effect-wrapper .toggle-element-label").length>0&&(a?this._container.find(".effect-wrapper .toggle-element-label").css("color",a):this._container.find(".effect-wrapper .toggle-element-label").get(0).style.color=null),this._container.find(".chkbox-ink").length>0&&(this.toggleStyle.rippleColor?this._container.find(".chkbox-ink").css("background-color",this.toggleStyle.rippleColor):this._container.find(".chkbox-ink").get(0).style.backgroundColor=null))},t.prototype.elementEventHandler=function(){var t=this;this._toggle.on("change.md-toggle",(function(){var e=t._container.find(".ripper-helper .ripper-block");0===e.find(".chkbox-ink").length&&e.prepend('<span class="chkbox-ink"></span>');var a=e.find(".chkbox-ink");if(e.hasClass("ripple-light")&&a.addClass("light"),a.removeClass("animate"),!a.height()&&!a.width()){var n=Math.max(e.outerWidth(),e.outerHeight());a.css({height:n,width:n})}a.css({"margin-left":a.width()/2*-1,"margin-top":a.height()/2*-1}).addClass("animate"),t.elementStyleHandler(),t._toggle.is(":checked")?t._toggle.data("checked-label")&&t._container.find(".toggle-element-label").text(t._toggle.data("checked-label")):t._toggle.data("unchecked-label")&&t._container.find(".toggle-element-label").text(t._toggle.data("unchecked-label"))}))},t.prototype.elementBuilder=function(){var t=this;if(this._toggle.addClass("md-toggle-element"),this._toggle.wrap('<div class="md-toggle-wrapper"></div>'),this._container=this._toggle.parent(),this._container.append('<div class="effect-wrapper"></div>'),this.labelPosition&&this._container.addClass("label-right"),this._container.find(".effect-wrapper").append('<div class="box-style-wrapper"></div>'),this._container.find(".box-style-wrapper").append('<div class="toggle-bar"></div>'),this._container.find(".box-style-wrapper").append('<div class="toggle-slide"></div>'),this._container.find(".toggle-slide").append('<div class="ripper-helper"></div>'),this._container.find(".toggle-slide .ripper-helper").append('<div class="ripper-block"></div>'),this._container.find(".toggle-slide").append('<div class="slide-box"></div>'),this.labelText||this.checkedLabelText||this.uncheckedLabelText){var e=[this.labelText||"",this.checkedLabelText||"",this.uncheckedLabelText||""];this._translate.get(e).subscribe((function(e){var a="";t.labelText?a=e[0]:t.checkedLabelText&&t.uncheckedLabelText&&(a="boolean"==typeof t.initModel&&t.initModel||"number"==typeof t.initModel&&t.initModel>=1||/(true|1)/gi.test(t.initModel)?e[t.checkedLabelText]:e[t.uncheckedLabelText],t._toggle.data("checked-label",e[t.checkedLabelText]),t._toggle.data("unchecked-label",e[t.uncheckedLabelText])),a&&("left"===t.labelPosition.toLocaleLowerCase()?t._container.find(".effect-wrapper").prepend('<label class="toggle-element-label">'+a+"</label>"):t._container.find(".effect-wrapper").append('<label class="toggle-element-label">'+a+"</label>"))}))}this._toggle.hasClass("inline-block")&&this._container.addClass("inline-block")},n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"labelText",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"checkedLabelText",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"uncheckedLabelText",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"toggleStyle",void 0),n.b([a.i(i.O)(),n.c("design:type",String)],t.prototype,"labelPosition",void 0),n.b([a.i(i.O)(),n.c("design:type",Object)],t.prototype,"initModel",void 0),t=n.b([a.i(i.J)({selector:"[md-toggle]"}),n.c("design:paramtypes",[i.M,r.d])],t)})()}},[470]);