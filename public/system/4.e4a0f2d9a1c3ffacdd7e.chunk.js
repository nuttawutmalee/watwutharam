webpackJsonp([4],{1010:function(t,e){t.exports='<div class="form-wrapper">\r\n\t<form #redirectRuleForm="ngForm" novalidate id="fmRedirectRule" (ngSubmit)="onSubmit()">\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': sourceUrl.errors && (sourceUrl.dirty || sourceUrl.touched) }">\r\n\t\t\t\t\t<label for="txtSourceUrl" class="required">{{ \'form.redirect_rule.source_url\' | translate }}</label>\r\n\t\t\t\t\t<input type="text" [(ngModel)]="_obj.source" class="form-control" id="txtSourceUrl" placeholder="{{ \'form.redirect_rule.source_url\' | translate }}" name="source_url" #sourceUrl="ngModel" required autofocus minlength="3" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': destinationUrl.errors && (destinationUrl.dirty || destinationUrl.touched) }">\r\n\t\t\t\t\t<label for="txtDestinationUrl" class="required">{{ \'form.redirect_rule.destination_url\' | translate }}</label>\r\n\t\t\t\t\t<input type="text" [(ngModel)]="_obj.destination" class="form-control" id="txtDestinationUrl" placeholder="{{ \'form.redirect_rule.destination_url\' | translate }}" name="destination_url" #destinationUrl="ngModel" required minlength="3" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12 col-md-8">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="txtStatusCode">{{ \'form.redirect_rule.status_code\' | translate }}</label>\r\n\t\t\t\t\t<input type="number" min="301" max="399" [(ngModel)]="_obj.status_code" class="form-control" id="txtStatusCode" placeholder="{{ \'form.redirect_rule.status_code\' | translate }}" name="status_code" #statusCode="ngModel" maxlength="3" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12 col-md-6">\r\n\t\t\t\t<div class="form-group" [ngClass]="{ \'has-danger\': ownerSite.errors && (ownerSite.dirty || ownerSite.touched) }">\r\n\t\t\t\t\t<label for="ddlSite" class="required">{{ \'form.item.belong_to_site\' | translate }}</label>\r\n\t\t\t\t\t<select id="ddlSite" class="form-control" name="site" [(ngModel)]="_obj.site" required #ownerSite="ngModel">\r\n\t\t\t\t\t\t<option *ngFor="let item of _sitesList" [ngValue]="item.id">{{ item.domain_name | translate }}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="clearfix"></div>\r\n\t\t\t<div class="col-12 col-md-6">\r\n\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t<label for="chkActive">{{ \'form.property.active_status\' | translate }}</label>\r\n\t\t\t\t\t<input type="checkbox" id="chkActive" name="active" \r\n\t\t\t\t\t\tclass="inline-block"\r\n\t\t\t\t\t\tmd-toggle [(ngModel)]="_obj.is_active"\r\n\t\t\t\t\t\t[initModel]="_obj.is_active"\r\n\t\t\t\t\t\t[checkedLabelText]="\'common.active\'"\r\n\t\t\t\t\t\t[uncheckedLabelText]="\'common.inactive\'"\r\n\t\t\t\t\t\t[labelPosition]="\'right\'" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="button-panel clearfix">\t\t\t\r\n\t\t\t<button type="button" class="btn btn-secondary" ripple (click)="cancelProcess(redirectRuleForm)">\r\n\t\t\t\t<i class="material-icons">clear</i><span>{{ \'common.cancel\' | translate }}</span>\r\n\t\t\t</button>\r\n\r\n\t\t\t<button type="submit" class="btn btn-primary" ripple [disabled]="!redirectRuleForm.form.valid || _submitting">\r\n\t\t\t\t<i class="material-icons">save</i><span>{{ \'common.save\' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</form>\r\n\t<div class="form-busy-layer" [ngClass]="{ \'working\': _submitting }" >\r\n\t\t<span input-loader [size]="\'48px\'"></span>\r\n\t</div>\r\n</div>'},947:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(996);i.d(e,"RedirectUrlsModule",(function(){return a.a}))},951:function(t,e,i){"use strict";var a=i(19),r=i(26),s=i(12),n=i(35);i.d(e,"a",(function(){return o}));var o=(function(){function t(t){this._inj=t,this._pageTitle="",this._siteList=[],this._reqSvc=this._inj.get(a.a),this._router=this._inj.get(r.c),this._cmn=this._inj.get(s.a),this._dlg=this._inj.get(n.a)}return t.prototype.ngOnInit=function(){this._cmn.setInfo({navList:[]})},t.prototype.ngOnDestroy=function(){},t})()},952:function(t,e){t.exports='<div class="cmp-container">\r\n\t<router-outlet></router-outlet>\r\n</div>\r\n'},966:function(t,e,i){"use strict";var a=i(4),r=i(2),s=i(36),n=i(9),o=i(16),l=i(19),c=i(29);i.d(e,"a",(function(){return d}));var d=(function(t){function e(e,i,a){var r=t.call(this,e)||this;return r._reqSvc=i,r._sncBar=a,r._obj={id:"",source:"",destination:"",status_code:301,site:"",is_active:!0},r._sitesList=[],r._submitting=!1,r}return a.a(e,t),e.prototype.ngOnInit=function(){this._sitesList.push({name:"form.item.select_site",value:""}),this.dialogData.siteList&&(this._sitesList=this.dialogData.siteList,!this._obj.site&&this._sitesList.length>0&&(this._obj.site=this._sitesList[0].id)),this.dialogData.itemId&&(this._obj.id=this.dialogData.itemId),this.dialogData.selectedData&&(this._obj.source=this.dialogData.selectedData.source_url,this._obj.destination=this.dialogData.selectedData.destination_url,this._obj.status_code=this.dialogData.selectedData.status_code,this._obj.site=this.dialogData.selectedData.site_id,this._obj.is_active=this.dialogData.selectedData.is_active)},e.prototype.onSubmit=function(){var t=this,e=this.dialogData.id?n.j.UPDATE:n.j.CREATE,i=e===n.j.CREATE?Object.assign({},o.a.url.redirectUrl.create):Object.assign({},o.a.url.redirectUrl.update),a={};i&&(this._submitting=!0,e===n.j.CREATE?(a.source_url=this._obj.source,a.destination_url=this._obj.destination,a.site_id=this._obj.site,a.status_code=this._obj.status_code,a.is_active=this._obj.is_active):(i.url=i.url.replace(/(:id)/g,this.dialogData.id),a.data={source_url:this._obj.source,destination_url:this._obj.destination,site_id:this._obj.site,status_code:this._obj.status_code,is_active:this._obj.is_active}),this._reqSvc.doRequest(i,{postData:a,contentType:n.a.FORM}).subscribe((function(i){t._submitting=!1;var a;if((a=i.data)&&t.dialogData.hasOwnProperty("datatable"))if(e===n.j.CREATE&&"function"==typeof t.dialogData.datatable.addRow){var r={id:a.id,source_url:a.source_url,destination_url:a.destination_url,status_code:a.status_code,site_id:a.site_id};t.dialogData.datatable.addRow(r)}else e===n.j.UPDATE&&"function"==typeof t.dialogData.datatable.updateRow&&t.dialogData.datatable.updateRow(a);t.closeDialog();var s={message:e===n.j.CREATE?"message.redirect_rule_added":"message.redirect_rule_updated",duration:4e3,autoClose:!0};t._sncBar.open(s)}),(function(e){t._submitting=!1;var i={message:e.message,type:n.k.ERROR,duration:4e3,autoClose:!0};t._sncBar.open(i)})))},e.prototype.cancelProcess=function(t){var e=this;if(t.dirty){var i={title:"dialog.close_warning",expandableDialog:!0,dialogCssClass:"size-md",template:{key:"message.unsaved_data_warning"},buttons:[{text:{key:"common.yes"},cssClass:"btn-danger",materialIcon:"done",closeWhenClick:!0,activateClickAfterClose:!0,onClick:function(){e.closeDialog()}},{text:{key:"common.no"},cssClass:"btn-secondary",materialIcon:"clear",closeWhenClick:!0}]};this.openDialog(i)}else this.closeDialog()},e=a.b([i.i(r._14)({selector:"[cmp-redirect-rule-url]",template:i(1010)}),a.c("design:paramtypes",[r.h,l.a,c.a])],e)})(s.a)},967:function(t,e,i){"use strict";var a=i(4),r=i(2),s=i(419),n=i(9),o=i(16),l=i(966);i.d(e,"a",(function(){return c}));var c=(function(t){function e(e){var i=t.call(this,e)||this;return i._customDetailCmpFactory=i._resolver.resolveComponentFactory(l.a),i.moduleType=n.l.REDIRECT_URL,i.pageType=n.x.MAIN_LIST,i.tableType=n.y.MODULE,i.addButtonText="module_type.redirect_url",i.moduleTypeName=i.moduleType.replace(/(_)/g," "),i.hasFilterBySite=!0,i}return a.a(e,t),e.prototype.ngOnInit=function(){var t=this;this._cmn.setInfo({navList:[],pageTitle:"app_nav.redirect_urls",topBarButtonList:[{btnText:"button.new_redirect_rule",btnIcon:"add",btnClass:"btn-primary",onClick:function(){t.addNewItem()}}]})},e.prototype.ngAfterViewInit=function(){var t=this;this._reqSvc.doRequest(o.a.url.redirectUrl.getAll).subscribe((function(e){if(e.result){var i={data:e.data,columns:[{data:"source_url",title:"Source Url"},{data:"destination_url",title:"Destination Url"},{data:"status_code",title:"Status Code"},{title:"Site",searchable:!1,render:function(t,e,i){return i.site.domain_name}},{title:"",orderable:!1,searchable:!1,render:function(t,e,i){return'<div class="table-icon-wrapper"><a class="table-item-icon" role="edit" aria-function="edit-item" data-item-id="'+i.id+'"><i class="material-icons">edit</i></a><a class="table-item-icon" role="delete" aria-function="delete-item" data-item-id="'+i.id+'"><i class="material-icons">delete</i></a></div>'}}]};t.initTable(i)}}))},e=a.b([i.i(r._14)({selector:"[cmp-redirect-url]",template:i(420)}),a.c("design:paramtypes",[r.h])],e)})(s.a)},980:function(t,e,i){"use strict";var a=i(4),r=i(2),s=i(951),n=i(119),o=i(967),l=i(120),c=i(966);i.d(e,"a",(function(){return d}));var d=(function(t){function e(e){var i=t.call(this,e)||this;return i._pageTitle="module_type.redirect_url",i}return a.a(e,t),e.prototype.ngOnInit=function(){},e=a.b([i.i(r._14)({selector:"cmp-redirect-urls",template:i(952),entryComponents:[l.a,n.a,o.a,c.a]}),a.c("design:paramtypes",[r.h])],e)})(s.a)},996:function(t,e,i){"use strict";var a=i(4),r=i(90),s=i(422),n=i(2),o=i(26),l=i(997),c=i(980),d=i(421),u=i(967),_=i(966);i.d(e,"a",(function(){return m}));var m=(function(){function t(){}return t.routes=l.a,t=a.b([i.i(n.z)({declarations:[c.a,u.a,_.a],imports:[r.e,s.a,d.a,o.a.forChild(l.a)]})],t)})()},997:function(t,e,i){"use strict";var a=i(980),r=i(967);i.d(e,"a",(function(){return s}));var s=[{path:"",component:a.a,children:[{path:"",component:r.a}]}]}});